function iC(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function sC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function rC(){if(cT)return lu;cT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return lu.Fragment=t,lu.jsx=n,lu.jsxs=n,lu}var hT;function aC(){return hT||(hT=1,tp.exports=rC()),tp.exports}var C=aC(),ep={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function oC(){if(fT)return xt;fT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,L={};function O(k,it,pt){this.props=k,this.context=it,this.refs=L,this.updater=pt||x}O.prototype.isReactComponent={},O.prototype.setState=function(k,it){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,it,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function B(){}B.prototype=O.prototype;function H(k,it,pt){this.props=k,this.context=it,this.refs=L,this.updater=pt||x}var K=H.prototype=new B;K.constructor=H,V(K,O.prototype),K.isPureReactComponent=!0;var et=Array.isArray,X={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function P(k,it,pt,ct,ht,Ct){return pt=Ct.ref,{$$typeof:e,type:k,key:it,ref:pt!==void 0?pt:null,props:Ct}}function w(k,it){return P(k.type,it,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function D(k){var it={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pt){return it[pt]})}var M=/\/+/g;function F(k,it){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):it.toString(36)}function N(){}function ne(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(it){k.status==="pending"&&(k.status="fulfilled",k.value=it)},function(it){k.status==="pending"&&(k.status="rejected",k.reason=it)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ie(k,it,pt,ct,ht){var Ct=typeof k;(Ct==="undefined"||Ct==="boolean")&&(k=null);var Rt=!1;if(k===null)Rt=!0;else switch(Ct){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(k.$$typeof){case e:case t:Rt=!0;break;case v:return Rt=k._init,ie(Rt(k._payload),it,pt,ct,ht)}}if(Rt)return ht=ht(k),Rt=ct===""?"."+F(k,0):ct,et(ht)?(pt="",Rt!=null&&(pt=Rt.replace(M,"$&/")+"/"),ie(ht,it,pt,"",function(ue){return ue})):ht!=null&&(R(ht)&&(ht=w(ht,pt+(ht.key==null||k&&k.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+Rt)),it.push(ht)),1;Rt=0;var Ee=ct===""?".":ct+":";if(et(k))for(var Ft=0;Ft<k.length;Ft++)ct=k[Ft],Ct=Ee+F(ct,Ft),Rt+=ie(ct,it,pt,Ct,ht);else if(Ft=b(k),typeof Ft=="function")for(k=Ft.call(k),Ft=0;!(ct=k.next()).done;)ct=ct.value,Ct=Ee+F(ct,Ft++),Rt+=ie(ct,it,pt,Ct,ht);else if(Ct==="object"){if(typeof k.then=="function")return ie(ne(k),it,pt,ct,ht);throw it=String(k),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function ot(k,it,pt){if(k==null)return k;var ct=[],ht=0;return ie(k,ct,"","",function(Ct){return it.call(pt,Ct,ht++)}),ct}function ut(k){if(k._status===-1){var it=k._result;it=it(),it.then(function(pt){(k._status===0||k._status===-1)&&(k._status=1,k._result=pt)},function(pt){(k._status===0||k._status===-1)&&(k._status=2,k._result=pt)}),k._status===-1&&(k._status=0,k._result=it)}if(k._status===1)return k._result.default;throw k._result}var lt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Lt(){}return xt.Children={map:ot,forEach:function(k,it,pt){ot(k,function(){it.apply(this,arguments)},pt)},count:function(k){var it=0;return ot(k,function(){it++}),it},toArray:function(k){return ot(k,function(it){return it})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},xt.Component=O,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=H,xt.StrictMode=s,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,xt.act=function(){throw Error("act(...) is not supported in production builds of React.")},xt.cache=function(k){return function(){return k.apply(null,arguments)}},xt.cloneElement=function(k,it,pt){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ct=V({},k.props),ht=k.key,Ct=void 0;if(it!=null)for(Rt in it.ref!==void 0&&(Ct=void 0),it.key!==void 0&&(ht=""+it.key),it)!rt.call(it,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&it.ref===void 0||(ct[Rt]=it[Rt]);var Rt=arguments.length-2;if(Rt===1)ct.children=pt;else if(1<Rt){for(var Ee=Array(Rt),Ft=0;Ft<Rt;Ft++)Ee[Ft]=arguments[Ft+2];ct.children=Ee}return P(k.type,ht,void 0,void 0,Ct,ct)},xt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},xt.createElement=function(k,it,pt){var ct,ht={},Ct=null;if(it!=null)for(ct in it.key!==void 0&&(Ct=""+it.key),it)rt.call(it,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(ht[ct]=it[ct]);var Rt=arguments.length-2;if(Rt===1)ht.children=pt;else if(1<Rt){for(var Ee=Array(Rt),Ft=0;Ft<Rt;Ft++)Ee[Ft]=arguments[Ft+2];ht.children=Ee}if(k&&k.defaultProps)for(ct in Rt=k.defaultProps,Rt)ht[ct]===void 0&&(ht[ct]=Rt[ct]);return P(k,Ct,void 0,void 0,null,ht)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(k){return{$$typeof:d,render:k}},xt.isValidElement=R,xt.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:ut}},xt.memo=function(k,it){return{$$typeof:p,type:k,compare:it===void 0?null:it}},xt.startTransition=function(k){var it=X.T,pt={};X.T=pt;try{var ct=k(),ht=X.S;ht!==null&&ht(pt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Lt,lt)}catch(Ct){lt(Ct)}finally{X.T=it}},xt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},xt.use=function(k){return X.H.use(k)},xt.useActionState=function(k,it,pt){return X.H.useActionState(k,it,pt)},xt.useCallback=function(k,it){return X.H.useCallback(k,it)},xt.useContext=function(k){return X.H.useContext(k)},xt.useDebugValue=function(){},xt.useDeferredValue=function(k,it){return X.H.useDeferredValue(k,it)},xt.useEffect=function(k,it){return X.H.useEffect(k,it)},xt.useId=function(){return X.H.useId()},xt.useImperativeHandle=function(k,it,pt){return X.H.useImperativeHandle(k,it,pt)},xt.useInsertionEffect=function(k,it){return X.H.useInsertionEffect(k,it)},xt.useLayoutEffect=function(k,it){return X.H.useLayoutEffect(k,it)},xt.useMemo=function(k,it){return X.H.useMemo(k,it)},xt.useOptimistic=function(k,it){return X.H.useOptimistic(k,it)},xt.useReducer=function(k,it,pt){return X.H.useReducer(k,it,pt)},xt.useRef=function(k){return X.H.useRef(k)},xt.useState=function(k){return X.H.useState(k)},xt.useSyncExternalStore=function(k,it,pt){return X.H.useSyncExternalStore(k,it,pt)},xt.useTransition=function(){return X.H.useTransition()},xt.version="19.0.0",xt}var dT;function Cg(){return dT||(dT=1,ep.exports=oC()),ep.exports}var z=Cg();const te=sC(z),lC=iC({__proto__:null,default:te},[z]);var np={exports:{}},uu={},ip={exports:{}},sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function uC(){return mT||(mT=1,function(e){function t(ot,ut){var lt=ot.length;ot.push(ut);t:for(;0<lt;){var Lt=lt-1>>>1,k=ot[Lt];if(0<a(k,ut))ot[Lt]=ut,ot[lt]=k,lt=Lt;else break t}}function n(ot){return ot.length===0?null:ot[0]}function s(ot){if(ot.length===0)return null;var ut=ot[0],lt=ot.pop();if(lt!==ut){ot[0]=lt;t:for(var Lt=0,k=ot.length,it=k>>>1;Lt<it;){var pt=2*(Lt+1)-1,ct=ot[pt],ht=pt+1,Ct=ot[ht];if(0>a(ct,lt))ht<k&&0>a(Ct,ct)?(ot[Lt]=Ct,ot[ht]=lt,Lt=ht):(ot[Lt]=ct,ot[pt]=lt,Lt=pt);else if(ht<k&&0>a(Ct,lt))ot[Lt]=Ct,ot[ht]=lt,Lt=ht;else break t}}return ut}function a(ot,ut){var lt=ot.sortIndex-ut.sortIndex;return lt!==0?lt:ot.id-ut.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,_=null,b=3,x=!1,V=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function K(ot){for(var ut=n(p);ut!==null;){if(ut.callback===null)s(p);else if(ut.startTime<=ot)s(p),ut.sortIndex=ut.expirationTime,t(m,ut);else break;ut=n(p)}}function et(ot){if(L=!1,K(ot),!V)if(n(m)!==null)V=!0,ne();else{var ut=n(p);ut!==null&&ie(et,ut.startTime-ot)}}var X=!1,rt=-1,P=5,w=-1;function R(){return!(e.unstable_now()-w<P)}function D(){if(X){var ot=e.unstable_now();w=ot;var ut=!0;try{t:{V=!1,L&&(L=!1,B(rt),rt=-1),x=!0;var lt=b;try{e:{for(K(ot),_=n(m);_!==null&&!(_.expirationTime>ot&&R());){var Lt=_.callback;if(typeof Lt=="function"){_.callback=null,b=_.priorityLevel;var k=Lt(_.expirationTime<=ot);if(ot=e.unstable_now(),typeof k=="function"){_.callback=k,K(ot),ut=!0;break e}_===n(m)&&s(m),K(ot)}else s(m);_=n(m)}if(_!==null)ut=!0;else{var it=n(p);it!==null&&ie(et,it.startTime-ot),ut=!1}}break t}finally{_=null,b=lt,x=!1}ut=void 0}}finally{ut?M():X=!1}}}var M;if(typeof H=="function")M=function(){H(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,N=F.port2;F.port1.onmessage=D,M=function(){N.postMessage(null)}}else M=function(){O(D,0)};function ne(){X||(X=!0,M())}function ie(ot,ut){rt=O(function(){ot(e.unstable_now())},ut)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ot){ot.callback=null},e.unstable_continueExecution=function(){V||x||(V=!0,ne())},e.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ot?Math.floor(1e3/ot):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(ot){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var lt=b;b=ut;try{return ot()}finally{b=lt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ot,ut){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var lt=b;b=ot;try{return ut()}finally{b=lt}},e.unstable_scheduleCallback=function(ot,ut,lt){var Lt=e.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Lt+lt:Lt):lt=Lt,ot){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=lt+k,ot={id:v++,callback:ut,priorityLevel:ot,startTime:lt,expirationTime:k,sortIndex:-1},lt>Lt?(ot.sortIndex=lt,t(p,ot),n(m)===null&&ot===n(p)&&(L?(B(rt),rt=-1):L=!0,ie(et,lt-Lt))):(ot.sortIndex=k,t(m,ot),V||x||(V=!0,ne())),ot},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(ot){var ut=b;return function(){var lt=b;b=ut;try{return ot.apply(this,arguments)}finally{b=lt}}}}(sp)),sp}var pT;function cC(){return pT||(pT=1,ip.exports=uC()),ip.exports}var rp={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function hC(){if(gT)return Je;gT=1;var e=Cg();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,v)},Je.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},Je.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Je.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Je.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:x}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Je.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Je.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Je.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Je.requestFormReset=function(m){s.d.r(m)},Je.unstable_batchedUpdates=function(m,p){return m(p)},Je.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.0.0",Je}var yT;function vS(){if(yT)return rp.exports;yT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rp.exports=hC(),rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function fC(){if(vT)return uu;vT=1;var e=cC(),t=Cg(),n=vS();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),et=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function rt(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function w(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case m:return"Fragment";case d:return"Portal";case v:return"Profiler";case p:return"StrictMode";case L:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case x:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case V:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return r=i.displayName||null,r!==null?r:w(i.type)||"Memo";case H:r=i._payload,i=i._init;try{return w(i(r))}catch{}}return null}var R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,F;function N(i){if(M===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+i+F}var ne=!1;function ie(i,r){if(!i||ne)return"";ne=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var Y=W}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(W){Y=W}i.call(nt.prototype)}}else{try{throw Error()}catch(W){Y=W}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var I=E.split(`
`),j=S.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===j.length)for(u=I.length-1,f=j.length-1;1<=u&&0<=f&&I[u]!==j[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==j[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==j[f]){var Z=`
`+I[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{ne=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?N(o):""}function ot(i){switch(i.tag){case 26:case 27:case 5:return N(i.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return i=ie(i.type,!1),i;case 11:return i=ie(i.type.render,!1),i;case 1:return i=ie(i.type,!0),i;default:return""}}function ut(i){try{var r="";do r+=ot(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function lt(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function Lt(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function k(i){if(lt(i)!==i)throw Error(s(188))}function it(i){var r=i.alternate;if(!r){if(r=lt(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return k(f),i;if(g===u)return k(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=g;break}if(S===u){E=!0,u=f,o=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===o){E=!0,o=g,u=f;break}if(S===u){E=!0,u=g,o=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function pt(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=pt(i),r!==null)return r;i=i.sibling}return null}var ct=Array.isArray,ht=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct={pending:!1,data:null,method:null,action:null},Rt=[],Ee=-1;function Ft(i){return{current:i}}function ue(i){0>Ee||(i.current=Rt[Ee],Rt[Ee]=null,Ee--)}function Yt(i,r){Ee++,Rt[Ee]=i.current,i.current=r}var on=Ft(null),Mi=Ft(null),Dn=Ft(null),bs=Ft(null);function Ss(i,r){switch(Yt(Dn,r),Yt(Mi,i),Yt(on,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?j0(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=j0(i),r=B0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(on),Yt(on,r)}function ki(){ue(on),ue(Mi),ue(Dn)}function il(i){i.memoizedState!==null&&Yt(bs,i);var r=on.current,o=B0(r,i.type);r!==o&&(Yt(Mi,i),Yt(on,o))}function Pa(i){Mi.current===i&&(ue(on),ue(Mi)),bs.current===i&&(ue(bs),iu._currentValue=Ct)}var Na=Object.prototype.hasOwnProperty,Nr=e.unstable_scheduleCallback,Oa=e.unstable_cancelCallback,nd=e.unstable_shouldYield,sl=e.unstable_requestPaint,pn=e.unstable_now,cc=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,Me=e.unstable_UserBlockingPriority,Li=e.unstable_NormalPriority,hc=e.unstable_LowPriority,rl=e.unstable_IdlePriority,id=e.log,Or=e.unstable_setDisableYieldValue,As=null,We=null;function al(i){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(As,i,void 0,(i.current.flags&128)===128)}catch{}}function ui(i){if(typeof id=="function"&&Or(i),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(As,i)}catch{}}var ln=Math.clz32?Math.clz32:dc,ol=Math.log,fc=Math.LN2;function dc(i){return i>>>=0,i===0?32:31-(ol(i)/fc|0)|0}var ci=128,ws=4194304;function Jn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pn(i,r){var o=i.pendingLanes;if(o===0)return 0;var u=0,f=i.suspendedLanes,g=i.pingedLanes,E=i.warmLanes;i=i.finishedLanes!==0;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=Jn(o):(g&=S,g!==0?u=Jn(g):i||(E=S&~E,E!==0&&(u=Jn(E))))):(S=o&~f,S!==0?u=Jn(S):g!==0?u=Jn(g):i||(E=o&~E,E!==0&&(u=Jn(E)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,E=r&-r,f>=E||f===32&&(E&4194176)!==0)?r:u}function Rs(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Va(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(){var i=ci;return ci<<=1,(ci&4194176)===0&&(ci=128),i}function xs(){var i=ws;return ws<<=1,(ws&62914560)===0&&(ws=4194304),i}function Ma(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ge(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mc(i,r,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,I=i.expirationTimes,j=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-ln(o),nt=1<<Z;S[Z]=0,I[Z]=-1;var Y=j[Z];if(Y!==null)for(j[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}o&=~nt}u!==0&&Cs(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function Cs(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ln(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function Is(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-ln(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function pc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gc(){var i=ht.p;return i!==0?i:(i=window.event,i===void 0?32:sT(i.type))}function Ds(i,r){var o=ht.p;try{return ht.p=i,r()}finally{ht.p=o}}var hi=Math.random().toString(36).slice(2),ke="__reactFiber$"+hi,xe="__reactProps$"+hi,Ui="__reactContainer$"+hi,Vr="__reactEvents$"+hi,ka="__reactListeners$"+hi,fi="__reactHandles$"+hi,ul="__reactResources$"+hi,Ps="__reactMarker$"+hi;function Mr(i){delete i[ke],delete i[xe],delete i[Vr],delete i[ka],delete i[fi]}function ti(i){var r=i[ke];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ui]||o[ke]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=H0(i);i!==null;){if(o=i[ke])return o;i=H0(i)}return r}i=o,o=i.parentNode}return null}function ji(i){if(i=i[ke]||i[Ui]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Ns(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Os(i){var r=i[ul];return r||(r=i[ul]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function se(i){i[Ps]=!0}var cl=new Set,La={};function En(i,r){gn(i,r),gn(i+"Capture",r)}function gn(i,r){for(La[i]=r,i=0;i<r.length;i++)cl.add(r[i])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function yc(i){return Na.call(fl,i)?!0:Na.call(hl,i)?!1:sd.test(i)?fl[i]=!0:(hl[i]=!0,!1)}function Vs(i,r,o){if(yc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ms(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Nn(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vc(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rd(i){var r=vc(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function kr(i){i._valueTracker||(i._valueTracker=rd(i))}function dl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=vc(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ua(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Bi=/[\n"\\]/g;function ce(i){return i.replace(Bi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ks(i,r,o,u,f,g,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+un(r)):i.value!==""+un(r)&&(i.value=""+un(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?ja(i,E,un(r)):o!=null?ja(i,E,un(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+un(S):i.removeAttribute("name")}function Lr(i,r,o,u,f,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+un(o):"",r=r!=null?""+un(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function ja(i,r,o){r==="number"&&Ua(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ht(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+un(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Ur(i,r,o){if(r!=null&&(r=""+un(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+un(o):""}function Ls(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ct(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=un(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function On(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ad=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||ad.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function _c(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&ml(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&ml(i,g,r[g])}function pl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var od=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ld=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(i){return ld.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Vn=null;function Ba(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zi=null,Fi=null;function Hi(i){var r=ji(i);if(r&&(i=r.stateNode)){var o=i[xe]||null;t:switch(i=r.stateNode,r.type){case"input":if(ks(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ce(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[xe]||null;if(!f)throw Error(s(90));ks(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&dl(u)}break t;case"textarea":Ur(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ht(i,!!o.multiple,r,!1)}}}var gl=!1;function Tc(i,r,o){if(gl)return i(r,o);gl=!0;try{var u=i(r);return u}finally{if(gl=!1,(zi!==null||Fi!==null)&&(hh(),zi&&(r=zi,i=Fi,Fi=zi=null,Hi(r),i)))for(r=0;r<i.length;r++)Hi(i[r])}}function jr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[xe]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Mn=!1;if(bn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Mn=!1}var mi=null,Us=null,qi=null;function yl(){if(qi)return qi;var i,r=Us,o=r.length,u,f="value"in mi?mi.value:mi.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===f[g-u];u++);return qi=f.slice(i,1<u?1-u:void 0)}function pi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function gi(){return!0}function vl(){return!1}function Le(i){function r(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gi:vl,this.isPropagationStopped=vl,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),r}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Le(Kt),zr=D({},Kt,{view:0,detail:0}),Ec=Le(zr),Fa,Ha,yi,Fr=D({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yi&&(yi&&i.type==="mousemove"?(Fa=i.screenX-yi.screenX,Ha=i.screenY-yi.screenY):Ha=Fa=0,yi=i),Fa)},movementY:function(i){return"movementY"in i?i.movementY:Ha}}),kn=Le(Fr),bc=D({},Fr,{dataTransfer:0}),ud=Le(bc),Hr=D({},zr,{relatedTarget:0}),qa=Le(Hr),_l=D({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Le(_l),Sc=D({},Kt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ka=Le(Sc),cd=D({},Kt,{data:0}),Tl=Le(cd),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=wc[i])?!!r[i]:!1}function Gr(){return El}var Rc=D({},zr,{key:function(i){if(i.key){var r=qr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=pi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(i){return i.type==="keypress"?pi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$a=Le(Rc),xc=D({},Fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Le(xc),Gi=D({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),Cc=Le(Gi),Ic=D({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dc=Le(Ic),Pc=D({},Fr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Le(Pc),cn=D({},Kt,{newState:0,oldState:0}),Nc=Le(cn),Oc=[9,13,27,32],vi=bn&&"CompositionEvent"in window,h=null;bn&&"documentMode"in document&&(h=document.documentMode);var y=bn&&"TextEvent"in window&&!h,T=bn&&(!vi||h&&8<h&&11>=h),A=" ",G=!1;function Q(i,r){switch(i){case"keyup":return Oc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ut=!1;function Ce(i,r){switch(i){case"compositionend":return at(r);case"keypress":return r.which!==32?null:(G=!0,A);case"textInput":return i=r.data,i===A&&G?null:i;default:return null}}function jt(i,r){if(Ut)return i==="compositionend"||!vi&&Q(i,r)?(i=yl(),qi=Us=mi=null,Ut=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return T&&r.locale!=="ko"?null:r.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ue[i.type]:r==="textarea"}function Ki(i,r,o,u){zi?Fi?Fi.push(u):Fi=[u]:zi=u,r=gh(r,"onChange"),0<r.length&&(o=new za("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var He=null,_i=null;function Sl(i){V0(i,0)}function Vc(i){var r=Ns(i);if(dl(r))return i}function uv(i,r){if(i==="change")return r}var cv=!1;if(bn){var hd;if(bn){var fd="oninput"in document;if(!fd){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),fd=typeof hv.oninput=="function"}hd=fd}else hd=!1;cv=hd&&(!document.documentMode||9<document.documentMode)}function fv(){He&&(He.detachEvent("onpropertychange",dv),_i=He=null)}function dv(i){if(i.propertyName==="value"&&Vc(_i)){var r=[];Ki(r,_i,i,Ba(i)),Tc(Sl,r)}}function OR(i,r,o){i==="focusin"?(fv(),He=r,_i=o,He.attachEvent("onpropertychange",dv)):i==="focusout"&&fv()}function VR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vc(_i)}function MR(i,r){if(i==="click")return Vc(r)}function kR(i,r){if(i==="input"||i==="change")return Vc(r)}function LR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Sn=typeof Object.is=="function"?Object.is:LR;function Al(i,r){if(Sn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Na.call(r,f)||!Sn(i[f],r[f]))return!1}return!0}function mv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pv(i,r){var o=mv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=mv(o)}}function gv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?gv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ua(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ua(i.document)}return r}function dd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function UR(i,r){var o=yv(r);r=i.focusedElem;var u=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&gv(r.ownerDocument.documentElement,r)){if(u!==null&&dd(r)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length);else if(o=(i=r.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var f=r.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!o.extend&&g>u&&(f=u,u=g,g=f),f=pv(r,g);var E=pv(r,u);f&&E&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),o.removeAllRanges(),g>u?(o.addRange(i),o.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),o.addRange(i)))}}for(i=[],o=r;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)o=i[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var jR=bn&&"documentMode"in document&&11>=document.documentMode,Qa=null,md=null,wl=null,pd=!1;function vv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pd||Qa==null||Qa!==Ua(u)||(u=Qa,"selectionStart"in u&&dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wl&&Al(wl,u)||(wl=u,u=gh(md,"onSelect"),0<u.length&&(r=new za("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Qa)))}function Kr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Xa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},gd={},_v={};bn&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function $r(i){if(gd[i])return gd[i];if(!Xa[i])return i;var r=Xa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in _v)return gd[i]=r[o];return i}var Tv=$r("animationend"),Ev=$r("animationiteration"),bv=$r("animationstart"),BR=$r("transitionrun"),zR=$r("transitionstart"),FR=$r("transitioncancel"),Sv=$r("transitionend"),Av=new Map,wv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ei(i,r){Av.set(i,r),En(r,[i])}var Ln=[],Wa=0,yd=0;function Mc(){for(var i=Wa,r=yd=Wa=0;r<i;){var o=Ln[r];Ln[r++]=null;var u=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var g=Ln[r];if(Ln[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Rv(o,f,g)}}function kc(i,r,o,u){Ln[Wa++]=i,Ln[Wa++]=r,Ln[Wa++]=o,Ln[Wa++]=u,yd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function vd(i,r,o,u){return kc(i,r,o,u),Lc(i)}function js(i,r){return kc(i,null,null,r),Lc(i)}function Rv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;f&&r!==null&&i.tag===3&&(g=i.stateNode,f=31-ln(o),g=g.hiddenUpdates,i=g[f],i===null?g[f]=[r]:i.push(r),r.lane=o|536870912)}function Lc(i){if(50<Xl)throw Xl=0,Am=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Za={},xv=new WeakMap;function Un(i,r){if(typeof i=="object"&&i!==null){var o=xv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:ut(r)},xv.set(i,r),r)}return{value:i,source:r,stack:ut(r)}}var Ja=[],to=0,Uc=null,jc=0,jn=[],Bn=0,Yr=null,$i=1,Yi="";function Qr(i,r){Ja[to++]=jc,Ja[to++]=Uc,Uc=i,jc=r}function Cv(i,r,o){jn[Bn++]=$i,jn[Bn++]=Yi,jn[Bn++]=Yr,Yr=i;var u=$i;i=Yi;var f=32-ln(u)-1;u&=~(1<<f),o+=1;var g=32-ln(r)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,$i=1<<32-ln(r)+f|o<<f|u,Yi=g+i}else $i=1<<g|o<<f|u,Yi=i}function _d(i){i.return!==null&&(Qr(i,1),Cv(i,1,0))}function Td(i){for(;i===Uc;)Uc=Ja[--to],Ja[to]=null,jc=Ja[--to],Ja[to]=null;for(;i===Yr;)Yr=jn[--Bn],jn[Bn]=null,Yi=jn[--Bn],jn[Bn]=null,$i=jn[--Bn],jn[Bn]=null}var hn=null,qe=null,qt=!1,ni=null,Ti=!1,Ed=Error(s(519));function Xr(i){var r=Error(s(418,""));throw Cl(Un(r,i)),Ed}function Iv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[ke]=i,r[xe]=u,o){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(o=0;o<Zl.length;o++)kt(Zl[o],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":kt("invalid",r),Lr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),kr(r);break;case"select":kt("invalid",r);break;case"textarea":kt("invalid",r),Ls(r,u.value,u.defaultValue,u.children),kr(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||U0(r.textContent,o)?(u.popover!=null&&(kt("beforetoggle",r),kt("toggle",r)),u.onScroll!=null&&kt("scroll",r),u.onScrollEnd!=null&&kt("scrollend",r),u.onClick!=null&&(r.onclick=yh),r=!0):r=!1,r||Xr(i)}function Dv(i){for(hn=i.return;hn;)switch(hn.tag){case 3:case 27:Ti=!0;return;case 5:case 13:Ti=!1;return;default:hn=hn.return}}function Rl(i){if(i!==hn)return!1;if(!qt)return Dv(i),qt=!0,!1;var r=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||zm(i.type,i.memoizedProps)),o=!o),o&&(r=!0),r&&qe&&Xr(i),Dv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){qe=si(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}qe=null}}else qe=hn?si(i.stateNode.nextSibling):null;return!0}function xl(){qe=hn=null,qt=!1}function Cl(i){ni===null?ni=[i]:ni.push(i)}var Il=Error(s(460)),Pv=Error(s(474)),bd={then:function(){}};function Nv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bc(){}function Ov(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Bc,Bc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Il?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Bc,Bc);else{if(i=Zt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Il?Error(s(483)):i}throw Dl=r,Il}}var Dl=null;function Vv(){if(Dl===null)throw Error(s(459));var i=Dl;return Dl=null,i}var eo=null,Pl=0;function zc(i){var r=Pl;return Pl+=1,eo===null&&(eo=[]),Ov(eo,i,r)}function Nl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Fc(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Mv(i){var r=i._init;return r(i._payload)}function kv(i){function r(q,U){if(i){var $=q.deletions;$===null?(q.deletions=[U],q.flags|=16):$.push(U)}}function o(q,U){if(!i)return null;for(;U!==null;)r(q,U),U=U.sibling;return null}function u(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function f(q,U){return q=Ws(q,U),q.index=0,q.sibling=null,q}function g(q,U,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<U?(q.flags|=33554434,U):$):(q.flags|=33554434,U)):(q.flags|=1048576,U)}function E(q){return i&&q.alternate===null&&(q.flags|=33554434),q}function S(q,U,$,J){return U===null||U.tag!==6?(U=gm($,q.mode,J),U.return=q,U):(U=f(U,$),U.return=q,U)}function I(q,U,$,J){var dt=$.type;return dt===m?Z(q,U,$.props.children,J,$.key):U!==null&&(U.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===H&&Mv(dt)===U.type)?(U=f(U,$.props),Nl(U,$),U.return=q,U):(U=ah($.type,$.key,$.props,null,q.mode,J),Nl(U,$),U.return=q,U)}function j(q,U,$,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=ym($,q.mode,J),U.return=q,U):(U=f(U,$.children||[]),U.return=q,U)}function Z(q,U,$,J,dt){return U===null||U.tag!==7?(U=aa($,q.mode,J,dt),U.return=q,U):(U=f(U,$),U.return=q,U)}function nt(q,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=gm(""+U,q.mode,$),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return $=ah(U.type,U.key,U.props,null,q.mode,$),Nl($,U),$.return=q,$;case d:return U=ym(U,q.mode,$),U.return=q,U;case H:var J=U._init;return U=J(U._payload),nt(q,U,$)}if(ct(U)||rt(U))return U=aa(U,q.mode,$,null),U.return=q,U;if(typeof U.then=="function")return nt(q,zc(U),$);if(U.$$typeof===x)return nt(q,ih(q,U),$);Fc(q,U)}return null}function Y(q,U,$,J){var dt=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return dt!==null?null:S(q,U,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return $.key===dt?I(q,U,$,J):null;case d:return $.key===dt?j(q,U,$,J):null;case H:return dt=$._init,$=dt($._payload),Y(q,U,$,J)}if(ct($)||rt($))return dt!==null?null:Z(q,U,$,J,null);if(typeof $.then=="function")return Y(q,U,zc($),J);if($.$$typeof===x)return Y(q,U,ih(q,$),J);Fc(q,$)}return null}function W(q,U,$,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get($)||null,S(U,q,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return q=q.get(J.key===null?$:J.key)||null,I(U,q,J,dt);case d:return q=q.get(J.key===null?$:J.key)||null,j(U,q,J,dt);case H:var Nt=J._init;return J=Nt(J._payload),W(q,U,$,J,dt)}if(ct(J)||rt(J))return q=q.get($)||null,Z(U,q,J,dt,null);if(typeof J.then=="function")return W(q,U,$,zc(J),dt);if(J.$$typeof===x)return W(q,U,$,ih(U,J),dt);Fc(U,J)}return null}function mt(q,U,$,J){for(var dt=null,Nt=null,gt=U,_t=U=0,ze=null;gt!==null&&_t<$.length;_t++){gt.index>_t?(ze=gt,gt=null):ze=gt.sibling;var Gt=Y(q,gt,$[_t],J);if(Gt===null){gt===null&&(gt=ze);break}i&&gt&&Gt.alternate===null&&r(q,gt),U=g(Gt,U,_t),Nt===null?dt=Gt:Nt.sibling=Gt,Nt=Gt,gt=ze}if(_t===$.length)return o(q,gt),qt&&Qr(q,_t),dt;if(gt===null){for(;_t<$.length;_t++)gt=nt(q,$[_t],J),gt!==null&&(U=g(gt,U,_t),Nt===null?dt=gt:Nt.sibling=gt,Nt=gt);return qt&&Qr(q,_t),dt}for(gt=u(gt);_t<$.length;_t++)ze=W(gt,q,_t,$[_t],J),ze!==null&&(i&&ze.alternate!==null&&gt.delete(ze.key===null?_t:ze.key),U=g(ze,U,_t),Nt===null?dt=ze:Nt.sibling=ze,Nt=ze);return i&&gt.forEach(function(sr){return r(q,sr)}),qt&&Qr(q,_t),dt}function At(q,U,$,J){if($==null)throw Error(s(151));for(var dt=null,Nt=null,gt=U,_t=U=0,ze=null,Gt=$.next();gt!==null&&!Gt.done;_t++,Gt=$.next()){gt.index>_t?(ze=gt,gt=null):ze=gt.sibling;var sr=Y(q,gt,Gt.value,J);if(sr===null){gt===null&&(gt=ze);break}i&&gt&&sr.alternate===null&&r(q,gt),U=g(sr,U,_t),Nt===null?dt=sr:Nt.sibling=sr,Nt=sr,gt=ze}if(Gt.done)return o(q,gt),qt&&Qr(q,_t),dt;if(gt===null){for(;!Gt.done;_t++,Gt=$.next())Gt=nt(q,Gt.value,J),Gt!==null&&(U=g(Gt,U,_t),Nt===null?dt=Gt:Nt.sibling=Gt,Nt=Gt);return qt&&Qr(q,_t),dt}for(gt=u(gt);!Gt.done;_t++,Gt=$.next())Gt=W(gt,q,_t,Gt.value,J),Gt!==null&&(i&&Gt.alternate!==null&&gt.delete(Gt.key===null?_t:Gt.key),U=g(Gt,U,_t),Nt===null?dt=Gt:Nt.sibling=Gt,Nt=Gt);return i&&gt.forEach(function(nC){return r(q,nC)}),qt&&Qr(q,_t),dt}function de(q,U,$,J){if(typeof $=="object"&&$!==null&&$.type===m&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case c:t:{for(var dt=$.key;U!==null;){if(U.key===dt){if(dt=$.type,dt===m){if(U.tag===7){o(q,U.sibling),J=f(U,$.props.children),J.return=q,q=J;break t}}else if(U.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===H&&Mv(dt)===U.type){o(q,U.sibling),J=f(U,$.props),Nl(J,$),J.return=q,q=J;break t}o(q,U);break}else r(q,U);U=U.sibling}$.type===m?(J=aa($.props.children,q.mode,J,$.key),J.return=q,q=J):(J=ah($.type,$.key,$.props,null,q.mode,J),Nl(J,$),J.return=q,q=J)}return E(q);case d:t:{for(dt=$.key;U!==null;){if(U.key===dt)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(q,U.sibling),J=f(U,$.children||[]),J.return=q,q=J;break t}else{o(q,U);break}else r(q,U);U=U.sibling}J=ym($,q.mode,J),J.return=q,q=J}return E(q);case H:return dt=$._init,$=dt($._payload),de(q,U,$,J)}if(ct($))return mt(q,U,$,J);if(rt($)){if(dt=rt($),typeof dt!="function")throw Error(s(150));return $=dt.call($),At(q,U,$,J)}if(typeof $.then=="function")return de(q,U,zc($),J);if($.$$typeof===x)return de(q,U,ih(q,$),J);Fc(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(q,U.sibling),J=f(U,$),J.return=q,q=J):(o(q,U),J=gm($,q.mode,J),J.return=q,q=J),E(q)):o(q,U)}return function(q,U,$,J){try{Pl=0;var dt=de(q,U,$,J);return eo=null,dt}catch(gt){if(gt===Il)throw gt;var Nt=qn(29,gt,null,q.mode);return Nt.lanes=J,Nt.return=q,Nt}finally{}}}var Wr=kv(!0),Lv=kv(!1),no=Ft(null),Hc=Ft(0);function Uv(i,r){i=rs,Yt(Hc,i),Yt(no,r),rs=i|r.baseLanes}function Sd(){Yt(Hc,rs),Yt(no,no.current)}function Ad(){rs=Hc.current,ue(no),ue(Hc)}var zn=Ft(null),Ei=null;function Bs(i){var r=i.alternate;Yt(De,De.current&1),Yt(zn,i),Ei===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(Ei=i)}function jv(i){if(i.tag===22){if(Yt(De,De.current),Yt(zn,i),Ei===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ei=i)}}else zs()}function zs(){Yt(De,De.current),Yt(zn,zn.current)}function Qi(i){ue(zn),Ei===i&&(Ei=null),ue(De)}var De=Ft(0);function qc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var HR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},qR=e.unstable_scheduleCallback,GR=e.unstable_NormalPriority,Pe={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new HR,data:new Map,refCount:0}}function Ol(i){i.refCount--,i.refCount===0&&qR(GR,function(){i.controller.abort()})}var Vl=null,Rd=0,io=0,so=null;function KR(i,r){if(Vl===null){var o=Vl=[];Rd=0,io=Nm(),so={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Rd++,r.then(Bv,Bv),r}function Bv(){if(--Rd===0&&Vl!==null){so!==null&&(so.status="fulfilled");var i=Vl;Vl=null,io=0,so=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function $R(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var zv=R.S;R.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&KR(i,r),zv!==null&&zv(i,r)};var Zr=Ft(null);function xd(){var i=Zr.current;return i!==null?i:Zt.pooledCache}function Gc(i,r){r===null?Yt(Zr,Zr.current):Yt(Zr,r.pool)}function Fv(){var i=xd();return i===null?null:{parent:Pe._currentValue,pool:i}}var Fs=0,It=null,Qt=null,be=null,Kc=!1,ro=!1,Jr=!1,$c=0,Ml=0,ao=null,YR=0;function ye(){throw Error(s(321))}function Cd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Sn(i[o],r[o]))return!1;return!0}function Id(i,r,o,u,f,g){return Fs=g,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=i===null||i.memoizedState===null?ta:Hs,Jr=!1,g=o(u,f),Jr=!1,ro&&(g=qv(r,o,u,f)),Hv(i),g}function Hv(i){R.H=bi;var r=Qt!==null&&Qt.next!==null;if(Fs=0,be=Qt=It=null,Kc=!1,Ml=0,ao=null,r)throw Error(s(300));i===null||je||(i=i.dependencies,i!==null&&nh(i)&&(je=!0))}function qv(i,r,o,u){It=i;var f=0;do{if(ro&&(ao=null),Ml=0,ro=!1,25<=f)throw Error(s(301));if(f+=1,be=Qt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=ea,g=r(o,u)}while(ro);return g}function QR(){var i=R.H,r=i.useState()[0];return r=typeof r.then=="function"?kl(r):r,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(It.flags|=1024),r}function Dd(){var i=$c!==0;return $c=0,i}function Pd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Nd(i){if(Kc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Kc=!1}Fs=0,be=Qt=It=null,ro=!1,Ml=$c=0,ao=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?It.memoizedState=be=i:be=be.next=i,be}function Se(){if(Qt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var r=be===null?It.memoizedState:be.next;if(r!==null)be=r,Qt=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},be===null?It.memoizedState=be=i:be=be.next=i}return be}var Yc;Yc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function kl(i){var r=Ml;return Ml+=1,ao===null&&(ao=[]),i=Ov(ao,i,r),r=It,(be===null?r.memoizedState:be.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?ta:Hs),i}function Qc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return kl(i);if(i.$$typeof===x)return Ze(i)}throw Error(s(438,String(i)))}function Od(i){var r=null,o=It.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Yc(),It.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=et;return r.index++,o}function Xi(i,r){return typeof r=="function"?r(i):r}function Xc(i){var r=Se();return Vd(r,Qt,i)}function Vd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var S=E=null,I=null,j=r,Z=!1;do{var nt=j.lane&-536870913;if(nt!==j.lane?(Bt&nt)===nt:(Fs&nt)===nt){var Y=j.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),nt===io&&(Z=!0);else if((Fs&Y)===Y){j=j.next,Y===io&&(Z=!0);continue}else nt={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(S=I=nt,E=g):I=I.next=nt,It.lanes|=Y,Zs|=Y;nt=j.action,Jr&&o(g,nt),g=j.hasEagerState?j.eagerState:o(g,nt)}else Y={lane:nt,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(S=I=Y,E=g):I=I.next=Y,It.lanes|=nt,Zs|=nt;j=j.next}while(j!==null&&j!==r);if(I===null?E=g:I.next=S,!Sn(g,i.memoizedState)&&(je=!0,Z&&(o=so,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=I,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Md(i){var r=Se(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);Sn(g,r.memoizedState)||(je=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Gv(i,r,o){var u=It,f=Se(),g=qt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Sn((Qt||f).memoizedState,o);if(E&&(f.memoizedState=o,je=!0),f=f.queue,Ud(Yv.bind(null,u,f,i),[i]),f.getSnapshot!==r||E||be!==null&&be.memoizedState.tag&1){if(u.flags|=2048,oo(9,$v.bind(null,u,f,o,r),{destroy:void 0},null),Zt===null)throw Error(s(349));g||(Fs&60)!==0||Kv(u,r,o)}return o}function Kv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=It.updateQueue,r===null?(r=Yc(),It.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function $v(i,r,o,u){r.value=o,r.getSnapshot=u,Qv(r)&&Xv(i)}function Yv(i,r,o){return o(function(){Qv(r)&&Xv(i)})}function Qv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Sn(i,o)}catch{return!0}}function Xv(i){var r=js(i,2);r!==null&&fn(r,i,2)}function kd(i){var r=yn();if(typeof i=="function"){var o=i;if(i=o(),Jr){ui(!0);try{o()}finally{ui(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:i},r}function Wv(i,r,o,u){return i.baseState=o,Vd(i,Qt,typeof u=="function"?u:Xi)}function XR(i,r,o,u,f){if(Jc(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};R.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Zv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Zv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=R.T,E={};R.T=E;try{var S=o(f,u),I=R.S;I!==null&&I(E,S),Jv(i,r,S)}catch(j){Ld(i,r,j)}finally{R.T=g}}else try{g=o(f,u),Jv(i,r,g)}catch(j){Ld(i,r,j)}}function Jv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){t_(i,r,u)},function(u){return Ld(i,r,u)}):t_(i,r,o)}function t_(i,r,o){r.status="fulfilled",r.value=o,e_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Zv(i,o)))}function Ld(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,e_(r),r=r.next;while(r!==u)}i.action=null}function e_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function n_(i,r){return r}function i_(i,r){if(qt){var o=Zt.formState;if(o!==null){t:{var u=It;if(qt){if(qe){e:{for(var f=qe,g=Ti;f.nodeType!==8;){if(!g){f=null;break e}if(f=si(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){qe=si(f.nextSibling),u=f.data==="F!";break t}}Xr(u)}u=!1}u&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:r},o.queue=u,o=E_.bind(null,It,u),u.dispatch=o,u=kd(!1),g=Hd.bind(null,It,!1,u.queue),u=yn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=XR.bind(null,It,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function s_(i){var r=Se();return r_(r,Qt,i)}function r_(i,r,o){r=Vd(i,r,n_)[0],i=Xc(Xi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?kl(r):r;var u=Se(),f=u.queue,g=f.dispatch;return o!==u.memoizedState&&(It.flags|=2048,oo(9,WR.bind(null,f,o),{destroy:void 0},null)),[r,g,i]}function WR(i,r){i.action=r}function a_(i){var r=Se(),o=Qt;if(o!==null)return r_(r,o,i);Se(),r=r.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function oo(i,r,o,u){return i={tag:i,create:r,inst:o,deps:u,next:null},r=It.updateQueue,r===null&&(r=Yc(),It.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function o_(){return Se().memoizedState}function Wc(i,r,o,u){var f=yn();It.flags|=i,f.memoizedState=oo(1|r,o,{destroy:void 0},u===void 0?null:u)}function Zc(i,r,o,u){var f=Se();u=u===void 0?null:u;var g=f.memoizedState.inst;Qt!==null&&u!==null&&Cd(u,Qt.memoizedState.deps)?f.memoizedState=oo(r,o,g,u):(It.flags|=i,f.memoizedState=oo(1|r,o,g,u))}function l_(i,r){Wc(8390656,8,i,r)}function Ud(i,r){Zc(2048,8,i,r)}function u_(i,r){return Zc(4,2,i,r)}function c_(i,r){return Zc(4,4,i,r)}function h_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function f_(i,r,o){o=o!=null?o.concat([i]):null,Zc(4,4,h_.bind(null,r,i),o)}function jd(){}function d_(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Cd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function m_(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Cd(r,u[1]))return u[0];if(u=i(),Jr){ui(!0);try{i()}finally{ui(!1)}}return o.memoizedState=[u,r],u}function Bd(i,r,o){return o===void 0||(Fs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=g0(),It.lanes|=i,Zs|=i,o)}function p_(i,r,o,u){return Sn(o,r)?o:no.current!==null?(i=Bd(i,o,u),Sn(i,r)||(je=!0),i):(Fs&42)===0?(je=!0,i.memoizedState=o):(i=g0(),It.lanes|=i,Zs|=i,r)}function g_(i,r,o,u,f){var g=ht.p;ht.p=g!==0&&8>g?g:8;var E=R.T,S={};R.T=S,Hd(i,!1,r,o);try{var I=f(),j=R.S;if(j!==null&&j(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=$R(I,u);Ll(i,r,Z,xn(i))}else Ll(i,r,u,xn(i))}catch(nt){Ll(i,r,{then:function(){},status:"rejected",reason:nt},xn())}finally{ht.p=g,R.T=E}}function ZR(){}function zd(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=y_(i).queue;g_(i,f,r,Ct,o===null?ZR:function(){return v_(i),o(u)})}function y_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Ct,baseState:Ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:Ct},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function v_(i){var r=y_(i).next.queue;Ll(i,r,{},xn())}function Fd(){return Ze(iu)}function __(){return Se().memoizedState}function T_(){return Se().memoizedState}function JR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=xn();i=Ks(o);var u=$s(r,i,o);u!==null&&(fn(u,r,o),Bl(u,r,o)),r={cache:wd()},i.payload=r;return}r=r.return}}function tx(i,r,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Jc(i)?b_(r,o):(o=vd(i,r,o,u),o!==null&&(fn(o,i,u),S_(o,r,u)))}function E_(i,r,o){var u=xn();Ll(i,r,o,u)}function Ll(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jc(i))b_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,S=g(E,o);if(f.hasEagerState=!0,f.eagerState=S,Sn(S,E))return kc(i,r,f,0),Zt===null&&Mc(),!1}catch{}finally{}if(o=vd(i,r,f,u),o!==null)return fn(o,i,u),S_(o,r,u),!0}return!1}function Hd(i,r,o,u){if(u={lane:2,revertLane:Nm(),action:u,hasEagerState:!1,eagerState:null,next:null},Jc(i)){if(r)throw Error(s(479))}else r=vd(i,o,u,2),r!==null&&fn(r,i,2)}function Jc(i){var r=i.alternate;return i===It||r!==null&&r===It}function b_(i,r){ro=Kc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function S_(i,r,o){if((o&4194176)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Is(i,o)}}var bi={readContext:Ze,use:Qc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye};bi.useCacheRefresh=ye,bi.useMemoCache=ye,bi.useHostTransitionStatus=ye,bi.useFormState=ye,bi.useActionState=ye,bi.useOptimistic=ye;var ta={readContext:Ze,use:Qc,useCallback:function(i,r){return yn().memoizedState=[i,r===void 0?null:r],i},useContext:Ze,useEffect:l_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Wc(4194308,4,h_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Wc(4194308,4,i,r)},useInsertionEffect:function(i,r){Wc(4,2,i,r)},useMemo:function(i,r){var o=yn();r=r===void 0?null:r;var u=i();if(Jr){ui(!0);try{i()}finally{ui(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=yn();if(o!==void 0){var f=o(r);if(Jr){ui(!0);try{o(r)}finally{ui(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=tx.bind(null,It,i),[u.memoizedState,i]},useRef:function(i){var r=yn();return i={current:i},r.memoizedState=i},useState:function(i){i=kd(i);var r=i.queue,o=E_.bind(null,It,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:jd,useDeferredValue:function(i,r){var o=yn();return Bd(o,i,r)},useTransition:function(){var i=kd(!1);return i=g_.bind(null,It,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=It,f=yn();if(qt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Zt===null)throw Error(s(349));(Bt&60)!==0||Kv(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,l_(Yv.bind(null,u,g,i),[i]),u.flags|=2048,oo(9,$v.bind(null,u,g,o,r),{destroy:void 0},null),o},useId:function(){var i=yn(),r=Zt.identifierPrefix;if(qt){var o=Yi,u=$i;o=(u&~(1<<32-ln(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=$c++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=YR++,r=":"+r+"r"+o.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return yn().memoizedState=JR.bind(null,It)}};ta.useMemoCache=Od,ta.useHostTransitionStatus=Fd,ta.useFormState=i_,ta.useActionState=i_,ta.useOptimistic=function(i){var r=yn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Hd.bind(null,It,!0,o),o.dispatch=r,[i,r]};var Hs={readContext:Ze,use:Qc,useCallback:d_,useContext:Ze,useEffect:Ud,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:Xc,useRef:o_,useState:function(){return Xc(Xi)},useDebugValue:jd,useDeferredValue:function(i,r){var o=Se();return p_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=Xc(Xi)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:kl(i),r]},useSyncExternalStore:Gv,useId:__};Hs.useCacheRefresh=T_,Hs.useMemoCache=Od,Hs.useHostTransitionStatus=Fd,Hs.useFormState=s_,Hs.useActionState=s_,Hs.useOptimistic=function(i,r){var o=Se();return Wv(o,Qt,i,r)};var ea={readContext:Ze,use:Qc,useCallback:d_,useContext:Ze,useEffect:Ud,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:Md,useRef:o_,useState:function(){return Md(Xi)},useDebugValue:jd,useDeferredValue:function(i,r){var o=Se();return Qt===null?Bd(o,i,r):p_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=Md(Xi)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:kl(i),r]},useSyncExternalStore:Gv,useId:__};ea.useCacheRefresh=T_,ea.useMemoCache=Od,ea.useHostTransitionStatus=Fd,ea.useFormState=a_,ea.useActionState=a_,ea.useOptimistic=function(i,r){var o=Se();return Qt!==null?Wv(o,Qt,i,r):(o.baseState=i,[i,o.queue.dispatch])};function qd(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:D({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Gd={isMounted:function(i){return(i=i._reactInternals)?lt(i)===i:!1},enqueueSetState:function(i,r,o){i=i._reactInternals;var u=xn(),f=Ks(u);f.payload=r,o!=null&&(f.callback=o),r=$s(i,f,u),r!==null&&(fn(r,i,u),Bl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=xn(),f=Ks(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=$s(i,f,u),r!==null&&(fn(r,i,u),Bl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=xn(),u=Ks(o);u.tag=2,r!=null&&(u.callback=r),r=$s(i,u,o),r!==null&&(fn(r,i,o),Bl(r,i,o))}};function A_(i,r,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!Al(o,u)||!Al(f,g):!0}function w_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Gd.enqueueReplaceState(r,r.state,null)}function na(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=D({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function R_(i){th(i)}function x_(i){console.error(i)}function C_(i){th(i)}function eh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function I_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Kd(i,r,o){return o=Ks(o),o.tag=3,o.payload={element:null},o.callback=function(){eh(i,r)},o}function D_(i){return i=Ks(i),i.tag=3,i}function P_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){I_(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){I_(r,o,u),typeof f!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function ex(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&jl(r,o,f,!0),o=zn.current,o!==null){switch(o.tag){case 13:return Ei===null?xm():o.alternate===null&&fe===0&&(fe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===bd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Im(i,u,f)),!1;case 22:return o.flags|=65536,u===bd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Im(i,u,f)),!1}throw Error(s(435,o.tag))}return Im(i,u,f),xm(),!1}if(qt)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Ed&&(i=Error(s(422),{cause:u}),Cl(Un(i,o)))):(u!==Ed&&(r=Error(s(423),{cause:u}),Cl(Un(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Un(u,o),f=Kd(i.stateNode,u,f),om(i,f),fe!==4&&(fe=2)),!1;var g=Error(s(520),{cause:u});if(g=Un(g,o),Yl===null?Yl=[g]:Yl.push(g),fe!==4&&(fe=2),r===null)return!0;u=Un(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Kd(o.stateNode,u,i),om(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Js===null||!Js.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=D_(f),P_(f,i,o,u),om(o,f),!1}o=o.return}while(o!==null);return!1}var N_=Error(s(461)),je=!1;function Ge(i,r,o,u){r.child=i===null?Lv(r,null,o,u):Wr(r,i.child,o,u)}function O_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return sa(r),u=Id(i,r,o,E,g,f),S=Dd(),i!==null&&!je?(Pd(i,r,f),Wi(i,r,f)):(qt&&S&&_d(r),r.flags|=1,Ge(i,r,u,f),r.child)}function V_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!pm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,M_(i,r,g,u,f)):(i=ah(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!em(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Al,o(E,u)&&i.ref===r.ref)return Wi(i,r,f)}return r.flags|=1,i=Ws(g,u),i.ref=r.ref,i.return=r,r.child=i}function M_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(Al(g,u)&&i.ref===r.ref)if(je=!1,r.pendingProps=u=g,em(i,f))(i.flags&131072)!==0&&(je=!0);else return r.lanes=i.lanes,Wi(i,r,f)}return $d(i,r,o,u,f)}function k_(i,r,o){var u=r.pendingProps,f=u.children,g=(r.stateNode._pendingVisibility&2)!==0,E=i!==null?i.memoizedState:null;if(Ul(i,r),u.mode==="hidden"||g){if((r.flags&128)!==0){if(u=E!==null?E.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return L_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gc(r,E!==null?E.cachePool:null),E!==null?Uv(r,E):Sd(),jv(r);else return r.lanes=r.childLanes=536870912,L_(i,r,E!==null?E.baseLanes|o:o,o)}else E!==null?(Gc(r,E.cachePool),Uv(r,E),zs(),r.memoizedState=null):(i!==null&&Gc(r,null),Sd(),zs());return Ge(i,r,f,o),r.child}function L_(i,r,o,u){var f=xd();return f=f===null?null:{parent:Pe._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Gc(r,null),Sd(),jv(r),i!==null&&jl(i,r,u,!0),null}function Ul(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=2097664)}}function $d(i,r,o,u,f){return sa(r),o=Id(i,r,o,u,void 0,f),u=Dd(),i!==null&&!je?(Pd(i,r,f),Wi(i,r,f)):(qt&&u&&_d(r),r.flags|=1,Ge(i,r,o,f),r.child)}function U_(i,r,o,u,f,g){return sa(r),r.updateQueue=null,o=qv(r,u,o,f),Hv(i),u=Dd(),i!==null&&!je?(Pd(i,r,g),Wi(i,r,g)):(qt&&u&&_d(r),r.flags|=1,Ge(i,r,o,g),r.child)}function j_(i,r,o,u,f){if(sa(r),r.stateNode===null){var g=Za,E=o.contextType;typeof E=="object"&&E!==null&&(g=Ze(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},rm(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?Ze(E):Za,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(qd(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Gd.enqueueReplaceState(g,g.state,null),Fl(r,u,g,f),zl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,I=na(o,S);g.props=I;var j=g.context,Z=o.contextType;E=Za,typeof Z=="object"&&Z!==null&&(E=Ze(Z));var nt=o.getDerivedStateFromProps;Z=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||j!==E)&&w_(r,g,u,E),Gs=!1;var Y=r.memoizedState;g.state=Y,Fl(r,u,g,f),zl(),j=r.memoizedState,S||Y!==j||Gs?(typeof nt=="function"&&(qd(r,o,nt,u),j=r.memoizedState),(I=Gs||A_(r,o,I,u,Y,j,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=j),g.props=u,g.state=j,g.context=E,u=I):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,am(i,r),E=r.memoizedProps,Z=na(o,E),g.props=Z,nt=r.pendingProps,Y=g.context,j=o.contextType,I=Za,typeof j=="object"&&j!==null&&(I=Ze(j)),S=o.getDerivedStateFromProps,(j=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==nt||Y!==I)&&w_(r,g,u,I),Gs=!1,Y=r.memoizedState,g.state=Y,Fl(r,u,g,f),zl();var W=r.memoizedState;E!==nt||Y!==W||Gs||i!==null&&i.dependencies!==null&&nh(i.dependencies)?(typeof S=="function"&&(qd(r,o,S,u),W=r.memoizedState),(Z=Gs||A_(r,o,Z,u,Y,W,I)||i!==null&&i.dependencies!==null&&nh(i.dependencies))?(j||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,I)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=I,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Ul(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Wr(r,i.child,null,f),r.child=Wr(r,null,o,f)):Ge(i,r,o,f),r.memoizedState=g.state,i=r.child):i=Wi(i,r,f),i}function B_(i,r,o,u){return xl(),r.flags|=256,Ge(i,r,o,u),r.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Qd(i){return{baseLanes:i,cachePool:Fv()}}function Xd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Gn),i}function z_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(qt){if(f?Bs(r):zs(),qt){var S=qe,I;if(I=S){t:{for(I=S,S=Ti;I.nodeType!==8;){if(!S){S=null;break t}if(I=si(I.nextSibling),I===null){S=null;break t}}S=I}S!==null?(r.memoizedState={dehydrated:S,treeContext:Yr!==null?{id:$i,overflow:Yi}:null,retryLane:536870912},I=qn(18,null,null,0),I.stateNode=S,I.return=r,r.child=I,hn=r,qe=null,I=!0):I=!1}I||Xr(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?r.lanes=16:r.lanes=536870912,null;Qi(r)}return S=u.children,u=u.fallback,f?(zs(),f=r.mode,S=Zd({mode:"hidden",children:S},f),u=aa(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=Qd(o),f.childLanes=Xd(i,E,o),r.memoizedState=Yd,u):(Bs(r),Wd(r,S))}if(I=i.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(g)r.flags&256?(Bs(r),r.flags&=-257,r=Jd(i,r,o)):r.memoizedState!==null?(zs(),r.child=i.child,r.flags|=128,r=null):(zs(),f=u.fallback,S=r.mode,u=Zd({mode:"visible",children:u.children},S),f=aa(f,S,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Wr(r,i.child,null,o),u=r.child,u.memoizedState=Qd(o),u.childLanes=Xd(i,E,o),r.memoizedState=Yd,r=f);else if(Bs(r),S.data==="$!"){if(E=S.nextSibling&&S.nextSibling.dataset,E)var j=E.dgst;E=j,u=Error(s(419)),u.stack="",u.digest=E,Cl({value:u,source:null,stack:null}),r=Jd(i,r,o)}else if(je||jl(i,r,o,!1),E=(o&i.childLanes)!==0,je||E){if(E=Zt,E!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane)throw I.retryLane=u,js(i,u),fn(E,i,u),N_}S.data==="$?"||xm(),r=Jd(i,r,o)}else S.data==="$?"?(r.flags|=128,r.child=i.child,r=gx.bind(null,i),S._reactRetry=r,r=null):(i=I.treeContext,qe=si(S.nextSibling),hn=r,qt=!0,ni=null,Ti=!1,i!==null&&(jn[Bn++]=$i,jn[Bn++]=Yi,jn[Bn++]=Yr,$i=i.id,Yi=i.overflow,Yr=r),r=Wd(r,u.children),r.flags|=4096);return r}return f?(zs(),f=u.fallback,S=r.mode,I=i.child,j=I.sibling,u=Ws(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&31457280,j!==null?f=Ws(j,f):(f=aa(f,S,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=i.child.memoizedState,S===null?S=Qd(o):(I=S.cachePool,I!==null?(j=Pe._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Fv(),S={baseLanes:S.baseLanes|o,cachePool:I}),f.memoizedState=S,f.childLanes=Xd(i,E,o),r.memoizedState=Yd,u):(Bs(r),o=i.child,i=o.sibling,o=Ws(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function Wd(i,r){return r=Zd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Zd(i,r){return d0(i,r,0,null)}function Jd(i,r,o){return Wr(r,i.child,null,o),i=Wd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function F_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),im(i.return,r,o)}function tm(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function H_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Ge(i,r,u.children,o),u=De.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&F_(i,o,r);else if(i.tag===19)F_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Yt(De,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&qc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),tm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&qc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}tm(r,!0,o,null,g);break;case"together":tm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Zs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(jl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ws(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ws(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function em(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&nh(i)))}function nx(i,r,o){switch(r.tag){case 3:Ss(r,r.stateNode.containerInfo),qs(r,Pe,i.memoizedState.cache),xl();break;case 27:case 5:il(r);break;case 4:Ss(r,r.stateNode.containerInfo);break;case 10:qs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Bs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?z_(i,r,o):(Bs(r),i=Wi(i,r,o),i!==null?i.sibling:null);Bs(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(jl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return H_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Yt(De,De.current),u)break;return null;case 22:case 23:return r.lanes=0,k_(i,r,o);case 24:qs(r,Pe,i.memoizedState.cache)}return Wi(i,r,o)}function q_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)je=!0;else{if(!em(i,o)&&(r.flags&128)===0)return je=!1,nx(i,r,o);je=(i.flags&131072)!==0}else je=!1,qt&&(r.flags&1048576)!==0&&Cv(r,jc,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")pm(u)?(i=na(u,i),r.tag=1,r=j_(null,r,u,i,o)):(r.tag=0,r=$d(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===V){r.tag=11,r=O_(null,r,u,i,o);break t}else if(f===B){r.tag=14,r=V_(null,r,u,i,o);break t}}throw r=w(u)||u,Error(s(306,r,""))}}return r;case 0:return $d(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=na(u,r.pendingProps),j_(i,r,u,f,o);case 3:t:{if(Ss(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var g=r.pendingProps;f=r.memoizedState,u=f.element,am(i,r),Fl(r,g,null,o);var E=r.memoizedState;if(g=E.cache,qs(r,Pe,g),g!==f.cache&&sm(r,[Pe],o,!0),zl(),g=E.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=B_(i,r,g,o);break t}else if(g!==u){u=Un(Error(s(424)),r),Cl(u),r=B_(i,r,g,o);break t}else for(qe=si(r.stateNode.containerInfo.firstChild),hn=r,qt=!0,ni=null,Ti=!0,o=Lv(r,null,g,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xl(),g===u){r=Wi(i,r,o);break t}Ge(i,r,g,o)}r=r.child}return r;case 26:return Ul(i,r),i===null?(o=$0(r.type,null,r.pendingProps,null))?r.memoizedState=o:qt||(o=r.type,i=r.pendingProps,u=vh(Dn.current).createElement(o),u[ke]=r,u[xe]=i,Ke(u,o,i),se(u),r.stateNode=u):r.memoizedState=$0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return il(r),i===null&&qt&&(u=r.stateNode=q0(r.type,r.pendingProps,Dn.current),hn=r,Ti=!0,qe=si(u.firstChild)),u=r.pendingProps.children,i!==null||qt?Ge(i,r,u,o):r.child=Wr(r,null,u,o),Ul(i,r),r.child;case 5:return i===null&&qt&&((f=u=qe)&&(u=Nx(u,r.type,r.pendingProps,Ti),u!==null?(r.stateNode=u,hn=r,qe=si(u.firstChild),Ti=!1,f=!0):f=!1),f||Xr(r)),il(r),f=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,zm(f,g)?u=null:E!==null&&zm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Id(i,r,QR,null,null,o),iu._currentValue=f),Ul(i,r),Ge(i,r,u,o),r.child;case 6:return i===null&&qt&&((i=o=qe)&&(o=Ox(o,r.pendingProps,Ti),o!==null?(r.stateNode=o,hn=r,qe=null,i=!0):i=!1),i||Xr(r)),null;case 13:return z_(i,r,o);case 4:return Ss(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Wr(r,null,u,o):Ge(i,r,u,o),r.child;case 11:return O_(i,r,r.type,r.pendingProps,o);case 7:return Ge(i,r,r.pendingProps,o),r.child;case 8:return Ge(i,r,r.pendingProps.children,o),r.child;case 12:return Ge(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,qs(r,r.type,u.value),Ge(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,sa(r),f=Ze(f),u=u(f),r.flags|=1,Ge(i,r,u,o),r.child;case 14:return V_(i,r,r.type,r.pendingProps,o);case 15:return M_(i,r,r.type,r.pendingProps,o);case 19:return H_(i,r,o);case 22:return k_(i,r,o);case 24:return sa(r),u=Ze(Pe),i===null?(f=xd(),f===null&&(f=Zt,g=wd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},rm(r),qs(r,Pe,f)):((i.lanes&o)!==0&&(am(i,r),Fl(r,null,null,o),zl()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qs(r,Pe,u)):(u=g.cache,qs(r,Pe,u),u!==f.cache&&sm(r,[Pe],o,!0))),Ge(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var nm=Ft(null),ia=null,Zi=null;function qs(i,r,o){Yt(nm,r._currentValue),r._currentValue=o}function Ji(i){i._currentValue=nm.current,ue(nm)}function im(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function sm(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=f;for(var I=0;I<r.length;I++)if(S.context===r[I]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),im(g.return,o,i),u||(E=null);break t}g=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),im(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function jl(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;Sn(f.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(f===bs.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(iu):i=[iu])}f=f.return}i!==null&&sm(r,i,o,u),r.flags|=262144}function nh(i){for(i=i.firstContext;i!==null;){if(!Sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){ia=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ze(i){return G_(ia,i)}function ih(i,r){return ia===null&&sa(i),G_(i,r)}function G_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Zi===null){if(i===null)throw Error(s(308));Zi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zi=Zi.next=r;return o}var Gs=!1;function rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function am(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ks(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function $s(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ae&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Lc(i),Rv(i,null,o),r}return kc(i,u,r,o),Lc(i)}function Bl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Is(i,o)}}function om(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var lm=!1;function zl(){if(lm){var i=so;if(i!==null)throw i}}function Fl(i,r,o,u){lm=!1;var f=i.updateQueue;Gs=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var I=S,j=I.next;I.next=null,E===null?g=j:E.next=j,E=I;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=j:S.next=j,Z.lastBaseUpdate=I))}if(g!==null){var nt=f.baseState;E=0,Z=j=I=null,S=g;do{var Y=S.lane&-536870913,W=Y!==S.lane;if(W?(Bt&Y)===Y:(u&Y)===Y){Y!==0&&Y===io&&(lm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=i,At=S;Y=r;var de=o;switch(At.tag){case 1:if(mt=At.payload,typeof mt=="function"){nt=mt.call(de,nt,Y);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=At.payload,Y=typeof mt=="function"?mt.call(de,nt,Y):mt,Y==null)break t;nt=D({},nt,Y);break t;case 2:Gs=!0}}Y=S.callback,Y!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(j=Z=W,I=nt):Z=Z.next=W,E|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(I=nt),f.baseState=I,f.firstBaseUpdate=j,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),Zs|=E,i.lanes=E,i.memoizedState=nt}}function K_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function $_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)K_(o[i],r)}function Hl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){Wt(r,r.return,S)}}function Ys(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=r;var I=o;try{S()}catch(j){Wt(f,I,j)}}}u=u.next}while(u!==g)}}catch(j){Wt(r,r.return,j)}}function Y_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{$_(r,o)}catch(u){Wt(i,i.return,u)}}}function Q_(i,r,o){o.props=na(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Wt(i,r,u)}}function ra(i,r){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(g){Wt(i,r,g)}}function An(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Wt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Wt(i,r,f)}else o.current=null}function X_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Wt(i,i.return,f)}}function W_(i,r,o){try{var u=i.stateNode;xx(u,i.type,o,r),u[xe]=r}catch(f){Wt(i,i.return,f)}}function Z_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function um(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Z_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(i,r):o.insertBefore(i,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(i,o)):(r=o,r.appendChild(i)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=yh));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(cm(i,r,o),i=i.sibling;i!==null;)cm(i,r,o),i=i.sibling}function sh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(sh(i,r,o),i=i.sibling;i!==null;)sh(i,r,o),i=i.sibling}var ts=!1,he=!1,hm=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Be=null,t0=!1;function ix(i,r){if(i=i.containerInfo,jm=Ah,i=yv(i),dd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,S=-1,I=-1,j=0,Z=0,nt=i,Y=null;e:for(;;){for(var W;nt!==o||f!==0&&nt.nodeType!==3||(S=E+f),nt!==g||u!==0&&nt.nodeType!==3||(I=E+u),nt.nodeType===3&&(E+=nt.nodeValue.length),(W=nt.firstChild)!==null;)Y=nt,nt=W;for(;;){if(nt===i)break e;if(Y===o&&++j===f&&(S=E),Y===g&&++Z===u&&(I=E),(W=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=W}o=S===-1||I===-1?null:{start:S,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bm={focusedElem:i,selectionRange:o},Ah=!1,Be=r;Be!==null;)if(r=Be,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Be=i;else for(;Be!==null;){switch(r=Be,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var mt=na(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(mt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(At){Wt(o,o.return,At)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)qm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":qm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Be=i;break}Be=r.return}return mt=t0,t0=!1,mt}function e0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ns(i,o),u&4&&Hl(5,o);break;case 1:if(ns(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(S){Wt(o,o.return,S)}else{var f=na(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Wt(o,o.return,S)}}u&64&&Y_(o),u&512&&ra(o,o.return);break;case 3:if(ns(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{$_(u,i)}catch(S){Wt(o,o.return,S)}}break;case 26:ns(i,o),u&512&&ra(o,o.return);break;case 27:case 5:ns(i,o),r===null&&u&4&&X_(o),u&512&&ra(o,o.return);break;case 12:ns(i,o);break;case 13:ns(i,o),u&4&&s0(i,o);break;case 22:if(f=o.memoizedState!==null||ts,!f){r=r!==null&&r.memoizedState!==null||he;var g=ts,E=he;ts=f,(he=r)&&!E?Qs(i,o,(o.subtreeFlags&8772)!==0):ns(i,o),ts=g,he=E}u&512&&(o.memoizedProps.mode==="manual"?ra(o,o.return):An(o,o.return));break;default:ns(i,o)}}function n0(i){var r=i.alternate;r!==null&&(i.alternate=null,n0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Mr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ae=null,wn=!1;function es(i,r,o){for(o=o.child;o!==null;)i0(i,r,o),o=o.sibling}function i0(i,r,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(As,o)}catch{}switch(o.tag){case 26:he||An(o,r),es(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:he||An(o,r);var u=Ae,f=wn;for(Ae=o.stateNode,es(i,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);Mr(o),Ae=u,wn=f;break;case 5:he||An(o,r);case 6:f=Ae;var g=wn;if(Ae=null,es(i,r,o),Ae=f,wn=g,Ae!==null)if(wn)try{i=Ae,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(E){Wt(o,r,E)}else try{Ae.removeChild(o.stateNode)}catch(E){Wt(o,r,E)}break;case 18:Ae!==null&&(wn?(r=Ae,o=o.stateNode,r.nodeType===8?Hm(r.parentNode,o):r.nodeType===1&&Hm(r,o),ou(r)):Hm(Ae,o.stateNode));break;case 4:u=Ae,f=wn,Ae=o.stateNode.containerInfo,wn=!0,es(i,r,o),Ae=u,wn=f;break;case 0:case 11:case 14:case 15:he||Ys(2,o,r),he||Ys(4,o,r),es(i,r,o);break;case 1:he||(An(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Q_(o,r,u)),es(i,r,o);break;case 21:es(i,r,o);break;case 22:he||An(o,r),he=(u=he)||o.memoizedState!==null,es(i,r,o),he=u;break;default:es(i,r,o)}}function s0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ou(i)}catch(o){Wt(r,r.return,o)}}function sx(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new J_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new J_),r;default:throw Error(s(435,i.tag))}}function fm(i,r){var o=sx(i);r.forEach(function(u){var f=yx.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Fn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=r,S=E;t:for(;S!==null;){switch(S.tag){case 27:case 5:Ae=S.stateNode,wn=!1;break t;case 3:Ae=S.stateNode.containerInfo,wn=!0;break t;case 4:Ae=S.stateNode.containerInfo,wn=!0;break t}S=S.return}if(Ae===null)throw Error(s(160));i0(g,E,f),Ae=null,wn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)r0(r,i),r=r.sibling}var ii=null;function r0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Fn(r,i),Hn(i),u&4&&(Ys(3,i,i.return),Hl(3,i),Ys(5,i,i.return));break;case 1:Fn(r,i),Hn(i),u&512&&(he||o===null||An(o,o.return)),u&64&&ts&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ii;if(Fn(r,i),Hn(i),u&512&&(he||o===null||An(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ps]||g[ke]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ke(g,u,o),g[ke]=i,se(g),u=g;break t;case"link":var E=X0("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break e}}g=f.createElement(u),Ke(g,u,o),f.head.appendChild(g);break;case"meta":if(E=X0("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break e}}g=f.createElement(u),Ke(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[ke]=i,se(g),u=g}i.stateNode=u}else W0(f,i.type,i.stateNode);else i.stateNode=Q0(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?W0(f,i.type,i.stateNode):Q0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&W_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){f=i.stateNode,g=i.memoizedProps;try{for(var I=f.firstChild;I;){var j=I.nextSibling,Z=I.nodeName;I[Ps]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=j}for(var nt=i.type,Y=f.attributes;Y.length;)f.removeAttributeNode(Y[0]);Ke(f,nt,g),f[ke]=i,f[xe]=g}catch(mt){Wt(i,i.return,mt)}}case 5:if(Fn(r,i),Hn(i),u&512&&(he||o===null||An(o,o.return)),i.flags&32){f=i.stateNode;try{On(f,"")}catch(mt){Wt(i,i.return,mt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,W_(i,f,o!==null?o.memoizedProps:f)),u&1024&&(hm=!0);break;case 6:if(Fn(r,i),Hn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){Wt(i,i.return,mt)}}break;case 3:if(Eh=null,f=ii,ii=_h(r.containerInfo),Fn(r,i),ii=f,Hn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ou(r.containerInfo)}catch(mt){Wt(i,i.return,mt)}hm&&(hm=!1,a0(i));break;case 4:u=ii,ii=_h(i.stateNode.containerInfo),Fn(r,i),Hn(i),ii=u;break;case 12:Fn(r,i),Hn(i);break;case 13:Fn(r,i),Hn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Em=pn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,fm(i,u)));break;case 22:if(u&512&&(he||o===null||An(o,o.return)),I=i.memoizedState!==null,j=o!==null&&o.memoizedState!==null,Z=ts,nt=he,ts=Z||I,he=nt||j,Fn(r,i),he=nt,ts=Z,Hn(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=ts||he,o===null||j||r||lo(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(o=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){j=o=r;try{if(f=j.stateNode,I)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=j.stateNode,S=j.memoizedProps.style;var W=S!=null&&S.hasOwnProperty("display")?S.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(mt){Wt(j,j.return,mt)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=I?"":j.memoizedProps}catch(mt){Wt(j,j.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,fm(i,o))));break;case 19:Fn(r,i),Hn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,fm(i,u)));break;case 21:break;default:Fn(r,i),Hn(i)}}function Hn(i){var r=i.flags;if(r&2){try{if(i.tag!==27){t:{for(var o=i.return;o!==null;){if(Z_(o)){var u=o;break t}o=o.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,g=um(i);sh(i,g,f);break;case 5:var E=u.stateNode;u.flags&32&&(On(E,""),u.flags&=-33);var S=um(i);sh(i,S,E);break;case 3:case 4:var I=u.stateNode.containerInfo,j=um(i);cm(i,j,I);break;default:throw Error(s(161))}}}catch(Z){Wt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function a0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;a0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ns(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)e0(i,r.alternate,r),r=r.sibling}function lo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ys(4,r,r.return),lo(r);break;case 1:An(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Q_(r,r.return,o),lo(r);break;case 26:case 27:case 5:An(r,r.return),lo(r);break;case 22:An(r,r.return),r.memoizedState===null&&lo(r);break;default:lo(r)}i=i.sibling}}function Qs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:Qs(f,g,o),Hl(4,g);break;case 1:if(Qs(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Wt(u,u.return,j)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)K_(I[f],S)}catch(j){Wt(u,u.return,j)}}o&&E&64&&Y_(g),ra(g,g.return);break;case 26:case 27:case 5:Qs(f,g,o),o&&u===null&&E&4&&X_(g),ra(g,g.return);break;case 12:Qs(f,g,o);break;case 13:Qs(f,g,o),o&&E&4&&s0(f,g);break;case 22:g.memoizedState===null&&Qs(f,g,o),ra(g,g.return);break;default:Qs(f,g,o)}r=r.sibling}}function dm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ol(o))}function mm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ol(i))}function Xs(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)o0(i,r,o,u),r=r.sibling}function o0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Xs(i,r,o,u),f&2048&&Hl(9,r);break;case 3:Xs(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ol(i)));break;case 12:if(f&2048){Xs(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Wt(r,r.return,I)}}else Xs(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,r.memoizedState!==null?g._visibility&4?Xs(i,r,o,u):ql(i,r):g._visibility&4?Xs(i,r,o,u):(g._visibility|=4,uo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&dm(r.alternate,r);break;case 24:Xs(i,r,o,u),f&2048&&mm(r.alternate,r);break;default:Xs(i,r,o,u)}}function uo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,E=r,S=o,I=u,j=E.flags;switch(E.tag){case 0:case 11:case 15:uo(g,E,S,I,f),Hl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&4?uo(g,E,S,I,f):ql(g,E):(Z._visibility|=4,uo(g,E,S,I,f)),f&&j&2048&&dm(E.alternate,E);break;case 24:uo(g,E,S,I,f),f&&j&2048&&mm(E.alternate,E);break;default:uo(g,E,S,I,f)}r=r.sibling}}function ql(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:ql(o,u),f&2048&&dm(u.alternate,u);break;case 24:ql(o,u),f&2048&&mm(u.alternate,u);break;default:ql(o,u)}r=r.sibling}}var Gl=8192;function co(i){if(i.subtreeFlags&Gl)for(i=i.child;i!==null;)l0(i),i=i.sibling}function l0(i){switch(i.tag){case 26:co(i),i.flags&Gl&&i.memoizedState!==null&&Kx(ii,i.memoizedState,i.memoizedProps);break;case 5:co(i);break;case 3:case 4:var r=ii;ii=_h(i.stateNode.containerInfo),co(i),ii=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Gl,Gl=16777216,co(i),Gl=r):co(i));break;default:co(i)}}function u0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Kl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Be=u,h0(u,i)}u0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c0(i),i=i.sibling}function c0(i){switch(i.tag){case 0:case 11:case 15:Kl(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:Kl(i);break;case 12:Kl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,rh(i)):Kl(i);break;default:Kl(i)}}function rh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Be=u,h0(u,i)}u0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ys(8,r,r.return),rh(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,rh(r));break;default:rh(r)}i=i.sibling}}function h0(i,r){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:Ys(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ol(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Be=u;else t:for(o=i;Be!==null;){u=Be;var f=u.sibling,g=u.return;if(n0(u),u===o){Be=null;break t}if(f!==null){f.return=g,Be=f;break t}Be=g}}}function rx(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(i,r,o,u){return new rx(i,r,o,u)}function pm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ws(i,r){var o=i.alternate;return o===null?(o=qn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function f0(i,r){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ah(i,r,o,u,f,g){var E=0;if(u=i,typeof i=="function")pm(i)&&(E=1);else if(typeof i=="string")E=qx(i,o,on.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case m:return aa(o.children,f,g,r);case p:E=8,f|=24;break;case v:return i=qn(12,o,r,f|2),i.elementType=v,i.lanes=g,i;case L:return i=qn(13,o,r,f),i.elementType=L,i.lanes=g,i;case O:return i=qn(19,o,r,f),i.elementType=O,i.lanes=g,i;case K:return d0(o,f,g,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case x:E=10;break t;case b:E=9;break t;case V:E=11;break t;case B:E=14;break t;case H:E=16,u=null;break t}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=qn(E,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function aa(i,r,o,u){return i=qn(7,i,u,r),i.lanes=o,i}function d0(i,r,o,u){i=qn(22,i,u,r),i.elementType=K,i.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var E=js(g,2);E!==null&&(f._pendingVisibility|=2,fn(E,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var E=js(g,2);E!==null&&(f._pendingVisibility&=-3,fn(E,g,2))}}};return i.stateNode=f,i}function gm(i,r,o){return i=qn(6,i,null,r),i.lanes=o,i}function ym(i,r,o){return r=qn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function is(i){i.flags|=4}function m0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Z0(r)){if(r=zn.current,r!==null&&((Bt&4194176)===Bt?Ei!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==Ei))throw Dl=bd,Pv;i.flags|=8192}}function oh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?xs():536870912,i.lanes|=r,fo|=r)}function $l(i,r){if(!qt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function re(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function ax(i,r,o){var u=r.pendingProps;switch(Td(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(r),null;case 1:return re(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ji(Pe),ki(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Rl(r)?is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ni!==null&&(wm(ni),ni=null))),re(r),null;case 26:return o=r.memoizedState,i===null?(is(r),o!==null?(re(r),m0(r,o)):(re(r),r.flags&=-16777217)):o?o!==i.memoizedState?(is(r),re(r),m0(r,o)):(re(r),r.flags&=-16777217):(i.memoizedProps!==u&&is(r),re(r),r.flags&=-16777217),null;case 27:Pa(r),o=Dn.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return re(r),null}i=on.current,Rl(r)?Iv(r):(i=q0(f,u,o),r.stateNode=i,is(r))}return re(r),null;case 5:if(Pa(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return re(r),null}if(i=on.current,Rl(r))Iv(r);else{switch(f=vh(Dn.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[ke]=r,i[xe]=u;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ke(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&is(r)}}return re(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&is(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Dn.current,Rl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=hn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[ke]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||U0(i.nodeValue,o)),i||Xr(r)}else i=vh(i).createTextNode(u),i[ke]=r,r.stateNode=i}return re(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Rl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ke]=r}else xl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;re(r),f=!1}else ni!==null&&(wm(ni),ni=null),f=!0;if(!f)return r.flags&256?(Qi(r),r):(Qi(r),null)}if(Qi(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),oh(r,r.updateQueue),re(r),null;case 4:return ki(),i===null&&km(r.stateNode.containerInfo),re(r),null;case 10:return Ji(r.type),re(r),null;case 19:if(ue(De),f=r.memoizedState,f===null)return re(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)$l(f,!1);else{if(fe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=qc(i),g!==null){for(r.flags|=128,$l(f,!1),i=g.updateQueue,r.updateQueue=i,oh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)f0(o,i),o=o.sibling;return Yt(De,De.current&1|2),r.child}i=i.sibling}f.tail!==null&&pn()>lh&&(r.flags|=128,u=!0,$l(f,!1),r.lanes=4194304)}else{if(!u)if(i=qc(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,oh(r,i),$l(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!qt)return re(r),null}else 2*pn()-f.renderingStartTime>lh&&o!==536870912&&(r.flags|=128,u=!0,$l(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=pn(),r.sibling=null,i=De.current,Yt(De,u?i&1|2:i&1),r):(re(r),null);case 22:case 23:return Qi(r),Ad(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(re(r),r.subtreeFlags&6&&(r.flags|=8192)):re(r),o=r.updateQueue,o!==null&&oh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ue(Zr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ji(Pe),re(r),null;case 25:return null}throw Error(s(156,r.tag))}function ox(i,r){switch(Td(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ji(Pe),ki(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pa(r),null;case 13:if(Qi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));xl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ue(De),null;case 4:return ki(),null;case 10:return Ji(r.type),null;case 22:case 23:return Qi(r),Ad(),i!==null&&ue(Zr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ji(Pe),null;case 25:return null;default:return null}}function p0(i,r){switch(Td(r),r.tag){case 3:Ji(Pe),ki();break;case 26:case 27:case 5:Pa(r);break;case 4:ki();break;case 13:Qi(r);break;case 19:ue(De);break;case 10:Ji(r.type);break;case 22:case 23:Qi(r),Ad(),i!==null&&ue(Zr);break;case 24:Ji(Pe)}}var lx={getCacheForType:function(i){var r=Ze(Pe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},ux=typeof WeakMap=="function"?WeakMap:Map,ae=0,Zt=null,Ot=null,Bt=0,Jt=0,Rn=null,ss=!1,ho=!1,vm=!1,rs=0,fe=0,Zs=0,oa=0,_m=0,Gn=0,fo=0,Yl=null,Si=null,Tm=!1,Em=0,lh=1/0,uh=null,Js=null,ch=!1,la=null,Ql=0,bm=0,Sm=null,Xl=0,Am=null;function xn(){if((ae&2)!==0&&Bt!==0)return Bt&-Bt;if(R.T!==null){var i=io;return i!==0?i:Nm()}return gc()}function g0(){Gn===0&&(Gn=(Bt&536870912)===0||qt?ll():536870912);var i=zn.current;return i!==null&&(i.flags|=32),Gn}function fn(i,r,o){(i===Zt&&Jt===2||i.cancelPendingCommit!==null)&&(mo(i,0),as(i,Bt,Gn,!1)),ge(i,o),((ae&2)===0||i!==Zt)&&(i===Zt&&((ae&2)===0&&(oa|=o),fe===4&&as(i,Bt,Gn,!1)),Ai(i))}function y0(i,r,o){if((ae&6)!==0)throw Error(s(327));var u=!o&&(r&60)===0&&(r&i.expiredLanes)===0||Rs(i,r),f=u?fx(i,r):Cm(i,r,!0),g=u;do{if(f===0){ho&&!u&&as(i,r,0,!1);break}else if(f===6)as(i,r,0,!ss);else{if(o=i.current.alternate,g&&!cx(o)){f=Cm(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var S=i;f=Yl;var I=S.current.memoizedState.isDehydrated;if(I&&(mo(S,E).flags|=256),E=Cm(S,E,!1),E!==2){if(vm&&!I){S.errorRecoveryDisabledLanes|=g,oa|=g,f=4;break t}g=Si,Si=f,g!==null&&wm(g)}f=E}if(g=!1,f!==2)continue}}if(f===1){mo(i,0),as(i,r,0,!0);break}t:{switch(u=i,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){as(u,r,Gn,!ss);break t}break;case 2:Si=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=o,u.finishedLanes=r,(r&62914560)===r&&(g=Em+300-pn(),10<g)){if(as(u,r,Gn,!ss),Pn(u,0)!==0)break t;u.timeoutHandle=z0(v0.bind(null,u,o,Si,uh,Tm,r,Gn,oa,fo,ss,2,-0,0),g);break t}v0(u,o,Si,uh,Tm,r,Gn,oa,fo,ss,0,-0,0)}}break}while(!0);Ai(i)}function wm(i){Si===null?Si=i:Si.push.apply(Si,i)}function v0(i,r,o,u,f,g,E,S,I,j,Z,nt,Y){var W=r.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(nu={stylesheets:null,count:0,unsuspend:Gx},l0(r),r=$x(),r!==null)){i.cancelPendingCommit=r(w0.bind(null,i,o,u,f,E,S,I,1,nt,Y)),as(i,g,E,!j);return}w0(i,o,u,f,E,S,I,Z,nt,Y)}function cx(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Sn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function as(i,r,o,u){r&=~_m,r&=~oa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-ln(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&Cs(i,o,r)}function hh(){return(ae&6)===0?(Wl(0),!1):!0}function Rm(){if(Ot!==null){if(Jt===0)var i=Ot.return;else i=Ot,Zi=ia=null,Nd(i),eo=null,Pl=0,i=Ot;for(;i!==null;)p0(i.alternate,i),i=i.return;Ot=null}}function mo(i,r){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Ix(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Rm(),Zt=i,Ot=o=Ws(i.current,null),Bt=r,Jt=0,Rn=null,ss=!1,ho=Rs(i,r),vm=!1,fo=Gn=_m=oa=Zs=fe=0,Si=Yl=null,Tm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-ln(u),g=1<<f;r|=i[f],u&=~g}return rs=r,Mc(),o}function _0(i,r){It=null,R.H=bi,r===Il?(r=Vv(),Jt=3):r===Pv?(r=Vv(),Jt=4):Jt=r===N_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Ot===null&&(fe=1,eh(i,Un(r,i.current)))}function T0(){var i=R.H;return R.H=bi,i===null?bi:i}function E0(){var i=R.A;return R.A=lx,i}function xm(){fe=4,ss||(Bt&4194176)!==Bt&&zn.current!==null||(ho=!0),(Zs&134217727)===0&&(oa&134217727)===0||Zt===null||as(Zt,Bt,Gn,!1)}function Cm(i,r,o){var u=ae;ae|=2;var f=T0(),g=E0();(Zt!==i||Bt!==r)&&(uh=null,mo(i,r)),r=!1;var E=fe;t:do try{if(Jt!==0&&Ot!==null){var S=Ot,I=Rn;switch(Jt){case 8:Rm(),E=6;break t;case 3:case 2:case 6:zn.current===null&&(r=!0);var j=Jt;if(Jt=0,Rn=null,po(i,S,I,j),o&&ho){E=0;break t}break;default:j=Jt,Jt=0,Rn=null,po(i,S,I,j)}}hx(),E=fe;break}catch(Z){_0(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Zi=ia=null,ae=u,R.H=f,R.A=g,Ot===null&&(Zt=null,Bt=0,Mc()),E}function hx(){for(;Ot!==null;)b0(Ot)}function fx(i,r){var o=ae;ae|=2;var u=T0(),f=E0();Zt!==i||Bt!==r?(uh=null,lh=pn()+500,mo(i,r)):ho=Rs(i,r);t:do try{if(Jt!==0&&Ot!==null){r=Ot;var g=Rn;e:switch(Jt){case 1:Jt=0,Rn=null,po(i,r,g,1);break;case 2:if(Nv(g)){Jt=0,Rn=null,S0(r);break}r=function(){Jt===2&&Zt===i&&(Jt=7),Ai(i)},g.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Nv(g)?(Jt=0,Rn=null,S0(r)):(Jt=0,Rn=null,po(i,r,g,7));break;case 5:var E=null;switch(Ot.tag){case 26:E=Ot.memoizedState;case 5:case 27:var S=Ot;if(!E||Z0(E)){Jt=0,Rn=null;var I=S.sibling;if(I!==null)Ot=I;else{var j=S.return;j!==null?(Ot=j,fh(j)):Ot=null}break e}}Jt=0,Rn=null,po(i,r,g,5);break;case 6:Jt=0,Rn=null,po(i,r,g,6);break;case 8:Rm(),fe=6;break t;default:throw Error(s(462))}}dx();break}catch(Z){_0(i,Z)}while(!0);return Zi=ia=null,R.H=u,R.A=f,ae=o,Ot!==null?0:(Zt=null,Bt=0,Mc(),fe)}function dx(){for(;Ot!==null&&!nd();)b0(Ot)}function b0(i){var r=q_(i.alternate,i,rs);i.memoizedProps=i.pendingProps,r===null?fh(i):Ot=r}function S0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=U_(o,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=U_(o,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Nd(r);default:p0(o,r),r=Ot=f0(r,rs),r=q_(o,r,rs)}i.memoizedProps=i.pendingProps,r===null?fh(i):Ot=r}function po(i,r,o,u){Zi=ia=null,Nd(r),eo=null,Pl=0;var f=r.return;try{if(ex(i,f,r,o,Bt)){fe=1,eh(i,Un(o,i.current)),Ot=null;return}}catch(g){if(f!==null)throw Ot=f,g;fe=1,eh(i,Un(o,i.current)),Ot=null;return}r.flags&32768?(qt||u===1?i=!0:ho||(Bt&536870912)!==0?i=!1:(ss=i=!0,(u===2||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),A0(r,i)):fh(r)}function fh(i){var r=i;do{if((r.flags&32768)!==0){A0(r,ss);return}i=r.return;var o=ax(r.alternate,r,rs);if(o!==null){Ot=o;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=i}while(r!==null);fe===0&&(fe=5)}function A0(i,r){do{var o=ox(i.alternate,i);if(o!==null){o.flags&=32767,Ot=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ot=i;return}Ot=i=o}while(i!==null);fe=6,Ot=null}function w0(i,r,o,u,f,g,E,S,I,j){var Z=R.T,nt=ht.p;try{ht.p=2,R.T=null,mx(i,r,o,u,nt,f,g,E,S,I,j)}finally{R.T=Z,ht.p=nt}}function mx(i,r,o,u,f,g,E,S){do go();while(la!==null);if((ae&6)!==0)throw Error(s(327));var I=i.finishedWork;if(u=i.finishedLanes,I===null)return null;if(i.finishedWork=null,i.finishedLanes=0,I===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var j=I.lanes|I.childLanes;if(j|=yd,mc(i,u,j,g,E,S),i===Zt&&(Ot=Zt=null,Bt=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||ch||(ch=!0,bm=j,Sm=o,vx(Li,function(){return go(),null})),o=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||o?(o=R.T,R.T=null,g=ht.p,ht.p=2,E=ae,ae|=4,ix(i,I),r0(I,i),UR(Bm,i.containerInfo),Ah=!!jm,Bm=jm=null,i.current=I,e0(i,I.alternate,I),sl(),ae=E,ht.p=g,R.T=o):i.current=I,ch?(ch=!1,la=i,Ql=u):R0(i,j),j=i.pendingLanes,j===0&&(Js=null),al(I.stateNode),Ai(i),r!==null)for(f=i.onRecoverableError,I=0;I<r.length;I++)j=r[I],f(j.value,{componentStack:j.stack});return(Ql&3)!==0&&go(),j=i.pendingLanes,(u&4194218)!==0&&(j&42)!==0?i===Am?Xl++:(Xl=0,Am=i):Xl=0,Wl(0),null}function R0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ol(r)))}function go(){if(la!==null){var i=la,r=bm;bm=0;var o=pc(Ql),u=R.T,f=ht.p;try{if(ht.p=32>o?32:o,R.T=null,la===null)var g=!1;else{o=Sm,Sm=null;var E=la,S=Ql;if(la=null,Ql=0,(ae&6)!==0)throw Error(s(331));var I=ae;if(ae|=4,c0(E.current),o0(E,E.current,S,o),ae=I,Wl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(As,E)}catch{}g=!0}return g}finally{ht.p=f,R.T=u,R0(i,r)}}return!1}function x0(i,r,o){r=Un(o,r),r=Kd(i.stateNode,r,2),i=$s(i,r,2),i!==null&&(ge(i,2),Ai(i))}function Wt(i,r,o){if(i.tag===3)x0(i,i,o);else for(;r!==null;){if(r.tag===3){x0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){i=Un(o,i),o=D_(2),u=$s(r,o,2),u!==null&&(P_(o,u,r,i),ge(u,2),Ai(u));break}}r=r.return}}function Im(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new ux;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(vm=!0,f.add(o),i=px.bind(null,i,r,o),r.then(i,i))}function px(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Zt===i&&(Bt&o)===o&&(fe===4||fe===3&&(Bt&62914560)===Bt&&300>pn()-Em?(ae&2)===0&&mo(i,0):_m|=o,fo===Bt&&(fo=0)),Ai(i)}function C0(i,r){r===0&&(r=xs()),i=js(i,r),i!==null&&(ge(i,r),Ai(i))}function gx(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),C0(i,o)}function yx(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),C0(i,o)}function vx(i,r){return Nr(i,r)}var dh=null,yo=null,Dm=!1,mh=!1,Pm=!1,ua=0;function Ai(i){i!==yo&&i.next===null&&(yo===null?dh=yo=i:yo=yo.next=i),mh=!0,Dm||(Dm=!0,Tx(_x))}function Wl(i,r){if(!Pm&&mh){Pm=!0;do for(var o=!1,u=dh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-ln(42|i)+1)-1,g&=f&~(E&~S),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,P0(u,g))}else g=Bt,g=Pn(u,u===Zt?g:0),(g&3)===0||Rs(u,g)||(o=!0,P0(u,g));u=u.next}while(o);Pm=!1}}function _x(){mh=Dm=!1;var i=0;ua!==0&&(Cx()&&(i=ua),ua=0);for(var r=pn(),o=null,u=dh;u!==null;){var f=u.next,g=I0(u,r);g===0?(u.next=null,o===null?dh=f:o.next=f,f===null&&(yo=o)):(o=u,(i!==0||(g&3)!==0)&&(mh=!0)),u=f}Wl(i)}function I0(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-ln(g),S=1<<E,I=f[E];I===-1?((S&o)===0||(S&u)!==0)&&(f[E]=Va(S,r)):I<=r&&(i.expiredLanes|=S),g&=~S}if(r=Zt,o=Bt,o=Pn(i,i===r?o:0),u=i.callbackNode,o===0||i===r&&Jt===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Oa(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Rs(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Oa(u),pc(o)){case 2:case 8:o=Me;break;case 32:o=Li;break;case 268435456:o=rl;break;default:o=Li}return u=D0.bind(null,i),o=Nr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Oa(u),i.callbackPriority=2,i.callbackNode=null,2}function D0(i,r){var o=i.callbackNode;if(go()&&i.callbackNode!==o)return null;var u=Bt;return u=Pn(i,i===Zt?u:0),u===0?null:(y0(i,u,r),I0(i,pn()),i.callbackNode!=null&&i.callbackNode===o?D0.bind(null,i):null)}function P0(i,r){if(go())return null;y0(i,r,!0)}function Tx(i){Dx(function(){(ae&6)!==0?Nr(Re,i):i()})}function Nm(){return ua===0&&(ua=ll()),ua}function N0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:di(""+i)}function O0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function Ex(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=N0((f[xe]||null).action),E=u.submitter;E&&(r=(r=E[xe]||null)?N0(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var S=new za("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ua!==0){var I=E?O0(f,E):new FormData(f);zd(o,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(S.preventDefault(),I=E?O0(f,E):new FormData(f),zd(o,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var Om=0;Om<wv.length;Om++){var Vm=wv[Om],bx=Vm.toLowerCase(),Sx=Vm[0].toUpperCase()+Vm.slice(1);ei(bx,"on"+Sx)}ei(Tv,"onAnimationEnd"),ei(Ev,"onAnimationIteration"),ei(bv,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(BR,"onTransitionRun"),ei(zR,"onTransitionStart"),ei(FR,"onTransitionCancel"),ei(Sv,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function V0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],I=S.instance,j=S.currentTarget;if(S=S.listener,I!==g&&f.isPropagationStopped())break t;g=S,f.currentTarget=j;try{g(f)}catch(Z){th(Z)}f.currentTarget=null,g=I}else for(E=0;E<u.length;E++){if(S=u[E],I=S.instance,j=S.currentTarget,S=S.listener,I!==g&&f.isPropagationStopped())break t;g=S,f.currentTarget=j;try{g(f)}catch(Z){th(Z)}f.currentTarget=null,g=I}}}}function kt(i,r){var o=r[Vr];o===void 0&&(o=r[Vr]=new Set);var u=i+"__bubble";o.has(u)||(M0(r,i,2,!1),o.add(u))}function Mm(i,r,o){var u=0;r&&(u|=4),M0(o,i,u,r)}var ph="_reactListening"+Math.random().toString(36).slice(2);function km(i){if(!i[ph]){i[ph]=!0,cl.forEach(function(o){o!=="selectionchange"&&(Ax.has(o)||Mm(o,!1,i),Mm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ph]||(r[ph]=!0,Mm("selectionchange",!1,r))}}function M0(i,r,o,u){switch(sT(r)){case 2:var f=Xx;break;case 8:f=Wx;break;default:f=Qm}o=f.bind(null,r,o,i),f=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Lm(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;E=E.return}for(;S!==null;){if(E=ti(S),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=g=E;continue t}S=S.parentNode}}u=u.return}Tc(function(){var j=g,Z=Ba(o),nt=[];t:{var Y=Av.get(i);if(Y!==void 0){var W=za,mt=i;switch(i){case"keypress":if(pi(o)===0)break t;case"keydown":case"keyup":W=$a;break;case"focusin":mt="focus",W=qa;break;case"focusout":mt="blur",W=qa;break;case"beforeblur":case"afterblur":W=qa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Cc;break;case Tv:case Ev:case bv:W=Ga;break;case Sv:W=Dc;break;case"scroll":case"scrollend":W=Ec;break;case"wheel":W=Ya;break;case"copy":case"cut":case"paste":W=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=bl;break;case"toggle":case"beforetoggle":W=Nc}var At=(r&4)!==0,de=!At&&(i==="scroll"||i==="scrollend"),q=At?Y!==null?Y+"Capture":null:Y;At=[];for(var U=j,$;U!==null;){var J=U;if($=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||$===null||q===null||(J=jr(U,q),J!=null&&At.push(Jl(U,J,$))),de)break;U=U.return}0<At.length&&(Y=new W(Y,mt,null,o,Z),nt.push({event:Y,listeners:At}))}}if((r&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Y&&o!==Vn&&(mt=o.relatedTarget||o.fromElement)&&(ti(mt)||mt[Ui]))break t;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(mt=o.relatedTarget||o.toElement,W=j,mt=mt?ti(mt):null,mt!==null&&(de=lt(mt),At=mt.tag,mt!==de||At!==5&&At!==27&&At!==6)&&(mt=null)):(W=null,mt=j),W!==mt)){if(At=kn,J="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(At=bl,J="onPointerLeave",q="onPointerEnter",U="pointer"),de=W==null?Y:Ns(W),$=mt==null?Y:Ns(mt),Y=new At(J,U+"leave",W,o,Z),Y.target=de,Y.relatedTarget=$,J=null,ti(Z)===j&&(At=new At(q,U+"enter",mt,o,Z),At.target=$,At.relatedTarget=de,J=At),de=J,W&&mt)e:{for(At=W,q=mt,U=0,$=At;$;$=vo($))U++;for($=0,J=q;J;J=vo(J))$++;for(;0<U-$;)At=vo(At),U--;for(;0<$-U;)q=vo(q),$--;for(;U--;){if(At===q||q!==null&&At===q.alternate)break e;At=vo(At),q=vo(q)}At=null}else At=null;W!==null&&k0(nt,Y,W,At,!1),mt!==null&&de!==null&&k0(nt,de,mt,At,!0)}}t:{if(Y=j?Ns(j):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var dt=uv;else if(Ie(Y))if(cv)dt=kR;else{dt=VR;var Nt=OR}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?j&&pl(j.elementType)&&(dt=uv):dt=MR;if(dt&&(dt=dt(i,j))){Ki(nt,dt,o,Z);break t}Nt&&Nt(i,Y,j),i==="focusout"&&j&&Y.type==="number"&&j.memoizedProps.value!=null&&ja(Y,"number",Y.value)}switch(Nt=j?Ns(j):window,i){case"focusin":(Ie(Nt)||Nt.contentEditable==="true")&&(Qa=Nt,md=j,wl=null);break;case"focusout":wl=md=Qa=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,vv(nt,o,Z);break;case"selectionchange":if(jR)break;case"keydown":case"keyup":vv(nt,o,Z)}var gt;if(vi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ut?Q(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(T&&o.locale!=="ko"&&(Ut||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ut&&(gt=yl()):(mi=Z,Us="value"in mi?mi.value:mi.textContent,Ut=!0)),Nt=gh(j,_t),0<Nt.length&&(_t=new Tl(_t,i,null,o,Z),nt.push({event:_t,listeners:Nt}),gt?_t.data=gt:(gt=at(o),gt!==null&&(_t.data=gt)))),(gt=y?Ce(i,o):jt(i,o))&&(_t=gh(j,"onBeforeInput"),0<_t.length&&(Nt=new Tl("onBeforeInput","beforeinput",null,o,Z),nt.push({event:Nt,listeners:_t}),Nt.data=gt)),Ex(nt,i,j,o,Z)}V0(nt,r)})}function Jl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function gh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=jr(i,o),f!=null&&u.unshift(Jl(i,f,g)),f=jr(i,r),f!=null&&u.push(Jl(i,f,g))),i=i.return}return u}function vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function k0(i,r,o,u,f){for(var g=r._reactName,E=[];o!==null&&o!==u;){var S=o,I=S.alternate,j=S.stateNode;if(S=S.tag,I!==null&&I===u)break;S!==5&&S!==26&&S!==27||j===null||(I=j,f?(j=jr(o,g),j!=null&&E.unshift(Jl(o,j,I))):f||(j=jr(o,g),j!=null&&E.push(Jl(o,j,I)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var wx=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function L0(i){return(typeof i=="string"?i:""+i).replace(wx,`
`).replace(Rx,"")}function U0(i,r){return r=L0(r),L0(i)===r}function yh(){}function Xt(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||On(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&On(i,""+u);break;case"className":Ms(i,"class",u);break;case"tabIndex":Ms(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(i,o,u);break;case"style":_c(i,u,g);break;case"data":if(r!=="object"){Ms(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=di(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Xt(i,r,"name",f.name,f,null),Xt(i,r,"formEncType",f.formEncType,f,null),Xt(i,r,"formMethod",f.formMethod,f,null),Xt(i,r,"formTarget",f.formTarget,f,null)):(Xt(i,r,"encType",f.encType,f,null),Xt(i,r,"method",f.method,f,null),Xt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=di(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=yh);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=di(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":kt("beforetoggle",i),kt("toggle",i),Vs(i,"popover",u);break;case"xlinkActuate":Nn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Vs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=od.get(o)||o,Vs(i,o,u))}}function Um(i,r,o,u,f,g){switch(o){case"style":_c(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?On(i,u):(typeof u=="number"||typeof u=="bigint")&&On(i,""+u);break;case"onScroll":u!=null&&kt("scroll",i);break;case"onScrollEnd":u!=null&&kt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[xe]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Vs(i,o,u)}}}function Ke(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",i),kt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,g,E,o,null)}}f&&Xt(i,r,"srcSet",o.srcSet,o,null),u&&Xt(i,r,"src",o.src,o,null);return;case"input":kt("invalid",i);var S=g=E=f=null,I=null,j=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":I=Z;break;case"defaultChecked":j=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Xt(i,r,u,Z,o,null)}}Lr(i,g,S,I,j,E,f,!1),kr(i);return;case"select":kt("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:Xt(i,r,f,S,o,null)}r=g,o=E,i.multiple=!!u,r!=null?Ht(i,!!u,r,!1):o!=null&&Ht(i,!!u,o,!0);return;case"textarea":kt("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Xt(i,r,E,S,o,null)}Ls(i,u,f,g),kr(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xt(i,r,I,u,o,null)}return;case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":kt("load",i);break;case"video":case"audio":for(u=0;u<Zl.length;u++)kt(Zl[u],i);break;case"image":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"embed":case"source":case"link":kt("error",i),kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,j,u,o,null)}return;default:if(pl(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Um(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Xt(i,r,S,u,o,null))}function xx(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,S=null,I=null,j=null,Z=null;for(W in o){var nt=o[W];if(o.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":I=nt;default:u.hasOwnProperty(W)||Xt(i,r,W,null,u,nt)}}for(var Y in u){var W=u[Y];if(nt=o[Y],u.hasOwnProperty(Y)&&(W!=null||nt!=null))switch(Y){case"type":g=W;break;case"name":f=W;break;case"checked":j=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==nt&&Xt(i,r,Y,W,u,nt)}}ks(i,E,S,I,j,Z,g,f);return;case"select":W=E=S=Y=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":W=I;default:u.hasOwnProperty(g)||Xt(i,r,g,null,u,I)}for(f in u)if(g=u[f],I=o[f],u.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==I&&Xt(i,r,f,g,u,I)}r=S,o=E,u=W,Y!=null?Ht(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Ht(i,!!o,r,!0):Ht(i,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xt(i,r,S,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Xt(i,r,E,f,u,g)}Ur(i,Y,W);return;case"option":for(var mt in o)if(Y=o[mt],o.hasOwnProperty(mt)&&Y!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:Xt(i,r,mt,null,u,Y)}for(I in u)if(Y=u[I],W=o[I],u.hasOwnProperty(I)&&Y!==W&&(Y!=null||W!=null))switch(I){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Xt(i,r,I,Y,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in o)Y=o[At],o.hasOwnProperty(At)&&Y!=null&&!u.hasOwnProperty(At)&&Xt(i,r,At,null,u,Y);for(j in u)if(Y=u[j],W=o[j],u.hasOwnProperty(j)&&Y!==W&&(Y!=null||W!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Xt(i,r,j,Y,u,W)}return;default:if(pl(r)){for(var de in o)Y=o[de],o.hasOwnProperty(de)&&Y!==void 0&&!u.hasOwnProperty(de)&&Um(i,r,de,void 0,u,Y);for(Z in u)Y=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||Um(i,r,Z,Y,u,W);return}}for(var q in o)Y=o[q],o.hasOwnProperty(q)&&Y!=null&&!u.hasOwnProperty(q)&&Xt(i,r,q,null,u,Y);for(nt in u)Y=u[nt],W=o[nt],!u.hasOwnProperty(nt)||Y===W||Y==null&&W==null||Xt(i,r,nt,Y,u,W)}var jm=null,Bm=null;function vh(i){return i.nodeType===9?i:i.ownerDocument}function j0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function zm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fm=null;function Cx(){var i=window.event;return i&&i.type==="popstate"?i===Fm?!1:(Fm=i,!0):(Fm=null,!1)}var z0=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,Dx=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(i){return F0.resolve(null).then(i).catch(Px)}:z0;function Px(i){setTimeout(function(){throw i})}function Hm(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){i.removeChild(f),ou(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);ou(r)}function qm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qm(o),Mr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Nx(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ps])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=si(i.nextSibling),i===null)break}return null}function Ox(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=si(i.nextSibling),i===null))return null;return i}function si(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function H0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function q0(i,r,o){switch(r=vh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var Kn=new Map,G0=new Set;function _h(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var os=ht.d;ht.d={f:Vx,r:Mx,D:kx,C:Lx,L:Ux,m:jx,X:zx,S:Bx,M:Fx};function Vx(){var i=os.f(),r=hh();return i||r}function Mx(i){var r=ji(i);r!==null&&r.tag===5&&r.type==="form"?v_(r):os.r(i)}var _o=typeof document>"u"?null:document;function K0(i,r,o){var u=_o;if(u&&typeof r=="string"&&r){var f=ce(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),G0.has(f)||(G0.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ke(r,"link",i),se(r),u.head.appendChild(r)))}}function kx(i){os.D(i),K0("dns-prefetch",i,null)}function Lx(i,r){os.C(i,r),K0("preconnect",i,r)}function Ux(i,r,o){os.L(i,r,o);var u=_o;if(u&&i&&r){var f='link[rel="preload"][as="'+ce(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+ce(o.imageSizes)+'"]')):f+='[href="'+ce(i)+'"]';var g=f;switch(r){case"style":g=To(i);break;case"script":g=Eo(i)}Kn.has(g)||(i=D({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Kn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(tu(g))||r==="script"&&u.querySelector(eu(g))||(r=u.createElement("link"),Ke(r,"link",i),se(r),u.head.appendChild(r)))}}function jx(i,r){os.m(i,r);var o=_o;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ce(u)+'"][href="'+ce(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Eo(i)}if(!Kn.has(g)&&(i=D({rel:"modulepreload",href:i},r),Kn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(eu(g)))return}u=o.createElement("link"),Ke(u,"link",i),se(u),o.head.appendChild(u)}}}function Bx(i,r,o){os.S(i,r,o);var u=_o;if(u&&i){var f=Os(u).hoistableStyles,g=To(i);r=r||"default";var E=f.get(g);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(tu(g)))S.loading=5;else{i=D({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Kn.get(g))&&Gm(i,o);var I=E=u.createElement("link");se(I),Ke(I,"link",i),I._p=new Promise(function(j,Z){I.onload=j,I.onerror=Z}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Th(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(g,E)}}}function zx(i,r){os.X(i,r);var o=_o;if(o&&i){var u=Os(o).hoistableScripts,f=Eo(i),g=u.get(f);g||(g=o.querySelector(eu(f)),g||(i=D({src:i,async:!0},r),(r=Kn.get(f))&&Km(i,r),g=o.createElement("script"),se(g),Ke(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Fx(i,r){os.M(i,r);var o=_o;if(o&&i){var u=Os(o).hoistableScripts,f=Eo(i),g=u.get(f);g||(g=o.querySelector(eu(f)),g||(i=D({src:i,async:!0,type:"module"},r),(r=Kn.get(f))&&Km(i,r),g=o.createElement("script"),se(g),Ke(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function $0(i,r,o,u){var f=(f=Dn.current)?_h(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=To(o.href),o=Os(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=To(o.href);var g=Os(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(tu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Kn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(i,o),g||Hx(f,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(o),o=Os(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function To(i){return'href="'+ce(i)+'"'}function tu(i){return'link[rel="stylesheet"]['+i+"]"}function Y0(i){return D({},i,{"data-precedence":i.precedence,precedence:null})}function Hx(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ke(r,"link",o),se(r),i.head.appendChild(r))}function Eo(i){return'[src="'+ce(i)+'"]'}function eu(i){return"script[async]"+i}function Q0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+ce(o.href)+'"]');if(u)return r.instance=u,se(u),u;var f=D({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),se(u),Ke(u,"style",f),Th(u,o.precedence,i),r.instance=u;case"stylesheet":f=To(o.href);var g=i.querySelector(tu(f));if(g)return r.state.loading|=4,r.instance=g,se(g),g;u=Y0(o),(f=Kn.get(f))&&Gm(u,f),g=(i.ownerDocument||i).createElement("link"),se(g);var E=g;return E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),Ke(g,"link",u),r.state.loading|=4,Th(g,o.precedence,i),r.instance=g;case"script":return g=Eo(o.src),(f=i.querySelector(eu(g)))?(r.instance=f,se(f),f):(u=o,(f=Kn.get(g))&&(u=D({},o),Km(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),se(f),Ke(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Th(u,o.precedence,i));return r.instance}function Th(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Gm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Km(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Eh=null;function X0(i,r,o){if(Eh===null){var u=new Map,f=Eh=new Map;f.set(o,u)}else f=Eh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ps]||g[ke]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(g):u.set(E,[g])}}return u}function W0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function qx(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Z0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var nu=null;function Gx(){}function Kx(i,r,o){if(nu===null)throw Error(s(475));var u=nu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=To(o.href),g=i.querySelector(tu(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=bh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,se(g);return}g=i.ownerDocument||i,o=Y0(o),(f=Kn.get(f))&&Gm(o,f),g=g.createElement("link"),se(g);var E=g;E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),Ke(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=bh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function $x(){if(nu===null)throw Error(s(475));var i=nu;return i.stylesheets&&i.count===0&&$m(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&$m(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function bh(){if(this.count--,this.count===0){if(this.stylesheets)$m(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sh=null;function $m(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sh=new Map,r.forEach(Yx,i),Sh=null,bh.call(i))}function Yx(i,r){if(!(r.state.loading&4)){var o=Sh.get(i);if(o)var u=o.get(null);else{o=new Map,Sh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=bh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var iu={$$typeof:x,Provider:null,Consumer:null,_currentValue:Ct,_currentValue2:Ct,_threadCount:0};function Qx(i,r,o,u,f,g,E,S){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function J0(i,r,o,u,f,g,E,S,I,j,Z,nt){return i=new Qx(i,r,o,E,S,I,j,nt),r=1,g===!0&&(r|=24),g=qn(3,null,null,r),i.current=g,g.stateNode=i,r=wd(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},rm(g),i}function tT(i){return i?(i=Za,i):Za}function eT(i,r,o,u,f,g){f=tT(f),u.context===null?u.context=f:u.pendingContext=f,u=Ks(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=$s(i,u,r),o!==null&&(fn(o,i,r),Bl(o,i,r))}function nT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ym(i,r){nT(i,r),(i=i.alternate)&&nT(i,r)}function iT(i){if(i.tag===13){var r=js(i,67108864);r!==null&&fn(r,i,67108864),Ym(i,67108864)}}var Ah=!0;function Xx(i,r,o,u){var f=R.T;R.T=null;var g=ht.p;try{ht.p=2,Qm(i,r,o,u)}finally{ht.p=g,R.T=f}}function Wx(i,r,o,u){var f=R.T;R.T=null;var g=ht.p;try{ht.p=8,Qm(i,r,o,u)}finally{ht.p=g,R.T=f}}function Qm(i,r,o,u){if(Ah){var f=Xm(u);if(f===null)Lm(i,r,u,wh,o),rT(i,u);else if(Jx(f,i,r,o,u))u.stopPropagation();else if(rT(i,u),r&4&&-1<Zx.indexOf(i)){for(;f!==null;){var g=ji(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Jn(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var I=1<<31-ln(E);S.entanglements[1]|=I,E&=~I}Ai(g),(ae&6)===0&&(lh=pn()+500,Wl(0))}}break;case 13:S=js(g,2),S!==null&&fn(S,g,2),hh(),Ym(g,2)}if(g=Xm(u),g===null&&Lm(i,r,u,wh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Lm(i,r,u,null,o)}}function Xm(i){return i=Ba(i),Wm(i)}var wh=null;function Wm(i){if(wh=null,i=ti(i),i!==null){var r=lt(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=Lt(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return wh=i,null}function sT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cc()){case Re:return 2;case Me:return 8;case Li:case hc:return 32;case rl:return 268435456;default:return 32}default:return 32}}var Zm=!1,tr=null,er=null,nr=null,su=new Map,ru=new Map,ir=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rT(i,r){switch(i){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":su.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(r.pointerId)}}function au(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=ji(r),r!==null&&iT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Jx(i,r,o,u,f){switch(r){case"focusin":return tr=au(tr,i,r,o,u,f),!0;case"dragenter":return er=au(er,i,r,o,u,f),!0;case"mouseover":return nr=au(nr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return su.set(g,au(su.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,ru.set(g,au(ru.get(g)||null,i,r,o,u,f)),!0}return!1}function aT(i){var r=ti(i.target);if(r!==null){var o=lt(r);if(o!==null){if(r=o.tag,r===13){if(r=Lt(o),r!==null){i.blockedOn=r,Ds(i.priority,function(){if(o.tag===13){var u=xn(),f=js(o,u);f!==null&&fn(f,o,u),Ym(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Xm(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Vn=u,o.target.dispatchEvent(u),Vn=null}else return r=ji(o),r!==null&&iT(r),i.blockedOn=o,!1;r.shift()}return!0}function oT(i,r,o){Rh(i)&&o.delete(r)}function tC(){Zm=!1,tr!==null&&Rh(tr)&&(tr=null),er!==null&&Rh(er)&&(er=null),nr!==null&&Rh(nr)&&(nr=null),su.forEach(oT),ru.forEach(oT)}function xh(i,r){i.blockedOn===r&&(i.blockedOn=null,Zm||(Zm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tC)))}var Ch=null;function lT(i){Ch!==i&&(Ch=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ch===i&&(Ch=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Wm(u||o)===null)continue;break}var g=ji(o);g!==null&&(i.splice(r,3),r-=3,zd(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ou(i){function r(I){return xh(I,i)}tr!==null&&xh(tr,i),er!==null&&xh(er,i),nr!==null&&xh(nr,i),su.forEach(r),ru.forEach(r);for(var o=0;o<ir.length;o++){var u=ir[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ir.length&&(o=ir[0],o.blockedOn===null);)aT(o),o.blockedOn===null&&ir.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[xe]||null;if(typeof g=="function")E||lT(o);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[xe]||null)S=E.formAction;else if(Wm(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),lT(o)}}}function Jm(i){this._internalRoot=i}Ih.prototype.render=Jm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=xn();eT(o,u,i,r,null,null)},Ih.prototype.unmount=Jm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&go(),eT(i.current,2,null,i,null,null),hh(),r[Ui]=null}};function Ih(i){this._internalRoot=i}Ih.prototype.unstable_scheduleHydration=function(i){if(i){var r=gc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ir.length&&r!==0&&r<ir[o].priority;o++);ir.splice(o,0,i),o===0&&aT(i)}};var uT=t.version;if(uT!=="19.0.0")throw Error(s(527,uT,"19.0.0"));ht.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=it(r),i=i!==null?pt(i):null,i=i===null?null:i.stateNode,i};var eC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ti,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{As=Dh.inject(eC),We=Dh}catch{}}return uu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=R_,g=x_,E=C_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=J0(i,1,!1,null,null,o,u,f,g,E,S,null),i[Ui]=r.current,km(i.nodeType===8?i.parentNode:i),new Jm(r)},uu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=R_,E=x_,S=C_,I=null,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(j=o.formState)),r=J0(i,1,!0,r,o??null,u,f,g,E,S,I,j),r.context=tT(null),o=r.current,u=xn(),f=Ks(u),f.callback=null,$s(o,f,u),r.current.lanes=u,ge(r,u),Ai(r),i[Ui]=r.current,km(i),new Ih(r)},uu.version="19.0.0",uu}var _T;function dC(){if(_T)return np.exports;_T=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),np.exports=fC(),np.exports}var mC=dC();vS();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xu.apply(this,arguments)}var cr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cr||(cr={}));const TT="popstate";function pC(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return Pp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Jh(a)}return yC(t,n,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _S(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gC(){return Math.random().toString(36).substr(2,8)}function ET(e,t){return{usr:e.state,key:e.key,idx:t}}function Pp(e,t,n,s){return n===void 0&&(n=null),xu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$o(t):t,{state:n,key:t&&t.key||s||gC()})}function Jh(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function $o(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function yC(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d=cr.Pop,m=null,p=v();p==null&&(p=0,c.replaceState(xu({},c.state,{idx:p}),""));function v(){return(c.state||{idx:null}).idx}function _(){d=cr.Pop;let O=v(),B=O==null?null:O-p;p=O,m&&m({action:d,location:L.location,delta:B})}function b(O,B){d=cr.Push;let H=Pp(L.location,O,B);p=v()+1;let K=ET(H,p),et=L.createHref(H);try{c.pushState(K,"",et)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(et)}l&&m&&m({action:d,location:L.location,delta:1})}function x(O,B){d=cr.Replace;let H=Pp(L.location,O,B);p=v();let K=ET(H,p),et=L.createHref(H);c.replaceState(K,"",et),l&&m&&m({action:d,location:L.location,delta:0})}function V(O){let B=a.location.origin!=="null"?a.location.origin:a.location.href,H=typeof O=="string"?O:Jh(O);return H=H.replace(/ $/,"%20"),Te(B,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,B)}let L={get action(){return d},get location(){return e(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(TT,_),m=O,()=>{a.removeEventListener(TT,_),m=null}},createHref(O){return t(a,O)},createURL:V,encodeLocation(O){let B=V(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:x,go(O){return c.go(O)}};return L}var bT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bT||(bT={}));function vC(e,t,n){return n===void 0&&(n="/"),_C(e,t,n)}function _C(e,t,n,s){let a=typeof t=="string"?$o(t):t,l=Ig(a.pathname||"/",n);if(l==null)return null;let c=TS(e);TC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=NC(l);d=IC(c[m],p)}return d}function TS(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Te(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let p=fr([s,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(Te(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),TS(l.children,t,v,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:xC(p,l.index),routesMeta:v})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of ES(l.path))a(l,c,m)}),t}function ES(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=ES(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function TC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CC(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const EC=/^:[\w-]+$/,bC=3,SC=2,AC=1,wC=10,RC=-2,ST=e=>e==="*";function xC(e,t){let n=e.split("/"),s=n.length;return n.some(ST)&&(s+=RC),t&&(s+=SC),n.filter(a=>!ST(a)).reduce((a,l)=>a+(EC.test(l)?bC:l===""?AC:wC),s)}function CC(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function IC(e,t,n){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,v=l==="/"?t:t.slice(l.length)||"/",_=DC({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:fr([l,_.pathname]),pathnameBase:kC(fr([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=fr([l,_.pathnameBase]))}return c}function DC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=PC(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,v,_)=>{let{paramName:b,isOptional:x}=v;if(b==="*"){let L=d[_]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const V=d[_];return x&&!V?p[b]=void 0:p[b]=(V||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function PC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_S(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function NC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _S(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ig(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function OC(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?$o(e):e;return{pathname:n?n.startsWith("/")?n:VC(n,t):t,search:LC(s),hash:UC(a)}}function VC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ap(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dg(e,t){let n=MC(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Pg(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=$o(e):(a=xu({},e),Te(!a.pathname||!a.pathname.includes("?"),ap("?","pathname","search",a)),Te(!a.pathname||!a.pathname.includes("#"),ap("#","pathname","hash",a)),Te(!a.search||!a.search.includes("#"),ap("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?t[_]:"/"}let m=OC(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}const fr=e=>e.join("/").replace(/\/\/+/g,"/"),kC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bS=["post","put","patch","delete"];new Set(bS);const BC=["get",...bS];new Set(BC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cu.apply(this,arguments)}const Ng=z.createContext(null),zC=z.createContext(null),Rr=z.createContext(null),Cf=z.createContext(null),Vi=z.createContext({outlet:null,matches:[],isDataRoute:!1}),SS=z.createContext(null);function FC(e,t){let{relative:n}=t===void 0?{}:t;Yo()||Te(!1);let{basename:s,navigator:a}=z.useContext(Rr),{hash:l,pathname:c,search:d}=wS(e,{relative:n}),m=c;return s!=="/"&&(m=c==="/"?s:fr([s,c])),a.createHref({pathname:m,search:d,hash:l})}function Yo(){return z.useContext(Cf)!=null}function xr(){return Yo()||Te(!1),z.useContext(Cf).location}function AS(e){z.useContext(Rr).static||z.useLayoutEffect(e)}function If(){let{isDataRoute:e}=z.useContext(Vi);return e?sI():HC()}function HC(){Yo()||Te(!1);let e=z.useContext(Ng),{basename:t,future:n,navigator:s}=z.useContext(Rr),{matches:a}=z.useContext(Vi),{pathname:l}=xr(),c=JSON.stringify(Dg(a,n.v7_relativeSplatPath)),d=z.useRef(!1);return AS(()=>{d.current=!0}),z.useCallback(function(p,v){if(v===void 0&&(v={}),!d.current)return;if(typeof p=="number"){s.go(p);return}let _=Pg(p,JSON.parse(c),l,v.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:fr([t,_.pathname])),(v.replace?s.replace:s.push)(_,v.state,v)},[t,s,c,l,e])}const qC=z.createContext(null);function GC(e){let t=z.useContext(Vi).outlet;return t&&z.createElement(qC.Provider,{value:e},t)}function KC(){let{matches:e}=z.useContext(Vi),t=e[e.length-1];return t?t.params:{}}function wS(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=z.useContext(Rr),{matches:a}=z.useContext(Vi),{pathname:l}=xr(),c=JSON.stringify(Dg(a,s.v7_relativeSplatPath));return z.useMemo(()=>Pg(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function $C(e,t){return YC(e,t)}function YC(e,t,n,s){Yo()||Te(!1);let{navigator:a,static:l}=z.useContext(Rr),{matches:c}=z.useContext(Vi),d=c[c.length-1],m=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let v=xr(),_;if(t){var b;let B=typeof t=="string"?$o(t):t;p==="/"||(b=B.pathname)!=null&&b.startsWith(p)||Te(!1),_=B}else _=v;let x=_.pathname||"/",V=x;if(p!=="/"){let B=p.replace(/^\//,"").split("/");V="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let L=vC(e,{pathname:V}),O=JC(L&&L.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:fr([p,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:fr([p,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,n,s);return t&&O?z.createElement(Cf.Provider,{value:{location:Cu({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:cr.Pop}},O):O}function QC(){let e=iI(),t=jC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:a},n):null,null)}const XC=z.createElement(QC,null);class WC extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?z.createElement(Vi.Provider,{value:this.props.routeContext},z.createElement(SS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZC(e){let{routeContext:t,match:n,children:s}=e,a=z.useContext(Ng);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Vi.Provider,{value:t},s)}function JC(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,d=(a=n)==null?void 0:a.errors;if(d!=null){let v=c.findIndex(_=>_.route.id&&(d==null?void 0:d[_.route.id])!==void 0);v>=0||Te(!1),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:b,errors:x}=n,V=_.route.loader&&b[_.route.id]===void 0&&(!x||x[_.route.id]===void 0);if(_.route.lazy||V){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,_,b)=>{let x,V=!1,L=null,O=null;n&&(x=d&&_.route.id?d[_.route.id]:void 0,L=_.route.errorElement||XC,m&&(p<0&&b===0?(rI("route-fallback"),V=!0,O=null):p===b&&(V=!0,O=_.route.hydrateFallbackElement||null)));let B=t.concat(c.slice(0,b+1)),H=()=>{let K;return x?K=L:V?K=O:_.route.Component?K=z.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=v,z.createElement(ZC,{match:_,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:K})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?z.createElement(WC,{location:n.location,revalidation:n.revalidation,component:L,error:x,children:H(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):H()},null)}var RS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(RS||{}),xS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xS||{});function tI(e){let t=z.useContext(Ng);return t||Te(!1),t}function eI(e){let t=z.useContext(zC);return t||Te(!1),t}function nI(e){let t=z.useContext(Vi);return t||Te(!1),t}function CS(e){let t=nI(),n=t.matches[t.matches.length-1];return n.route.id||Te(!1),n.route.id}function iI(){var e;let t=z.useContext(SS),n=eI(),s=CS();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function sI(){let{router:e}=tI(RS.UseNavigateStable),t=CS(xS.UseNavigateStable),n=z.useRef(!1);return AS(()=>{n.current=!0}),z.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cu({fromRouteId:t},l)))},[e,t])}const AT={};function rI(e,t,n){AT[e]||(AT[e]=!0)}function aI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Og(e){let{to:t,replace:n,state:s,relative:a}=e;Yo()||Te(!1);let{future:l,static:c}=z.useContext(Rr),{matches:d}=z.useContext(Vi),{pathname:m}=xr(),p=If(),v=Pg(t,Dg(d,l.v7_relativeSplatPath),m,a==="path"),_=JSON.stringify(v);return z.useEffect(()=>p(JSON.parse(_),{replace:n,state:s,relative:a}),[p,_,a,n,s]),null}function oI(e){return GC(e.context)}function vn(e){Te(!1)}function lI(e){let{basename:t="/",children:n=null,location:s,navigationType:a=cr.Pop,navigator:l,static:c=!1,future:d}=e;Yo()&&Te(!1);let m=t.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:l,static:c,future:Cu({v7_relativeSplatPath:!1},d)}),[m,d,l,c]);typeof s=="string"&&(s=$o(s));let{pathname:v="/",search:_="",hash:b="",state:x=null,key:V="default"}=s,L=z.useMemo(()=>{let O=Ig(v,m);return O==null?null:{location:{pathname:O,search:_,hash:b,state:x,key:V},navigationType:a}},[m,v,_,b,x,V,a]);return L==null?null:z.createElement(Rr.Provider,{value:p},z.createElement(Cf.Provider,{children:n,value:L}))}function uI(e){let{children:t,location:n}=e;return $C(Np(t),n)}new Promise(()=>{});function Np(e,t){t===void 0&&(t=[]);let n=[];return z.Children.forEach(e,(s,a)=>{if(!z.isValidElement(s))return;let l=[...t,a];if(s.type===z.Fragment){n.push.apply(n,Np(s.props.children,l));return}s.type!==vn&&Te(!1),!s.props.index||!s.props.children||Te(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Np(s.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Op.apply(this,arguments)}function cI(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function hI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fI(e,t){return e.button===0&&(!t||t==="_self")&&!hI(e)}const dI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mI="6";try{window.__reactRouterVersion=mI}catch{}const pI="startTransition",wT=lC[pI];function gI(e){let{basename:t,children:n,future:s,window:a}=e,l=z.useRef();l.current==null&&(l.current=pC({window:a,v5Compat:!0}));let c=l.current,[d,m]=z.useState({action:c.action,location:c.location}),{v7_startTransition:p}=s||{},v=z.useCallback(_=>{p&&wT?wT(()=>m(_)):m(_)},[m,p]);return z.useLayoutEffect(()=>c.listen(v),[c,v]),z.useEffect(()=>aI(s),[s]),z.createElement(lI,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:c,future:s})}const yI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=z.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:_}=t,b=cI(t,dI),{basename:x}=z.useContext(Rr),V,L=!1;if(typeof p=="string"&&vI.test(p)&&(V=p,yI))try{let K=new URL(window.location.href),et=p.startsWith("//")?new URL(K.protocol+p):new URL(p),X=Ig(et.pathname,x);et.origin===K.origin&&X!=null?p=X+et.search+et.hash:L=!0}catch{}let O=FC(p,{relative:a}),B=_I(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:_});function H(K){s&&s(K),K.defaultPrevented||B(K)}return z.createElement("a",Op({},b,{href:V||O,onClick:L||l?s:H,ref:n,target:m}))});var RT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(RT||(RT={}));var xT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xT||(xT={}));function _I(e,t){let{target:n,replace:s,state:a,preventScrollReset:l,relative:c,viewTransition:d}=t===void 0?{}:t,m=If(),p=xr(),v=wS(e,{relative:c});return z.useCallback(_=>{if(fI(_,n)){_.preventDefault();let b=s!==void 0?s:Jh(p)===Jh(v);m(e,{replace:b,state:a,preventScrollReset:l,relative:c,viewTransition:d})}},[p,m,v,s,a,n,e,l,c,d])}const Df=z.createContext({cart:[],setCart:()=>{}}),Pf=z.createContext({wishlist:[],setWishlist:()=>{}}),TI=()=>{};var CT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},EI=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},DS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,x=p&63;m||(x=64,c||(b=64)),s.push(n[v],n[_],n[b],n[x])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(IS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):EI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new bI;const b=l<<2|d>>4;if(s.push(b),p!==64){const x=d<<4&240|p>>2;if(s.push(x),_!==64){const V=p<<6&192|_;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SI=function(e){const t=IS(e);return DS.encodeByteArray(t,!0)},tf=function(e){return SI(e).replace(/\./g,"")},PS=function(e){try{return DS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=()=>AI().__FIREBASE_DEFAULTS__,RI=()=>{if(typeof process>"u"||typeof CT>"u")return;const e=CT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},xI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&PS(e[1]);return t&&JSON.parse(t)},Nf=()=>{try{return TI()||wI()||RI()||xI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},NS=e=>{var t,n;return(n=(t=Nf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},CI=e=>{const t=NS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},OS=()=>{var e;return(e=Nf())===null||e===void 0?void 0:e.config},VS=e=>{var t;return(t=Nf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tf(JSON.stringify(n)),tf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function NI(){var e;const t=(e=Nf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function MI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kI(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function LI(){return!NI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UI(){try{return typeof indexedDB=="object"}catch{return!1}}function jI(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FirebaseError";class Es extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=BI,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?zI(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Es(a,d,s)}}function zI(e,t){return e.replace(FI,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const FI=/\{\$([^}]+)}/g;function HI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _a(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(IT(l)&&IT(c)){if(!_a(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function IT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function hu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function fu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function qI(e,t){const n=new GI(e,t);return n.subscribe.bind(n)}class GI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");KI(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=op),a.error===void 0&&(a.error=op),a.complete===void 0&&(a.complete=op);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(e){return e&&e._delegate?e._delegate:e}class Ta{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new II;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QI(t))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ha){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ha){return this.instances.has(t)}getOptions(t=ha){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ha){return this.component?this.component.multipleInstances?t:ha:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YI(e){return e===ha?void 0:e}function QI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $I(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Vt||(Vt={}));const WI={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},ZI=Vt.INFO,JI={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},tD=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=JI[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vg{constructor(t){this.name=t,this._logLevel=ZI,this._logHandler=tD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const eD=(e,t)=>t.some(n=>e instanceof n);let DT,PT;function nD(){return DT||(DT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iD(){return PT||(PT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MS=new WeakMap,Vp=new WeakMap,kS=new WeakMap,lp=new WeakMap,Mg=new WeakMap;function sD(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(dr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&MS.set(n,e)}).catch(()=>{}),Mg.set(t,e),t}function rD(e){if(Vp.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Vp.set(e,t)}let Mp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Vp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||kS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function aD(e){Mp=e(Mp)}function oD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(up(this),t,...n);return kS.set(s,t.sort?t.sort():[t]),dr(s)}:iD().includes(e)?function(...t){return e.apply(up(this),t),dr(MS.get(this))}:function(...t){return dr(e.apply(up(this),t))}}function lD(e){return typeof e=="function"?oD(e):(e instanceof IDBTransaction&&rD(e),eD(e,nD())?new Proxy(e,Mp):e)}function dr(e){if(e instanceof IDBRequest)return sD(e);if(lp.has(e))return lp.get(e);const t=lD(e);return t!==e&&(lp.set(e,t),Mg.set(t,e)),t}const up=e=>Mg.get(e);function uD(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=dr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(dr(c.result),m.oldVersion,m.newVersion,dr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const cD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],cp=new Map;function NT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(cp.get(t))return cp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=hD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||cD.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return cp.set(t,l),l}aD(e=>({...e,get:(t,n,s)=>NT(t,n)||e.get(t,n,s),has:(t,n)=>!!NT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dD(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const kp="@firebase/app",OT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Vg("@firebase/app"),mD="@firebase/app-compat",pD="@firebase/analytics-compat",gD="@firebase/analytics",yD="@firebase/app-check-compat",vD="@firebase/app-check",_D="@firebase/auth",TD="@firebase/auth-compat",ED="@firebase/database",bD="@firebase/data-connect",SD="@firebase/database-compat",AD="@firebase/functions",wD="@firebase/functions-compat",RD="@firebase/installations",xD="@firebase/installations-compat",CD="@firebase/messaging",ID="@firebase/messaging-compat",DD="@firebase/performance",PD="@firebase/performance-compat",ND="@firebase/remote-config",OD="@firebase/remote-config-compat",VD="@firebase/storage",MD="@firebase/storage-compat",kD="@firebase/firestore",LD="@firebase/vertexai",UD="@firebase/firestore-compat",jD="firebase",BD="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",zD={[kp]:"fire-core",[mD]:"fire-core-compat",[gD]:"fire-analytics",[pD]:"fire-analytics-compat",[vD]:"fire-app-check",[yD]:"fire-app-check-compat",[_D]:"fire-auth",[TD]:"fire-auth-compat",[ED]:"fire-rtdb",[bD]:"fire-data-connect",[SD]:"fire-rtdb-compat",[AD]:"fire-fn",[wD]:"fire-fn-compat",[RD]:"fire-iid",[xD]:"fire-iid-compat",[CD]:"fire-fcm",[ID]:"fire-fcm-compat",[DD]:"fire-perf",[PD]:"fire-perf-compat",[ND]:"fire-rc",[OD]:"fire-rc-compat",[VD]:"fire-gcs",[MD]:"fire-gcs-compat",[kD]:"fire-fst",[UD]:"fire-fst-compat",[LD]:"fire-vertex","fire-js":"fire-js",[jD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Map,FD=new Map,Up=new Map;function VT(e,t){try{e.container.addComponent(t)}catch(n){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Mo(e){const t=e.name;if(Up.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;Up.set(t,e);for(const n of ef.values())VT(n,e);for(const n of FD.values())VT(n,e);return!0}function kg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Yu("app","Firebase",HD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=BD;function LS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Lp,automaticDataCollectionEnabled:!1},t),a=s.name;if(typeof a!="string"||!a)throw mr.create("bad-app-name",{appName:String(a)});if(n||(n=OS()),!n)throw mr.create("no-options");const l=ef.get(a);if(l){if(_a(n,l.options)&&_a(s,l.config))return l;throw mr.create("duplicate-app",{appName:a})}const c=new XI(a);for(const m of Up.values())c.addComponent(m);const d=new qD(n,s,c);return ef.set(a,d),d}function US(e=Lp){const t=ef.get(e);if(!t&&e===Lp&&OS())return LS();if(!t)throw mr.create("no-app",{appName:e});return t}function pr(e,t,n){var s;let a=(s=zD[e])!==null&&s!==void 0?s:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}Mo(new Ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="firebase-heartbeat-database",KD=1,Iu="firebase-heartbeat-store";let hp=null;function jS(){return hp||(hp=uD(GD,KD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})})),hp}async function $D(e){try{const n=(await jS()).transaction(Iu),s=await n.objectStore(Iu).get(BS(e));return await n.done,s}catch(t){if(t instanceof Es)ps.warn(t.message);else{const n=mr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ps.warn(n.message)}}}async function MT(e,t){try{const s=(await jS()).transaction(Iu,"readwrite");await s.objectStore(Iu).put(t,BS(e)),await s.done}catch(n){if(n instanceof Es)ps.warn(n.message);else{const s=mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(s.message)}}}function BS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,QD=30;class XD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=kT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>QD){const c=JD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ps.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kT(),{heartbeatsToSend:s,unsentEntries:a}=WD(this._heartbeatsCache.heartbeats),l=tf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ps.warn(n),""}}}function kT(){return new Date().toISOString().substring(0,10)}function WD(e,t=YD){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),LT(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),LT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UI()?jI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $D(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return MT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return MT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function LT(e){return tf(JSON.stringify({version:2,heartbeats:e})).length}function JD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e){Mo(new Ta("platform-logger",t=>new fD(t),"PRIVATE")),Mo(new Ta("heartbeat",t=>new XD(t),"PRIVATE")),pr(kp,OT,e),pr(kp,OT,"esm2017"),pr("fire-js","")}t2("");function Lg(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e2=zS,FS=new Yu("auth","Firebase",zS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Vg("@firebase/auth");function n2(e,...t){nf.logLevel<=Vt.WARN&&nf.warn(`Auth (${Qo}): ${e}`,...t)}function zh(e,...t){nf.logLevel<=Vt.ERROR&&nf.error(`Auth (${Qo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e,...t){throw jg(e,...t)}function li(e,...t){return jg(e,...t)}function Ug(e,t,n){const s=Object.assign(Object.assign({},e2()),{[t]:n});return new Yu("auth","Firebase",s).create(t,{appName:e.name})}function hs(e){return Ug(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i2(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Zn(e,"argument-error"),Ug(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return FS.create(e,...t)}function Et(e,t,...n){if(!e)throw jg(t,...n)}function us(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zh(t),new Error(t)}function gs(e,t){e||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function s2(){return UT()==="http:"||UT()==="https:"}function UT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s2()||VI()||"connection"in navigator)?navigator.onLine:!0}function a2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n){this.shortDelay=t,this.longDelay=n,gs(n>t,"Short delay should be less than long delay!"),this.isMobile=PI()||MI()}get(){return r2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(e,t){gs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u2=new Xu(3e4,6e4);function Cr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ir(e,t,n,s,a={}){return qS(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=Qu(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return OI()||(p.referrerPolicy="no-referrer"),HS.fetch()(await GS(e,e.config.apiHost,n,d),p)})}async function qS(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},o2),t);try{const a=new h2(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ph(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ph(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ph(e,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ug(e,v,p);Zn(e,v)}}catch(a){if(a instanceof Es)throw a;Zn(e,"network-request-failed",{message:String(a)})}}async function Wu(e,t,n,s,a={}){const l=await Ir(e,t,n,s,a);return"mfaPendingCredential"in l&&Zn(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function GS(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Bg(e.config,a):`${e.config.apiScheme}://${a}`;return l2.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function c2(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),u2.get())})}}function Ph(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=li(e,t,s);return a.customData._tokenResponse=n,a}function jT(e){return e!==void 0&&e.enterprise!==void 0}class f2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return c2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function d2(e,t){return Ir(e,"GET","/v2/recaptchaConfig",Cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(e,t){return Ir(e,"POST","/v1/accounts:delete",t)}async function sf(e,t){return Ir(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function p2(e,t=!1){const n=Wn(e),s=await n.getIdToken(t),a=zg(s);Et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:vu(fp(a.auth_time)),issuedAtTime:vu(fp(a.iat)),expirationTime:vu(fp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function fp(e){return Number(e)*1e3}function zg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const a=PS(n);return a?JSON.parse(a):(zh("Failed to decode base64 JWT payload"),null)}catch(a){return zh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function BT(e){const t=zg(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Es&&g2(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function g2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(e){var t;const n=e.auth,s=await e.getIdToken(),a=await Du(e,sf(n,{idToken:s}));Et(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?KS(l.providerUserInfo):[],d=_2(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Bp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(e,_)}async function v2(e){const t=Wn(e);await rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _2(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function KS(e){return e.map(t=>{var{providerId:n}=t,s=Lg(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(e,t){const n=await qS(e,{},async()=>{const s=Qu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await GS(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",HS.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E2(e,t){return Ir(e,"POST","/v2/accounts:revokeToken",Cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):BT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=BT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await T2(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Po;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Et(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ai{constructor(t){var{uid:n,auth:s,stsTokenManager:a}=t,l=Lg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Du(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return p2(this,t)}reload(){return v2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ai(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await rf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(hs(this.auth));const t=await this.getIdToken();return await Du(this,m2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,a,l,c,d,m,p,v;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=n.photoURL)!==null&&c!==void 0?c:void 0,L=(d=n.tenantId)!==null&&d!==void 0?d:void 0,O=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,B=(p=n.createdAt)!==null&&p!==void 0?p:void 0,H=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:K,emailVerified:et,isAnonymous:X,providerData:rt,stsTokenManager:P}=n;Et(K&&P,t,"internal-error");const w=Po.fromJSON(this.name,P);Et(typeof K=="string",t,"internal-error"),rr(_,t.name),rr(b,t.name),Et(typeof et=="boolean",t,"internal-error"),Et(typeof X=="boolean",t,"internal-error"),rr(x,t.name),rr(V,t.name),rr(L,t.name),rr(O,t.name),rr(B,t.name),rr(H,t.name);const R=new ai({uid:K,auth:t,email:b,emailVerified:et,displayName:_,isAnonymous:X,photoURL:V,phoneNumber:x,tenantId:L,stsTokenManager:w,createdAt:B,lastLoginAt:H});return rt&&Array.isArray(rt)&&(R.providerData=rt.map(D=>Object.assign({},D))),O&&(R._redirectEventId=O),R}static async _fromIdTokenResponse(t,n,s=!1){const a=new Po;a.updateFromServerResponse(n);const l=new ai({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await rf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?KS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Po;d.updateFromIdToken(s);const m=new ai({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Bp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;function cs(e){gs(e instanceof Function,"Expected a class definition");let t=zT.get(e);return t?(gs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}$S.type="NONE";const FT=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(e,t,n){return`firebase:${e}:${t}:${n}`}class No{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Fh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Fh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sf(this.auth,{idToken:t}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new No(cs(FT),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||cs(FT);const c=Fh(s,t.config.apiKey,t.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const b=await sf(t,{idToken:v}).catch(()=>{});if(!b)break;_=await ai._fromGetAccountInfoResponse(t,b,v)}else _=ai._fromJSON(t,v);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new No(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new No(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(YS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(JS(t))return"Blackberry";if(tA(t))return"Webos";if(QS(t))return"Safari";if((t.includes("chrome/")||XS(t))&&!t.includes("edge/"))return"Chrome";if(ZS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function YS(e=an()){return/firefox\//i.test(e)}function QS(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XS(e=an()){return/crios\//i.test(e)}function WS(e=an()){return/iemobile/i.test(e)}function ZS(e=an()){return/android/i.test(e)}function JS(e=an()){return/blackberry/i.test(e)}function tA(e=an()){return/webos/i.test(e)}function Fg(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function b2(e=an()){var t;return Fg(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function S2(){return kI()&&document.documentMode===10}function eA(e=an()){return Fg(e)||ZS(e)||tA(e)||JS(e)||/windows phone/i.test(e)||WS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e,t=[]){let n;switch(e){case"Browser":n=HT(an());break;case"Worker":n=`${HT(an())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(e,t={}){return Ir(e,"GET","/v2/passwordPolicy",Cr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=6;class x2{constructor(t){var n,s,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:R2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qT(this),this.idTokenSubscription=new qT(this),this.beforeStateQueue=new A2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await No.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sf(this,{idToken:t}),s=await ai._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Cn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=a2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Cn(this.app))return Promise.reject(hs(this));const n=t?Wn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Cn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await w2(this),n=new x2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await E2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cs(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&n2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dr(e){return Wn(e)}class qT{constructor(t){this.auth=t,this.observer=null,this.addObserver=qI(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I2(e){Of=e}function iA(e){return Of.loadJS(e)}function D2(){return Of.recaptchaEnterpriseScript}function P2(){return Of.gapiScript}function N2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class O2{constructor(){this.enterprise=new V2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class V2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const M2="recaptcha-enterprise",sA="NO_RECAPTCHA";class k2{constructor(t){this.type=M2,this.auth=Dr(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{d2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new f2(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;jT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(sA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&jT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=D2();m.length!==0&&(m+=d),iA(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function GT(e,t,n,s=!1,a=!1){const l=new k2(e);let c;if(a)c=sA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function zp(e,t,n,s,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await GT(e,t,n,n==="getOobCode");return s(e,c)}else return s(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await GT(e,t,n,n==="getOobCode");return s(e,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(e,t){const n=kg(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(_a(l,t??{}))return a;Zn(a,"already-initialized")}return n.initialize({options:t})}function U2(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(cs);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function j2(e,t,n){const s=Dr(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=rA(t),{host:c,port:d}=B2(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(_a(p,s.config.emulator)&&_a(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,z2()}function rA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function B2(e){const t=rA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:KT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:KT(c)}}}function KT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function z2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,n){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function F2(e,t){return Ir(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(e,t){return Wu(e,"POST","/v1/accounts:signInWithPassword",Cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(e,t){return Wu(e,"POST","/v1/accounts:signInWithEmailLink",Cr(e,t))}async function G2(e,t){return Wu(e,"POST","/v1/accounts:signInWithEmailLink",Cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Hg{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Pu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Pu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(t,n,"signInWithPassword",H2);case"emailLink":return q2(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(t,s,"signUpPassword",F2);case"emailLink":return G2(t,{idToken:n,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(e,t){return Wu(e,"POST","/v1/accounts:signInWithIdp",Cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="http://localhost";class Ea extends Hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=n,l=Lg(n,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Ea(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Oo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Oo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Oo(t,n)}buildRequest(){const t={requestUri:K2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Qu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y2(e){const t=hu(fu(e)).link,n=t?hu(fu(t)).deep_link_id:null,s=hu(fu(e)).deep_link_id;return(s?hu(fu(s)).link:null)||s||n||t||e}class qg{constructor(t){var n,s,a,l,c,d;const m=hu(fu(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,_=$2((a=m.mode)!==null&&a!==void 0?a:null);Et(p&&v&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const n=Y2(t);try{return new qg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(t,n){return Pu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=qg.parseLink(n);return Et(s,"argument-error"),Pu._fromEmailAndCode(t,s.code,s.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Gg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Zu{constructor(){super("facebook.com")}static credential(t){return Ea._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ea._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Zu{constructor(){super("github.com")}static credential(t){return Ea._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Zu{constructor(){super("twitter.com")}static credential(t,n){return Ea._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(e,t){return Wu(e,"POST","/v1/accounts:signUp",Cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await ai._fromIdTokenResponse(t,s,a),c=$T(s);return new ba({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=$T(s);return new ba({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function $T(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Es{constructor(t,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,af.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new af(t,n,s,a)}}function aA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(e,l,t,s):l})}async function X2(e,t,n=!1){const s=await Du(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ba._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(e,t,n=!1){const{auth:s}=e;if(Cn(s.app))return Promise.reject(hs(s));const a="reauthenticate";try{const l=await Du(e,aA(s,a,t,e),n);Et(l.idToken,s,"internal-error");const c=zg(l.idToken);Et(c,s,"internal-error");const{sub:d}=c;return Et(e.uid===d,s,"user-mismatch"),ba._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(e,t,n=!1){if(Cn(e.app))return Promise.reject(hs(e));const s="signIn",a=await aA(e,s,t),l=await ba._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function Z2(e,t){return oA(Dr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(e){const t=Dr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function J2(e,t,n){if(Cn(e.app))return Promise.reject(hs(e));const s=Dr(e),c=await zp(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q2).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&lA(e),m}),d=await ba._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function tP(e,t,n){return Cn(e.app)?Promise.reject(hs(e)):Z2(Wn(e),Xo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lA(e),s})}function eP(e,t,n,s){return Wn(e).onIdTokenChanged(t,n,s)}function nP(e,t,n){return Wn(e).beforeAuthStateChanged(t,n)}function iP(e,t,n,s){return Wn(e).onAuthStateChanged(t,n,s)}const of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=1e3,rP=10;class cA extends uA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);S2()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,rP):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},sP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}cA.type="LOCAL";const aP=cA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends uA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}hA.type="SESSION";const fA=hA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new Vf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await oP(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Kg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function uP(e){xi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function cP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hP(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function fP(){return dA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebaseLocalStorageDb",dP=1,lf="firebaseLocalStorage",pA="fbase_key";class Ju{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(e,t){return e.transaction([lf],t?"readwrite":"readonly").objectStore(lf)}function mP(){const e=indexedDB.deleteDatabase(mA);return new Ju(e).toPromise()}function Fp(){const e=indexedDB.open(mA,dP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(lf,{keyPath:pA})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(lf)?t(s):(s.close(),await mP(),t(await Fp()))})})}async function YT(e,t,n){const s=Mf(e,!0).put({[pA]:t,value:n});return new Ju(s).toPromise()}async function pP(e,t){const n=Mf(e,!1).get(t),s=await new Ju(n).toPromise();return s===void 0?null:s.value}function QT(e,t){const n=Mf(e,!0).delete(t);return new Ju(n).toPromise()}const gP=800,yP=3;class gA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>yP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(fP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await cP(),!this.activeServiceWorker)return;this.sender=new lP(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fp();return await YT(t,of,"1"),await QT(t,of),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>YT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>pP(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>QT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Mf(a,!1).getAll();return new Ju(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gA.type="LOCAL";const vP=gA;new Xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(e,t){return t?cs(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends Hg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _P(e){return oA(e.auth,new $g(e),e.bypassAuthState)}function TP(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),W2(n,new $g(e),e.bypassAuthState)}async function EP(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),X2(n,new $g(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _P;case"linkViaPopup":case"linkViaRedirect":return EP;case"reauthViaPopup":case"reauthViaRedirect":return TP;default:Zn(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Xu(2e3,1e4);async function SP(e,t,n){if(Cn(e.app))return Promise.reject(li(e,"operation-not-supported-in-this-environment"));const s=Dr(e);i2(e,t,Gg);const a=yA(s,n);return new da(s,"signInViaPopup",t,a).executeNotNull()}class da extends vA{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bP.get())};t()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="pendingRedirect",Hh=new Map;class wP extends vA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Hh.get(this.auth._key());if(!t){try{const s=await RP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Hh.set(this.auth._key(),t)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RP(e,t){const n=IP(t),s=CP(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function xP(e,t){Hh.set(e._key(),t)}function CP(e){return cs(e._redirectPersistence)}function IP(e){return Fh(AP,e.config.apiKey,e.name)}async function DP(e,t,n=!1){if(Cn(e.app))return Promise.reject(hs(e));const s=Dr(e),a=yA(s,t),c=await new wP(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=10*60*1e3;class NP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!OP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!_A(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(li(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PP&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(t))}saveEventToCache(t){this.cachedEventUids.add(XT(t)),this.lastProcessedEventTime=Date.now()}}function XT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function _A({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function OP(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _A(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(e,t={}){return Ir(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kP=/^https?/;async function LP(e){if(e.config.emulator)return;const{authorizedDomains:t}=await VP(e);for(const n of t)try{if(UP(n))return}catch{}Zn(e,"unauthorized-domain")}function UP(e){const t=jp(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!kP.test(n))return!1;if(MP.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new Xu(3e4,6e4);function WT(){const e=xi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function BP(e){return new Promise((t,n)=>{var s,a,l;function c(){WT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(li(e,"network-request-failed"))},timeout:jP.get()})}if(!((a=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=xi().gapi)===null||l===void 0)&&l.load)c();else{const d=N2("iframefcb");return xi()[d]=()=>{gapi.load?c():n(li(e,"network-request-failed"))},iA(`${P2()}?onload=${d}`).catch(m=>n(m))}}).catch(t=>{throw qh=null,t})}let qh=null;function zP(e){return qh=qh||BP(e),qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new Xu(5e3,15e3),HP="__/auth/iframe",qP="emulator/auth/iframe",GP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $P(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Bg(t,qP):`https://${e.config.authDomain}/${HP}`,s={apiKey:t.apiKey,appName:e.name,v:Qo},a=KP.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Qu(s).slice(1)}`}async function YP(e){const t=await zP(e),n=xi().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:$P(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=li(e,"network-request-failed"),d=xi().setTimeout(()=>{l(c)},FP.get());function m(){xi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XP=500,WP=600,ZP="_blank",JP="http://localhost";class ZT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tN(e,t,n,s=XP,a=WP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},QP),{width:s.toString(),height:a.toString(),top:l,left:c}),p=an().toLowerCase();n&&(d=XS(p)?ZP:n),YS(p)&&(t=t||JP,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[x,V])=>`${b}${x}=${V},`,"");if(b2(p)&&d!=="_self")return eN(t||"",d),new ZT(null);const _=window.open(t||"",d,v);Et(_,e,"popup-blocked");try{_.focus()}catch{}return new ZT(_)}function eN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="__/auth/handler",iN="emulator/auth/handler",sN=encodeURIComponent("fac");async function JT(e,t,n,s,a,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Qo,eventId:a};if(t instanceof Gg){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",HI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(t instanceof Zu){const v=t.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await e._getAppCheckToken(),p=m?`#${sN}=${encodeURIComponent(m)}`:"";return`${rN(e)}?${Qu(d).slice(1)}${p}`}function rN({config:e}){return e.emulator?Bg(e,iN):`https://${e.authDomain}/${nN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class aN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fA,this._completeRedirectFn=DP,this._overrideRedirectResult=xP}async _openPopup(t,n,s,a){var l;gs((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await JT(t,n,s,jp(),a);return tN(t,c,Kg())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await JT(t,n,s,jp(),a);return uP(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(gs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await YP(t),s=new NP(t);return n.register("authEvent",a=>(Et(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(dp,{type:dp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[dp];c!==void 0&&n(!!c),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return eA()||QS()||Fg()}}const oN=aN;var tE="@firebase/auth",eE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cN(e){Mo(new Ta("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nA(e)},p=new C2(s,a,l,m);return U2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Mo(new Ta("auth-internal",t=>{const n=Dr(t.getProvider("auth").getImmediate());return(s=>new lN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(tE,eE,uN(e)),pr(tE,eE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=5*60,fN=VS("authIdTokenMaxAge")||hN;let nE=null;const dN=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fN)return;const a=n==null?void 0:n.token;nE!==a&&(nE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mN(e=US()){const t=kg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=L2(e,{popupRedirectResolver:oN,persistence:[vP,aP,fA]}),s=VS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=dN(l.toString());nP(n,c,()=>c(n.currentUser)),eP(n,d=>c(d))}}const a=NS("auth");return a&&j2(n,`http://${a}`),n}function pN(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}I2({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=li("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",pN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cN("Browser");var gN="firebase",yN="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(gN,yN,"app");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,TA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,w){function R(){}R.prototype=w.prototype,P.D=w.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(D,M,F){for(var N=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)N[ne-2]=arguments[ne];return w.prototype[M].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,w,R){R||(R=0);var D=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)D[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)D[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=P.g[0],R=P.g[1],M=P.g[2];var F=P.g[3],N=w+(F^R&(M^F))+D[0]+3614090360&4294967295;w=R+(N<<7&4294967295|N>>>25),N=F+(M^w&(R^M))+D[1]+3905402710&4294967295,F=w+(N<<12&4294967295|N>>>20),N=M+(R^F&(w^R))+D[2]+606105819&4294967295,M=F+(N<<17&4294967295|N>>>15),N=R+(w^M&(F^w))+D[3]+3250441966&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(F^R&(M^F))+D[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=F+(M^w&(R^M))+D[5]+1200080426&4294967295,F=w+(N<<12&4294967295|N>>>20),N=M+(R^F&(w^R))+D[6]+2821735955&4294967295,M=F+(N<<17&4294967295|N>>>15),N=R+(w^M&(F^w))+D[7]+4249261313&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(F^R&(M^F))+D[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=F+(M^w&(R^M))+D[9]+2336552879&4294967295,F=w+(N<<12&4294967295|N>>>20),N=M+(R^F&(w^R))+D[10]+4294925233&4294967295,M=F+(N<<17&4294967295|N>>>15),N=R+(w^M&(F^w))+D[11]+2304563134&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(F^R&(M^F))+D[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=F+(M^w&(R^M))+D[13]+4254626195&4294967295,F=w+(N<<12&4294967295|N>>>20),N=M+(R^F&(w^R))+D[14]+2792965006&4294967295,M=F+(N<<17&4294967295|N>>>15),N=R+(w^M&(F^w))+D[15]+1236535329&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(M^F&(R^M))+D[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=F+(R^M&(w^R))+D[6]+3225465664&4294967295,F=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(F^w))+D[11]+643717713&4294967295,M=F+(N<<14&4294967295|N>>>18),N=R+(F^w&(M^F))+D[0]+3921069994&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^F&(R^M))+D[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=F+(R^M&(w^R))+D[10]+38016083&4294967295,F=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(F^w))+D[15]+3634488961&4294967295,M=F+(N<<14&4294967295|N>>>18),N=R+(F^w&(M^F))+D[4]+3889429448&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^F&(R^M))+D[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=F+(R^M&(w^R))+D[14]+3275163606&4294967295,F=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(F^w))+D[3]+4107603335&4294967295,M=F+(N<<14&4294967295|N>>>18),N=R+(F^w&(M^F))+D[8]+1163531501&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^F&(R^M))+D[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=F+(R^M&(w^R))+D[2]+4243563512&4294967295,F=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(F^w))+D[7]+1735328473&4294967295,M=F+(N<<14&4294967295|N>>>18),N=R+(F^w&(M^F))+D[12]+2368359562&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(R^M^F)+D[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=F+(w^R^M)+D[8]+2272392833&4294967295,F=w+(N<<11&4294967295|N>>>21),N=M+(F^w^R)+D[11]+1839030562&4294967295,M=F+(N<<16&4294967295|N>>>16),N=R+(M^F^w)+D[14]+4259657740&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^F)+D[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=F+(w^R^M)+D[4]+1272893353&4294967295,F=w+(N<<11&4294967295|N>>>21),N=M+(F^w^R)+D[7]+4139469664&4294967295,M=F+(N<<16&4294967295|N>>>16),N=R+(M^F^w)+D[10]+3200236656&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^F)+D[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=F+(w^R^M)+D[0]+3936430074&4294967295,F=w+(N<<11&4294967295|N>>>21),N=M+(F^w^R)+D[3]+3572445317&4294967295,M=F+(N<<16&4294967295|N>>>16),N=R+(M^F^w)+D[6]+76029189&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^F)+D[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=F+(w^R^M)+D[12]+3873151461&4294967295,F=w+(N<<11&4294967295|N>>>21),N=M+(F^w^R)+D[15]+530742520&4294967295,M=F+(N<<16&4294967295|N>>>16),N=R+(M^F^w)+D[2]+3299628645&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(M^(R|~F))+D[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=F+(R^(w|~M))+D[7]+1126891415&4294967295,F=w+(N<<10&4294967295|N>>>22),N=M+(w^(F|~R))+D[14]+2878612391&4294967295,M=F+(N<<15&4294967295|N>>>17),N=R+(F^(M|~w))+D[5]+4237533241&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~F))+D[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=F+(R^(w|~M))+D[3]+2399980690&4294967295,F=w+(N<<10&4294967295|N>>>22),N=M+(w^(F|~R))+D[10]+4293915773&4294967295,M=F+(N<<15&4294967295|N>>>17),N=R+(F^(M|~w))+D[1]+2240044497&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~F))+D[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=F+(R^(w|~M))+D[15]+4264355552&4294967295,F=w+(N<<10&4294967295|N>>>22),N=M+(w^(F|~R))+D[6]+2734768916&4294967295,M=F+(N<<15&4294967295|N>>>17),N=R+(F^(M|~w))+D[13]+1309151649&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~F))+D[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=F+(R^(w|~M))+D[11]+3174756917&4294967295,F=w+(N<<10&4294967295|N>>>22),N=M+(w^(F|~R))+D[2]+718787259&4294967295,M=F+(N<<15&4294967295|N>>>17),N=R+(F^(M|~w))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+w&4294967295,P.g[1]=P.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+F&4294967295}s.prototype.u=function(P,w){w===void 0&&(w=P.length);for(var R=w-this.blockSize,D=this.B,M=this.h,F=0;F<w;){if(M==0)for(;F<=R;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<w;)if(D[M++]=P.charCodeAt(F++),M==this.blockSize){a(this,D),M=0;break}}else for(;F<w;)if(D[M++]=P[F++],M==this.blockSize){a(this,D),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var w=1;w<P.length-8;++w)P[w]=0;var R=8*this.o;for(w=P.length-8;w<P.length;++w)P[w]=R&255,R/=256;for(this.u(P),P=Array(16),w=R=0;4>w;++w)for(var D=0;32>D;D+=8)P[R++]=this.g[w]>>>D&255;return P};function l(P,w){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=w(P)}function c(P,w){this.h=w;for(var R=[],D=!0,M=P.length-1;0<=M;M--){var F=P[M]|0;D&&F==w||(R[M]=F,D=!1)}this.g=R}var d={};function m(P){return-128<=P&&128>P?l(P,function(w){return new c([w|0],0>w?-1:0)}):new c([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return O(p(-P));for(var w=[],R=1,D=0;P>=R;D++)w[D]=P/R|0,R*=4294967296;return new c(w,0)}function v(P,w){if(P.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P.charAt(0)=="-")return O(v(P.substring(1),w));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(w,8)),D=_,M=0;M<P.length;M+=8){var F=Math.min(8,P.length-M),N=parseInt(P.substring(M,M+F),w);8>F?(F=p(Math.pow(w,F)),D=D.j(F).add(p(N))):(D=D.j(R),D=D.add(p(N)))}return D}var _=m(0),b=m(1),x=m(16777216);e=c.prototype,e.m=function(){if(L(this))return-O(this).m();for(var P=0,w=1,R=0;R<this.g.length;R++){var D=this.i(R);P+=(0<=D?D:4294967296+D)*w,w*=4294967296}return P},e.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V(this))return"0";if(L(this))return"-"+O(this).toString(P);for(var w=p(Math.pow(P,6)),R=this,D="";;){var M=et(R,w).g;R=B(R,M.j(w));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=M,V(R))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},e.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function V(P){if(P.h!=0)return!1;for(var w=0;w<P.g.length;w++)if(P.g[w]!=0)return!1;return!0}function L(P){return P.h==-1}e.l=function(P){return P=B(this,P),L(P)?-1:V(P)?0:1};function O(P){for(var w=P.g.length,R=[],D=0;D<w;D++)R[D]=~P.g[D];return new c(R,~P.h).add(b)}e.abs=function(){return L(this)?O(this):this},e.add=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],D=0,M=0;M<=w;M++){var F=D+(this.i(M)&65535)+(P.i(M)&65535),N=(F>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);D=N>>>16,F&=65535,N&=65535,R[M]=N<<16|F}return new c(R,R[R.length-1]&-2147483648?-1:0)};function B(P,w){return P.add(O(w))}e.j=function(P){if(V(this)||V(P))return _;if(L(this))return L(P)?O(this).j(O(P)):O(O(this).j(P));if(L(P))return O(this.j(O(P)));if(0>this.l(x)&&0>P.l(x))return p(this.m()*P.m());for(var w=this.g.length+P.g.length,R=[],D=0;D<2*w;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<P.g.length;M++){var F=this.i(D)>>>16,N=this.i(D)&65535,ne=P.i(M)>>>16,ie=P.i(M)&65535;R[2*D+2*M]+=N*ie,H(R,2*D+2*M),R[2*D+2*M+1]+=F*ie,H(R,2*D+2*M+1),R[2*D+2*M+1]+=N*ne,H(R,2*D+2*M+1),R[2*D+2*M+2]+=F*ne,H(R,2*D+2*M+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new c(R,0)};function H(P,w){for(;(P[w]&65535)!=P[w];)P[w+1]+=P[w]>>>16,P[w]&=65535,w++}function K(P,w){this.g=P,this.h=w}function et(P,w){if(V(w))throw Error("division by zero");if(V(P))return new K(_,_);if(L(P))return w=et(O(P),w),new K(O(w.g),O(w.h));if(L(w))return w=et(P,O(w)),new K(O(w.g),w.h);if(30<P.g.length){if(L(P)||L(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,D=w;0>=D.l(P);)R=X(R),D=X(D);var M=rt(R,1),F=rt(D,1);for(D=rt(D,2),R=rt(R,2);!V(D);){var N=F.add(D);0>=N.l(P)&&(M=M.add(R),F=N),D=rt(D,1),R=rt(R,1)}return w=B(P,M.j(w)),new K(M,w)}for(M=_;0<=P.l(w);){for(R=Math.max(1,Math.floor(P.m()/w.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=p(R),N=F.j(w);L(N)||0<N.l(P);)R-=D,F=p(R),N=F.j(w);V(F)&&(F=b),M=M.add(F),P=B(P,N)}return new K(M,P)}e.A=function(P){return et(this,P).h},e.and=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)&P.i(D);return new c(R,this.h&P.h)},e.or=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)|P.i(D);return new c(R,this.h|P.h)},e.xor=function(P){for(var w=Math.max(this.g.length,P.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)^P.i(D);return new c(R,this.h^P.h)};function X(P){for(var w=P.g.length+1,R=[],D=0;D<w;D++)R[D]=P.i(D)<<1|P.i(D-1)>>>31;return new c(R,P.h)}function rt(P,w){var R=w>>5;w%=32;for(var D=P.g.length-R,M=[],F=0;F<D;F++)M[F]=0<w?P.i(F+R)>>>w|P.i(F+R+1)<<32-w:P.i(F+R);return new c(M,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,TA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,gr=c}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EA,du,bA,Gh,Hp,SA,AA,wA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,T){return h==Array.prototype||h==Object.prototype||(h[y]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,y){if(y)t:{var T=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in T))break t;T=T[G]}h=h[h.length-1],A=T[h],y=y(A),y!=A&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var T=0,A=!1,G={next:function(){if(!A&&T<h.length){var Q=T++;return{value:y(Q,h[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,T){return h.call.apply(h.bind,arguments)}function _(h,y,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),h.apply(y,G)}}return function(){return h.apply(y,arguments)}}function b(h,y,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,b.apply(null,arguments)}function x(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function V(h,y){function T(){}T.prototype=y.prototype,h.aa=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,G,Q){for(var at=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)at[Ut-2]=arguments[Ut];return y.prototype[G].apply(A,at)}}function L(h){const y=h.length;if(0<y){const T=Array(y);for(let A=0;A<y;A++)T[A]=h[A];return T}return[]}function O(h,y){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(m(A)){const G=h.length||0,Q=A.length||0;h.length=G+Q;for(let at=0;at<Q;at++)h[G+at]=A[at]}else h.push(A)}}class B{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function et(h){return et[" "](h),h}et[" "]=function(){};var X=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function rt(h,y,T){for(const A in h)y.call(T,h[A],A,h)}function P(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function w(h){const y={};for(const T in h)y[T]=h[T];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,y){let T,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(T in A)h[T]=A[T];for(let Q=0;Q<R.length;Q++)T=R[Q],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function M(h){var y=1;h=h.split(":");const T=[];for(;0<y&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function F(h){d.setTimeout(()=>{throw h},0)}function N(){var h=Lt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,T){const A=ie.get();A.set(y,T),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new B(()=>new ot,h=>h.reset());class ot{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,lt=!1,Lt=new ne,k=()=>{const h=d.Promise.resolve(void 0);ut=()=>{h.then(it)}};var it=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(T){F(T)}var y=ie;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}lt=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};d.addEventListener("test",T,y),d.removeEventListener("test",T,y)}catch{}return h}();function Ct(h,y){if(ct.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(X){t:{try{et(y.nodeName);var G=!0;break t}catch{}G=!1}G||(y=null)}}else T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Rt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ct.aa.h.call(this)}}V(Ct,ct);var Rt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function ue(h,y,T,A,G){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!A,this.ha=G,this.key=++Ft,this.da=this.fa=!1}function Yt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function on(h){this.src=h,this.g={},this.h=0}on.prototype.add=function(h,y,T,A,G){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var at=Dn(h,y,A,G);return-1<at?(y=h[at],T||(y.fa=!1)):(y=new ue(y,this.src,Q,!!A,G),y.fa=T,h.push(y)),y};function Mi(h,y){var T=y.type;if(T in h.g){var A=h.g[T],G=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=G)&&Array.prototype.splice.call(A,G,1),Q&&(Yt(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Dn(h,y,T,A){for(var G=0;G<h.length;++G){var Q=h[G];if(!Q.da&&Q.listener==y&&Q.capture==!!T&&Q.ha==A)return G}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),Ss={};function ki(h,y,T,A,G){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)ki(h,y[Q],T,A,G);return null}return T=cc(T),h&&h[Ee]?h.K(y,T,p(A)?!!A.capture:!1,G):il(h,y,T,!1,A,G)}function il(h,y,T,A,G,Q){if(!y)throw Error("Invalid event type");var at=p(G)?!!G.capture:!!G,Ut=sl(h);if(Ut||(h[bs]=Ut=new on(h)),T=Ut.add(y,T,A,at,Q),T.proxy)return T;if(A=Pa(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)ht||(G=at),G===void 0&&(G=!1),h.addEventListener(y.toString(),A,G);else if(h.attachEvent)h.attachEvent(Oa(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Pa(){function h(T){return y.call(h.src,h.listener,T)}const y=nd;return h}function Na(h,y,T,A,G){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Na(h,y[Q],T,A,G);else A=p(A)?!!A.capture:!!A,T=cc(T),h&&h[Ee]?(h=h.i,y=String(y).toString(),y in h.g&&(Q=h.g[y],T=Dn(Q,T,A,G),-1<T&&(Yt(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete h.g[y],h.h--)))):h&&(h=sl(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Dn(y,T,A,G)),(T=-1<h?y[h]:null)&&Nr(T))}function Nr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ee])Mi(y.i,h);else{var T=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(T,A,h.capture):y.detachEvent?y.detachEvent(Oa(T),A):y.addListener&&y.removeListener&&y.removeListener(A),(T=sl(y))?(Mi(T,h),T.h==0&&(T.src=null,y[bs]=null)):Yt(h)}}}function Oa(h){return h in Ss?Ss[h]:Ss[h]="on"+h}function nd(h,y){if(h.da)h=!0;else{y=new Ct(y,this);var T=h.listener,A=h.ha||h.src;h.fa&&Nr(h),h=T.call(A,y)}return h}function sl(h){return h=h[bs],h instanceof on?h:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function cc(h){return typeof h=="function"?h:(h[pn]||(h[pn]=function(y){return h.handleEvent(y)}),h[pn])}function Re(){pt.call(this),this.i=new on(this),this.M=this,this.F=null}V(Re,pt),Re.prototype[Ee]=!0,Re.prototype.removeEventListener=function(h,y,T,A){Na(this,h,y,T,A)};function Me(h,y){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new ct(y,h);else if(y instanceof ct)y.target=y.target||h;else{var G=y;y=new ct(A,h),D(y,G)}if(G=!0,T)for(var Q=T.length-1;0<=Q;Q--){var at=y.g=T[Q];G=Li(at,A,!0,y)&&G}if(at=y.g=h,G=Li(at,A,!0,y)&&G,G=Li(at,A,!1,y)&&G,T)for(Q=0;Q<T.length;Q++)at=y.g=T[Q],G=Li(at,A,!1,y)&&G}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var T=h.g[y],A=0;A<T.length;A++)Yt(T[A]);delete h.g[y],h.h--}}this.F=null},Re.prototype.K=function(h,y,T,A){return this.i.add(String(h),y,!1,T,A)},Re.prototype.L=function(h,y,T,A){return this.i.add(String(h),y,!0,T,A)};function Li(h,y,T,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,Q=0;Q<y.length;++Q){var at=y[Q];if(at&&!at.da&&at.capture==T){var Ut=at.listener,Ce=at.ha||at.src;at.fa&&Mi(h.i,at),G=Ut.call(Ce,A)!==!1&&G}}return G&&!A.defaultPrevented}function hc(h,y,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function rl(h){h.g=hc(()=>{h.g=null,h.i&&(h.i=!1,rl(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class id extends pt{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:rl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(h){pt.call(this),this.h=h,this.g={}}V(Or,pt);var As=[];function We(h){rt(h.g,function(y,T){this.g.hasOwnProperty(T)&&Nr(y)},h),h.g={}}Or.prototype.N=function(){Or.aa.N.call(this),We(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var al=d.JSON.stringify,ui=d.JSON.parse,ln=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ol(){}ol.prototype.h=null;function fc(h){return h.h||(h.h=h.i())}function dc(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){ct.call(this,"d")}V(ws,ct);function Jn(){ct.call(this,"c")}V(Jn,ct);var Pn={},Rs=null;function Va(){return Rs=Rs||new Re}Pn.La="serverreachability";function ll(h){ct.call(this,Pn.La,h)}V(ll,ct);function xs(h){const y=Va();Me(y,new ll(y))}Pn.STAT_EVENT="statevent";function Ma(h,y){ct.call(this,Pn.STAT_EVENT,h),this.stat=y}V(Ma,ct);function ge(h){const y=Va();Me(y,new Ma(y,h))}Pn.Ma="timingevent";function mc(h,y){ct.call(this,Pn.Ma,h),this.size=y}V(mc,ct);function Cs(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function pc(h,y,T,A,G,Q){h.info(function(){if(h.g)if(Q)for(var at="",Ut=Q.split("&"),Ce=0;Ce<Ut.length;Ce++){var jt=Ut[Ce].split("=");if(1<jt.length){var Ue=jt[0];jt=jt[1];var Ie=Ue.split("_");at=2<=Ie.length&&Ie[1]=="type"?at+(Ue+"="+jt+"&"):at+(Ue+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+y+`
`+T+`
`+at})}function gc(h,y,T,A,G,Q,at){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+y+`
`+T+`
`+Q+" "+at})}function Ds(h,y,T,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ke(h,T)+(A?" "+A:"")})}function hi(h,y){h.info(function(){return"TIMEOUT: "+y})}Is.prototype.info=function(){};function ke(h,y){if(!h.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var Q=G[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<G.length;at++)G[at]=""}}}}return al(T)}catch{return y}}var xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function ka(){}V(ka,ol),ka.prototype.g=function(){return new XMLHttpRequest},ka.prototype.i=function(){return{}},Vr=new ka;function fi(h,y,T,A){this.j=h,this.i=y,this.l=T,this.R=A||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ul}function ul(){this.i=null,this.g="",this.h=!1}var Ps={},Mr={};function ti(h,y,T){h.L=1,h.v=Ur(ce(y)),h.m=T,h.P=!0,ji(h,null)}function ji(h,y){h.F=Date.now(),se(h),h.A=ce(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Fi(T.i,"t",A),h.C=0,T=h.j.J,h.h=new ul,h.g=Dc(h.j,T?y:null,!h.m),0<h.O&&(h.M=new id(b(h.Y,h,h.g),h.O)),y=h.U,T=h.g,A=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(As[0]=G.toString()),G=As);for(var Q=0;Q<G.length;Q++){var at=ki(T,G[Q],A||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),xs(),pc(h.i,h.u,h.A,h.l,h.R,h.m)}fi.prototype.ca=function(h){h=h.target;const y=this.M;y&&kn(h)==3?y.j():this.Y(h)},fi.prototype.Y=function(h){try{if(h==this.g)t:{const Ie=kn(this.g);var y=this.g.Ba();const Ki=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||bc(this.g)))){this.J||Ie!=4||y==7||(y==8||0>=Ki?xs(3):xs(2)),La(this);var T=this.g.Z();this.X=T;e:if(Ns(this)){var A=bc(this.g);h="";var G=A.length,Q=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),En(this);var at="";break e}this.h.i=new d.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(Q&&y==G-1)});A.length=0,this.h.g+=h,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=T==200,gc(this.i,this.u,this.A,this.l,this.R,Ie,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ce=this.g;if((Ut=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ut)){var jt=Ut;break e}}jt=null}if(T=jt)Ds(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bn(this,T);else{this.o=!1,this.s=3,ge(12),gn(this),En(this);break t}}if(this.P){T=!0;let He;for(;!this.J&&this.C<at.length;)if(He=Os(this,at),He==Mr){Ie==4&&(this.s=4,ge(14),T=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Ps){this.s=4,ge(15),Ds(this.i,this.l,at,"[Invalid Chunk]"),T=!1;break}else Ds(this.i,this.l,He,null),bn(this,He);if(Ns(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||at.length!=0||this.h.h||(this.s=1,ge(16),T=!1),this.o=this.o&&T,!T)Ds(this.i,this.l,at,"[Invalid Chunked Response]"),gn(this),En(this);else if(0<at.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Gr(Ue),Ue.M=!0,ge(11))}}else Ds(this.i,this.l,at,null),bn(this,at);Ie==4&&gn(this),this.o&&!this.J&&(Ie==4?xc(this.j,this):(this.o=!1,se(this)))}else ud(this.g),T==400&&0<at.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),gn(this),En(this)}}}catch{}finally{}};function Ns(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Os(h,y){var T=h.C,A=y.indexOf(`
`,T);return A==-1?Mr:(T=Number(y.substring(T,A)),isNaN(T)?Ps:(A+=1,A+T>y.length?Mr:(y=y.slice(A,A+T),h.C=A+T,y)))}fi.prototype.cancel=function(){this.J=!0,gn(this)};function se(h){h.S=Date.now()+h.I,cl(h,h.I)}function cl(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Cs(b(h.ba,h),y)}function La(h){h.B&&(d.clearTimeout(h.B),h.B=null)}fi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(hi(this.i,this.A),this.L!=2&&(xs(),ge(17)),gn(this),this.s=2,En(this)):cl(this,this.S-h)};function En(h){h.j.G==0||h.J||xc(h.j,h)}function gn(h){La(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,We(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function bn(h,y){try{var T=h.j;if(T.G!=0&&(T.g==h||Vs(T.h,h))){if(!h.K&&Vs(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)$a(T),Ga(T);else break t;El(T),ge(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=Cs(b(T.Za,T),6e3));if(1>=yc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Gi(T,11)}else if((h.K||T.g==h)&&$a(T),!H(y))for(G=T.Da.g.parse(y),y=0;y<G.length;y++){let jt=G[y];if(T.T=jt[0],jt=jt[1],T.G==2)if(jt[0]=="c"){T.K=jt[1],T.ia=jt[2];const Ue=jt[3];Ue!=null&&(T.la=Ue,T.j.info("VER="+T.la));const Ie=jt[4];Ie!=null&&(T.Aa=Ie,T.j.info("SVER="+T.Aa));const Ki=jt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(A=1.5*Ki,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const He=h.g;if(He){const _i=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Q=A.h;Q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ms(Q,Q.h),Q.h=null))}if(A.D){const Sl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(A.ya=Sl,Ht(A.I,A.D,Sl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var at=h;if(A.qa=Ic(A,A.J?A.ia:null,A.W),at.K){Nn(A.h,at);var Ut=at,Ce=A.L;Ce&&(Ut.I=Ce),Ut.B&&(La(Ut),se(Ut)),A.g=at}else wc(A);0<T.i.length&&Ka(T)}else jt[0]!="stop"&&jt[0]!="close"||Gi(T,7);else T.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Gi(T,7):_l(T):jt[0]!="noop"&&T.l&&T.l.ta(jt),T.v=0)}}xs(4)}catch{}}var sd=class{constructor(h,y){this.g=h,this.map=y}};function hl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yc(h){return h.h?1:h.g?h.g.size:0}function Vs(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ms(h,y){h.g?h.g.add(y):h.h=y}function Nn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}hl.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function un(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.D);return y}return L(h.i)}function vc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],T=h.length,A=0;A<T;A++)y.push(h[A]);return y}y=[],T=0;for(A in h)y[T++]=h[A];return y}function rd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var T=0;T<h;T++)y.push(T);return y}y=[],T=0;for(const A in h)y[T++]=A;return y}}}function kr(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var T=rd(h),A=vc(h),G=A.length,Q=0;Q<G;Q++)y.call(void 0,A[Q],T&&T[Q],h)}var dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,y){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),G=null;if(0<=A){var Q=h[T].substring(0,A);G=h[T].substring(A+1)}else Q=h[T];y(Q,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Bi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Bi){this.h=h.h,ks(this,h.j),this.o=h.o,this.g=h.g,Lr(this,h.s),this.l=h.l;var y=h.i,T=new di;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),ja(this,T),this.m=h.m}else h&&(y=String(h).match(dl))?(this.h=!1,ks(this,y[1]||"",!0),this.o=Ls(y[2]||""),this.g=Ls(y[3]||"",!0),Lr(this,y[4]),this.l=Ls(y[5]||"",!0),ja(this,y[6]||"",!0),this.m=Ls(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Bi.prototype.toString=function(){var h=[],y=this.j;y&&h.push(On(y,ml,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(On(y,ml,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(On(T,T.charAt(0)=="/"?pl:_c,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",On(T,ld)),h.join("")};function ce(h){return new Bi(h)}function ks(h,y,T){h.j=T?Ls(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Lr(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ja(h,y,T){y instanceof di?(h.i=y,gl(h.i,h.h)):(T||(y=On(y,od)),h.i=new di(y,h.h))}function Ht(h,y,T){h.i.set(y,T)}function Ur(h){return Ht(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ls(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function On(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,ad),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ad(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ml=/[#\/\?@]/g,_c=/[#\?:]/g,pl=/[#\?]/g,od=/[#\?@]/g,ld=/#/g;function di(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}e=di.prototype,e.add=function(h,y){Vn(this),this.i=null,h=Hi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Ba(h,y){Vn(h),y=Hi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function zi(h,y){return Vn(h),y=Hi(h,y),h.g.has(y)}e.forEach=function(h,y){Vn(this),this.g.forEach(function(T,A){T.forEach(function(G){h.call(y,G,A,this)},this)},this)},e.na=function(){Vn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let A=0;A<y.length;A++){const G=h[A];for(let Q=0;Q<G.length;Q++)T.push(y[A])}return T},e.V=function(h){Vn(this);let y=[];if(typeof h=="string")zi(this,h)&&(y=y.concat(this.g.get(Hi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)y=y.concat(h[T])}return y},e.set=function(h,y){return Vn(this),this.i=null,h=Hi(this,h),zi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Fi(h,y,T){Ba(h,y),0<T.length&&(h.i=null,h.g.set(Hi(h,y),L(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var A=y[T];const Q=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var G=Q;at[A]!==""&&(G+="="+encodeURIComponent(String(at[A]))),h.push(G)}}return this.i=h.join("&")};function Hi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function gl(h,y){y&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(T,A){var G=A.toLowerCase();A!=G&&(Ba(this,A),Fi(this,G,T))},h)),h.j=y}function Tc(h,y){const T=new Is;if(d.Image){const A=new Image;A.onload=x(Mn,T,"TestLoadImage: loaded",!0,y,A),A.onerror=x(Mn,T,"TestLoadImage: error",!1,y,A),A.onabort=x(Mn,T,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(Mn,T,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function jr(h,y){const T=new Is,A=new AbortController,G=setTimeout(()=>{A.abort(),Mn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(G),Q.ok?Mn(T,"TestPingServer: ok",!0,y):Mn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Mn(T,"TestPingServer: error",!1,y)})}function Mn(h,y,T,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(T)}catch{}}function Br(){this.g=new ln}function mi(h,y,T){const A=T||"";try{kr(h,function(G,Q){let at=G;p(G)&&(at=al(G)),y.push(A+Q+"="+encodeURIComponent(at))})}catch(G){throw y.push(A+"type="+encodeURIComponent("_badmap")),G}}function Us(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Us,ol),Us.prototype.g=function(){return new qi(this.l,this.j)},Us.prototype.i=function(h){return function(){return h}}({});function qi(h,y){Re.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(qi,Re),e=qi.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,gi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function yl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?pi(this):gi(this),this.readyState==3&&yl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,pi(this))},e.Qa=function(h){this.g&&(this.response=h,pi(this))},e.ga=function(){this.g&&pi(this)};function pi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,gi(h)}e.setRequestHeader=function(h,y){this.u.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function vl(h){let y="";return rt(h,function(T,A){y+=A,y+=":",y+=T,y+=`\r
`}),y}function Le(h,y,T){t:{for(A in T){var A=!1;break t}A=!0}A||(T=vl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ht(h,y,T))}function Kt(h){Re.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Kt,Re);var za=/^https?$/i,zr=["POST","PUT"];e=Kt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,y,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?fc(this.o):fc(Vr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Ec(this,Q);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)T.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(zr,y,void 0))||A||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of T)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Ec(this,Q)}};function Ec(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Fa(h),yi(h)}function Fa(h){h.A||(h.A=!0,Me(h,"complete"),Me(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Me(this,"complete"),Me(this,"abort"),yi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},e.bb=function(){Ha(this)};function Ha(h){if(h.h&&typeof c<"u"&&(!h.v[1]||kn(h)!=4||h.Z()!=2)){if(h.u&&kn(h)==4)hc(h.Ea,0,h);else if(Me(h,"readystatechange"),kn(h)==4){h.h=!1;try{const at=h.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var A;if(A=at===0){var G=String(h.D).match(dl)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),A=!za.test(G?G.toLowerCase():"")}T=A}if(T)Me(h,"complete"),Me(h,"success");else{h.m=6;try{var Q=2<kn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Fa(h)}}finally{yi(h)}}}}function yi(h,y){if(h.g){Fr(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Me(h,"ready");try{T.onreadystatechange=A}catch{}}}function Fr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function kn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ui(y)}};function bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ud(h){const y={};h=(h.g&&2<=kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(H(h[A]))continue;var T=M(h[A]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=y[G]||[];y[G]=Q,Q.push(T)}P(y,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function qa(h){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,h),this.cb=Hr("retryDelaySeedMs",1e4,h),this.Wa=Hr("forwardChannelMaxRetries",2,h),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new hl(h&&h.concurrentRequestLimit),this.Da=new Br,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=qa.prototype,e.la=8,e.G=1,e.connect=function(h,y,T,A){ge(0),this.W=h,this.H=y||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Ic(this,null,this.W),Ka(this)};function _l(h){if(Sc(h),h.G==3){var y=h.U++,T=ce(h.I);if(Ht(T,"SID",h.K),Ht(T,"RID",y),Ht(T,"TYPE","terminate"),qr(h,T),y=new fi(h,h.j,y),y.L=2,y.v=Ur(ce(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=y.v,T=!0),T||(y.g=Dc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),se(y)}Cc(h)}function Ga(h){h.g&&(Gr(h),h.g.cancel(),h.g=null)}function Sc(h){Ga(h),h.u&&(d.clearTimeout(h.u),h.u=null),$a(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ka(h){if(!fl(h.h)&&!h.s){h.s=!0;var y=h.Ga;ut||k(),lt||(ut(),lt=!0),Lt.add(y,h),h.B=0}}function cd(h,y){return yc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Cs(b(h.Ga,h,y),bl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new fi(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=w(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(G.H=Q,Q=null),this.P)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=Ac(this,G,y),T=ce(this.I),Ht(T,"RID",h),Ht(T,"CVER",22),this.D&&Ht(T,"X-HTTP-Session-Id",this.D),qr(this,T),Q&&(this.O?y="headers="+encodeURIComponent(String(vl(Q)))+"&"+y:this.m&&Le(T,this.m,Q)),Ms(this.h,G),this.Ua&&Ht(T,"TYPE","init"),this.P?(Ht(T,"$req",y),Ht(T,"SID","null"),G.T=!0,ti(G,T,null)):ti(G,T,y),this.G=2}}else this.G==3&&(h?Tl(this,h):this.i.length==0||fl(this.h)||Tl(this))};function Tl(h,y){var T;y?T=y.l:T=h.U++;const A=ce(h.I);Ht(A,"SID",h.K),Ht(A,"RID",T),Ht(A,"AID",h.T),qr(h,A),h.m&&h.o&&Le(A,h.m,h.o),T=new fi(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Ac(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ms(h.h,T),ti(T,A,y)}function qr(h,y){h.H&&rt(h.H,function(T,A){Ht(y,A,T)}),h.l&&kr({},function(T,A){Ht(y,A,T)})}function Ac(h,y,T){T=Math.min(h.i.length,T);var A=h.l?b(h.l.Na,h.l,h):null;t:{var G=h.i;let Q=-1;for(;;){const at=["count="+T];Q==-1?0<T?(Q=G[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Ut=!0;for(let Ce=0;Ce<T;Ce++){let jt=G[Ce].g;const Ue=G[Ce].map;if(jt-=Q,0>jt)Q=Math.max(0,G[Ce].g-100),Ut=!1;else try{mi(Ue,at,"req"+jt+"_")}catch{A&&A(Ue)}}if(Ut){A=at.join("&");break t}}}return h=h.i.splice(0,T),y.D=h,A}function wc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ut||k(),lt||(ut(),lt=!0),Lt.add(y,h),h.v=0}}function El(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Cs(b(h.Fa,h),bl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Cs(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),Ga(this),Rc(this))};function Gr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Rc(h){h.g=new fi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ce(h.qa);Ht(y,"RID","rpc"),Ht(y,"SID",h.K),Ht(y,"AID",h.T),Ht(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ht(y,"TO",h.ja),Ht(y,"TYPE","xmlhttp"),qr(h,y),h.m&&h.o&&Le(y,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Ur(ce(y)),T.m=null,T.P=!0,ji(T,h)}e.Za=function(){this.C!=null&&(this.C=null,Ga(this),El(this),ge(19))};function $a(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function xc(h,y){var T=null;if(h.g==y){$a(h),Gr(h),h.g=null;var A=2}else if(Vs(h.h,y))T=y.D,Nn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var G=h.B;A=Va(),Me(A,new mc(A,T)),Ka(h)}else wc(h);else if(G=y.s,G==3||G==0&&0<y.X||!(A==1&&cd(h,y)||A==2&&El(h)))switch(T&&0<T.length&&(y=h.h,y.i=y.i.concat(T)),G){case 1:Gi(h,5);break;case 4:Gi(h,10);break;case 3:Gi(h,6);break;default:Gi(h,2)}}}function bl(h,y){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*y}function Gi(h,y){if(h.j.info("Error code "+y),y==2){var T=b(h.fb,h),A=h.Xa;const G=!A;A=new Bi(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ks(A,"https"),Ur(A),G?Tc(A.toString(),T):jr(A.toString(),T)}else ge(2);h.G=0,h.l&&h.l.sa(y),Cc(h),Sc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Cc(h){if(h.G=0,h.ka=[],h.l){const y=un(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Ic(h,y,T){var A=T instanceof Bi?ce(T):new Bi(T);if(A.g!="")y&&(A.g=y+"."+A.g),Lr(A,A.s);else{var G=d.location;A=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var Q=new Bi(null);A&&ks(Q,A),y&&(Q.g=y),G&&Lr(Q,G),T&&(Q.l=T),A=Q}return T=h.D,y=h.ya,T&&y&&Ht(A,T,y),Ht(A,"VER",h.la),qr(h,A),A}function Dc(h,y,T){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Kt(new Us({eb:T})):new Kt(h.pa),y.Ha(h.J),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}e=Pc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ya(){}Ya.prototype.g=function(h,y){return new cn(h,y)};function cn(h,y){Re.call(this),this.g=new qa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!H(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new vi(this)}V(cn,Re),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){_l(this.g)},cn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=al(h),h=T);y.i.push(new sd(y.Ya++,h)),y.G==3&&Ka(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,cn.aa.N.call(this)};function Nc(h){ws.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}V(Nc,ws);function Oc(){Jn.call(this),this.status=1}V(Oc,Jn);function vi(h){this.g=h}V(vi,Pc),vi.prototype.ua=function(){Me(this.g,"a")},vi.prototype.ta=function(h){Me(this.g,new Nc(h))},vi.prototype.sa=function(h){Me(this.g,new Oc)},vi.prototype.ra=function(){Me(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,wA=function(){return new Ya},AA=function(){return Va()},SA=Pn,Hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,Gh=xe,Ui.COMPLETE="complete",bA=Ui,dc.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Re.prototype.listen=Re.prototype.K,du=dc,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,EA=Kt}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",rE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Vg("@firebase/firestore");function bo(){return Sa.logLevel}function ft(e,...t){if(Sa.logLevel<=Vt.DEBUG){const n=t.map(Yg);Sa.debug(`Firestore (${Wo}): ${e}`,...n)}}function ys(e,...t){if(Sa.logLevel<=Vt.ERROR){const n=t.map(Yg);Sa.error(`Firestore (${Wo}): ${e}`,...n)}}function ko(e,...t){if(Sa.logLevel<=Vt.WARN){const n=t.map(Yg);Sa.warn(`Firestore (${Wo}): ${e}`,...n)}}function Yg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e="Unexpected state"){const t=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+e;throw ys(t),new Error(t)}function $t(e,t){e||bt()}function wt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Es{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class _N{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TN{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yr,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yr)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string"),new RA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new nn(t)}}class EN{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bN{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new EN(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SN{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Cn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const s=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aE(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new aE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=AN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Dt(e,t){return e<t?-1:e>t?1:0}function qp(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=e.codePointAt(n),a=t.codePointAt(n);if(s!==a){if(s<128&&a<128)return Dt(s,a);{const l=xA(),c=wN(l.encode(oE(e,n)),l.encode(oE(t,n)));return c!==0?c:Dt(s,a)}}n+=s>65535?2:1}return Dt(e.length,t.length)}function oE(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function wN(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Dt(e[n],t[n]);return Dt(e.length,t.length)}function Lo(e,t,n){return e.length===t.length&&e.every((s,a)=>n(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,uE=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*uE);return new Oe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lE)throw new yt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-lE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Oe(0,0))}static max(){return new St(new Oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class Ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&bt(),s===void 0?s=t.length-n:s>t.length-n&&bt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Ri.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Dt(t.length,n.length)}static compareSegments(t,n){const s=Ri.isNumericId(t),a=Ri.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):qp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gr.fromString(t.substring(4,t.length-2))}}class pe extends Ri{construct(t,n,s){return new pe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const RN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ri{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return RN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Qe([cE])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new yt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new yt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new yt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new yt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(pe.fromString(t))}static fromName(t){return new vt(pe.fromString(t).popFirst(5))}static empty(){return new vt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return pe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new pe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function xN(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=St.fromTimestamp(s===1e9?new Oe(n+1,0):new Oe(n,s));return new vr(a,vt.empty(),t)}function CN(e){return new vr(e.readTime,e.key,Nu)}class vr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new vr(St.min(),vt.empty(),Nu)}static max(){return new vr(St.max(),vt.empty(),Nu)}}function IN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Dt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==DN)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(a=>a?tt.resolve(a):s());return n}static forEach(t,n){const s=[];return t.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(v=>{c[p]=v,++d,d===l&&s(c)},v=>a(v))}})}static doWhile(t,n){return new tt((s,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):s()};l()})}}function NN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}kf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=-1;function Lf(e){return e==null}function uf(e){return e===0&&1/e==-1/0}function ON(e){return typeof e=="number"&&Number.isInteger(e)&&!uf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="";function VN(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hE(t)),t=MN(e.get(n),t);return hE(t)}function MN(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case IA:n+="";break;default:n+=l}}return n}function hE(e){return e+IA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ra(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function DA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oh(this.root,t,this.comparator,!0)}}class Oh{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=a??Ye.EMPTY,this.right=l??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new Ye(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Ye.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const t=this.left.check();if(t!==this.right.check())throw bt();return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(t,n,s,a,l){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(t){return new dE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class dE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new oi([])}unionWith(t){let n=new Ve(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new oi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PA("Invalid base64 string: "+l):l}}(t);return new Xe(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(e){if($t(!!e),typeof e=="string"){let t=0;const n=kN.exec(e);if($t(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Tr(e){return typeof e=="string"?Xe.fromBase64String(e):Xe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="server_timestamp",OA="__type__",VA="__previous_value__",MA="__local_write_time__";function Xg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[OA])===null||n===void 0?void 0:n.stringValue)===NA}function Uf(e){const t=e.mapValue.fields[VA];return Xg(t)?Uf(t):t}function Ou(e){const t=_r(e.mapValue.fields[MA].timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,n,s,a,l,c,d,m,p){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}const cf="(default)";class Vu{constructor(t,n){this.projectId=t,this.database=n||cf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===cf}isEqual(t){return t instanceof Vu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="__type__",UN="__max__",Vh={mapValue:{}},LA="__vector__",hf="value";function Er(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xg(e)?4:BN(e)?9007199254740991:jN(e)?10:11:bt()}function Ni(e,t){if(e===t)return!0;const n=Er(e);if(n!==Er(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ou(e).isEqual(Ou(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=_r(a.timestampValue),d=_r(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return Tr(a.bytesValue).isEqual(Tr(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),d=_e(l.doubleValue);return c===d?uf(c)===uf(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return Lo(e.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(fE(c)!==fE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ni(c[m],d[m])))return!1;return!0}(e,t);default:return bt()}}function Mu(e,t){return(e.values||[]).find(n=>Ni(n,t))!==void 0}function Uo(e,t){if(e===t)return 0;const n=Er(e),s=Er(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(e.booleanValue,t.booleanValue);case 2:return function(l,c){const d=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return mE(e.timestampValue,t.timestampValue);case 4:return mE(Ou(e),Ou(t));case 5:return qp(e.stringValue,t.stringValue);case 6:return function(l,c){const d=Tr(l),m=Tr(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=Dt(d[p],m[p]);if(v!==0)return v}return Dt(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const d=Dt(_e(l.latitude),_e(c.latitude));return d!==0?d:Dt(_e(l.longitude),_e(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return pE(e.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,p,v;const _=l.fields||{},b=c.fields||{},x=(d=_[hf])===null||d===void 0?void 0:d.arrayValue,V=(m=b[hf])===null||m===void 0?void 0:m.arrayValue,L=Dt(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:pE(x,V)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===Vh.mapValue&&c===Vh.mapValue)return 0;if(l===Vh.mapValue)return 1;if(c===Vh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const b=qp(m[_],v[_]);if(b!==0)return b;const x=Uo(d[m[_]],p[v[_]]);if(x!==0)return x}return Dt(m.length,v.length)}(e.mapValue,t.mapValue);default:throw bt()}}function mE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Dt(e,t);const n=_r(e),s=_r(t),a=Dt(n.seconds,s.seconds);return a!==0?a:Dt(n.nanos,s.nanos)}function pE(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Uo(n[a],s[a]);if(l)return l}return Dt(n.length,s.length)}function jo(e){return Gp(e)}function Gp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=_r(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Tr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return vt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Gp(l);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Gp(n.fields[c])}`;return a+"}"}(e.mapValue):bt()}function Kh(e){switch(Er(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uf(e);return t?16+Kh(t):16;case 5:return 2*e.stringValue.length;case 6:return Tr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Kh(l),0)}(e.arrayValue);case 10:case 11:return function(s){let a=0;return Ra(s.fields,(l,c)=>{a+=l.length+Kh(c)}),a}(e.mapValue);default:throw bt()}}function Kp(e){return!!e&&"integerValue"in e}function Wg(e){return!!e&&"arrayValue"in e}function gE(e){return!!e&&"nullValue"in e}function yE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $h(e){return!!e&&"mapValue"in e}function jN(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[kA])===null||n===void 0?void 0:n.stringValue)===LA}function _u(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ra(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=_u(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_u(e.arrayValue.values[n]);return t}return Object.assign({},e)}function BN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!$h(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_u(n)}setAll(t){let n=Qe.emptyPath(),s={},a=[];t.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=_u(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());$h(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];$h(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Ra(n,(a,l)=>t[a]=l);for(const a of s)delete t[a]}clone(){return new Qn(_u(this.value))}}function UA(e){const t=[];return Ra(e.fields,(n,s)=>{const a=new Qe([n]);if($h(s)){const l=UA(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,St.min(),St.min(),St.min(),Qn.empty(),0)}static newFoundDocument(t,n,s,a){return new sn(t,1,n,St.min(),s,a,0)}static newNoDocument(t,n){return new sn(t,2,n,St.min(),St.min(),Qn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,St.min(),St.min(),Qn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,n){this.position=t,this.inclusive=n}}function vE(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=Uo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function _E(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ni(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,n="asc"){this.field=t,this.dir=n}}function zN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{}class Ne extends jA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new HN(t,n,s):n==="array-contains"?new KN(t,s):n==="in"?new $N(t,s):n==="not-in"?new YN(t,s):n==="array-contains-any"?new QN(t,s):new Ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new qN(t,s):new GN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uo(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends jA{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Oi(t,n)}matches(t){return BA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function BA(e){return e.op==="and"}function zA(e){return FN(e)&&BA(e)}function FN(e){for(const t of e.filters)if(t instanceof Oi)return!1;return!0}function $p(e){if(e instanceof Ne)return e.field.canonicalString()+e.op.toString()+jo(e.value);if(zA(e))return e.filters.map(t=>$p(t)).join(",");{const t=e.filters.map(n=>$p(n)).join(",");return`${e.op}(${t})`}}function FA(e,t){return e instanceof Ne?function(s,a){return a instanceof Ne&&s.op===a.op&&s.field.isEqual(a.field)&&Ni(s.value,a.value)}(e,t):e instanceof Oi?function(s,a){return a instanceof Oi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&FA(c,a.filters[d]),!0):!1}(e,t):void bt()}function HA(e){return e instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(e):e instanceof Oi?function(n){return n.op.toString()+" {"+n.getFilters().map(HA).join(" ,")+"}"}(e):"Filter"}class HN extends Ne{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class qN extends Ne{constructor(t,n){super(t,"in",n),this.keys=qA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class GN extends Ne{constructor(t,n){super(t,"not-in",n),this.keys=qA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function qA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>vt.fromName(s.referenceValue))}class KN extends Ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wg(n)&&Mu(n.arrayValue,this.value)}}class $N extends Ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class YN extends Ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Mu(this.value.arrayValue,n)}}class QN extends Ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Mu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function TE(e,t=null,n=[],s=[],a=null,l=null,c=null){return new XN(e,t,n,s,a,l,c)}function Zg(e){const t=wt(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>$p(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Lf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>jo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>jo(s)).join(",")),t.le=n}return t.le}function Jg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!zN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!FA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_E(e.startAt,t.startAt)&&_E(e.endAt,t.endAt)}function Yp(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WN(e,t,n,s,a,l,c,d){return new jf(e,t,n,s,a,l,c,d)}function ty(e){return new jf(e)}function EE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ZN(e){return e.collectionGroup!==null}function Tu(e){const t=wt(e);if(t.he===null){t.he=[];const n=new Set;for(const l of t.explicitOrderBy)t.he.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ve(Qe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.he.push(new df(l,s))}),n.has(Qe.keyField().canonicalString())||t.he.push(new df(Qe.keyField(),s))}return t.he}function Ci(e){const t=wt(e);return t.Pe||(t.Pe=JN(t,Tu(e))),t.Pe}function JN(e,t){if(e.limitType==="F")return TE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new df(a.field,l)});const n=e.endAt?new ff(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ff(e.startAt.position,e.startAt.inclusive):null;return TE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Qp(e,t,n){return new jf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bf(e,t){return Jg(Ci(e),Ci(t))&&e.limitType===t.limitType}function GA(e){return`${Zg(Ci(e))}|lt:${e.limitType}`}function So(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>HA(a)).join(", ")}]`),Lf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>jo(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>jo(a)).join(",")),`Target(${s})`}(Ci(e))}; limitType=${e.limitType})`}function zf(e,t){return t.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):vt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(e,t)&&function(s,a){for(const l of Tu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(s,a){return!(s.startAt&&!function(c,d,m){const p=vE(c,d,m);return c.inclusive?p<=0:p<0}(s.startAt,Tu(s),a)||s.endAt&&!function(c,d,m){const p=vE(c,d,m);return c.inclusive?p>=0:p>0}(s.endAt,Tu(s),a))}(e,t)}function tO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function KA(e){return(t,n)=>{let s=!1;for(const a of Tu(e)){const l=eO(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function eO(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Uo(m,p):bt()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ra(this.inner,(n,s)=>{for(const[a,l]of s)t(a,l)})}isEmpty(){return DA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new le(vt.comparator);function vs(){return nO}const $A=new le(vt.comparator);function mu(...e){let t=$A;for(const n of e)t=t.insert(n.key,n);return t}function YA(e){let t=$A;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ma(){return Eu()}function QA(){return Eu()}function Eu(){return new xa(e=>e.toString(),(e,t)=>e.isEqual(t))}const iO=new le(vt.comparator),sO=new Ve(vt.comparator);function Mt(...e){let t=sO;for(const n of e)t=t.add(n);return t}const rO=new Ve(Dt);function aO(){return rO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(t)?"-0":t}}function XA(e){return{integerValue:""+e}}function oO(e,t){return ON(t)?XA(t):ey(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this._=void 0}}function lO(e,t,n){return e instanceof mf?function(a,l){const c={fields:{[OA]:{stringValue:NA},[MA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Xg(l)&&(l=Uf(l)),l&&(c.fields[VA]=l),{mapValue:c}}(n,t):e instanceof ku?ZA(e,t):e instanceof Lu?JA(e,t):function(a,l){const c=WA(a,l),d=bE(c)+bE(a.Ie);return Kp(c)&&Kp(a.Ie)?XA(d):ey(a.serializer,d)}(e,t)}function uO(e,t,n){return e instanceof ku?ZA(e,t):e instanceof Lu?JA(e,t):n}function WA(e,t){return e instanceof pf?function(s){return Kp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class mf extends Ff{}class ku extends Ff{constructor(t){super(),this.elements=t}}function ZA(e,t){const n=tw(t);for(const s of e.elements)n.some(a=>Ni(a,s))||n.push(s);return{arrayValue:{values:n}}}class Lu extends Ff{constructor(t){super(),this.elements=t}}function JA(e,t){let n=tw(t);for(const s of e.elements)n=n.filter(a=>!Ni(a,s));return{arrayValue:{values:n}}}class pf extends Ff{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function bE(e){return _e(e.integerValue||e.doubleValue)}function tw(e){return Wg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function cO(e,t){return e.field.isEqual(t.field)&&function(s,a){return s instanceof ku&&a instanceof ku||s instanceof Lu&&a instanceof Lu?Lo(s.elements,a.elements,Ni):s instanceof pf&&a instanceof pf?Ni(s.Ie,a.Ie):s instanceof mf&&a instanceof mf}(e.transform,t.transform)}class hO{constructor(t,n){this.version=t,this.transformResults=n}}class fs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new fs}static exists(t){return new fs(void 0,t)}static updateTime(t){return new fs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Hf{}function ew(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new iw(e.key,fs.none()):new tc(e.key,e.data,fs.none());{const n=e.data,s=Qn.empty();let a=new Ve(Qe.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ca(e.key,s,new oi(a.toArray()),fs.none())}}function fO(e,t,n){e instanceof tc?function(a,l,c){const d=a.value.clone(),m=AE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):e instanceof Ca?function(a,l,c){if(!Yh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=AE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(nw(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function bu(e,t,n,s){return e instanceof tc?function(l,c,d,m){if(!Yh(l.precondition,c))return d;const p=l.value.clone(),v=wE(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,s):e instanceof Ca?function(l,c,d,m){if(!Yh(l.precondition,c))return d;const p=wE(l.fieldTransforms,m,c),v=c.data;return v.setAll(nw(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,s):function(l,c,d){return Yh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,n)}function dO(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=WA(s.transform,a||null);l!=null&&(n===null&&(n=Qn.empty()),n.set(s.field,l))}return n||null}function SE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Lo(s,a,(l,c)=>cO(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tc extends Hf{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ca extends Hf{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function nw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function AE(e,t,n){const s=new Map;$t(e.length===n.length);for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,uO(c,d,n[a]))}return s}function wE(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,lO(l,c,t))}return s}class iw extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mO extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&fO(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=bu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=bu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=QA();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=ew(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,(n,s)=>SE(n,s))&&Lo(this.baseMutations,t.baseMutations,(n,s)=>SE(n,s))}}class ny{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){$t(t.mutations.length===s.length);let a=function(){return iO}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new ny(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,zt;function vO(e){switch(e){case st.OK:return bt();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return bt()}}function sw(e){if(e===void 0)return ys("GRPC error has no .code"),st.UNKNOWN;switch(e){case we.OK:return st.OK;case we.CANCELLED:return st.CANCELLED;case we.UNKNOWN:return st.UNKNOWN;case we.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case we.INTERNAL:return st.INTERNAL;case we.UNAVAILABLE:return st.UNAVAILABLE;case we.UNAUTHENTICATED:return st.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case we.NOT_FOUND:return st.NOT_FOUND;case we.ALREADY_EXISTS:return st.ALREADY_EXISTS;case we.PERMISSION_DENIED:return st.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case we.ABORTED:return st.ABORTED;case we.OUT_OF_RANGE:return st.OUT_OF_RANGE;case we.UNIMPLEMENTED:return st.UNIMPLEMENTED;case we.DATA_LOSS:return st.DATA_LOSS;default:return bt()}}(zt=we||(we={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new gr([4294967295,4294967295],0);function RE(e){const t=xA().encode(e),n=new TA;return n.update(t),new Uint8Array(n.digest())}function xE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new gr([n,s],0),new gr([a,l],0)]}class iy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(s<0)throw new pu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=gr.fromNumber(this.Ee)}Ae(t,n,s){let a=t.add(n.multiply(gr.fromNumber(s)));return a.compare(_O)===1&&(a=new gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=RE(t),[s,a]=xE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);if(!this.Re(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new iy(l,a,n);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.Ee===0)return;const n=RE(t),[s,a]=xE(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);this.Ve(c)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,ec.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new qf(St.min(),a,new le(Dt),vs(),Mt())}}class ec{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ec(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n,s,a){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=a}}class rw{constructor(t,n){this.targetId=t,this.ge=n}}class aw{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class CE{constructor(){this.pe=0,this.ye=IE(),this.we=Xe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Mt(),n=Mt(),s=Mt();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:bt()}}),new ec(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=IE()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class TO{constructor(t){this.ke=t,this.qe=new Map,this.Qe=vs(),this.$e=Mh(),this.Ue=Mh(),this.Ke=new le(Dt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:bt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,a)=>{this.Je(a)&&n(a)})}Ze(t){const n=t.targetId,s=t.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Yp(l))if(s===0){const c=new vt(l.path);this.ze(n,c,sn.newNoDocument(c,St.min()))}else $t(s===1);else{const c=this.et(n);if(c!==s){const d=this.tt(t),m=d?this.nt(d,t,c):1;if(m!==0){this.Ye(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Tr(s).toUint8Array()}catch(m){if(m instanceof PA)return ko("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new iy(c,a,l)}catch(m){return ko(m instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.ze(n,l,null),a++)}),a}ot(t){const n=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Yp(d.target)){const m=new vt(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,sn.newNoDocument(m,t))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let s=Mt();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.Xe(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new qf(t,n,this.Ke,this.Qe,s);return this.Qe=vs(),this.$e=Mh(),this.Ue=Mh(),this.Ke=new le(Dt),a}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const a=this.He(t);this.ut(t,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new CE,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ve(Dt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ve(Dt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new CE),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Mh(){return new le(vt.comparator)}function IE(){return new le(vt.comparator)}const EO={asc:"ASCENDING",desc:"DESCENDING"},bO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SO={and:"AND",or:"OR"};class AO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Xp(e,t){return e.useProto3Json||Lf(t)?t:{value:t}}function gf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ow(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wO(e,t){return gf(e,t.toTimestamp())}function Ii(e){return $t(!!e),St.fromTimestamp(function(n){const s=_r(n);return new Oe(s.seconds,s.nanos)}(e))}function sy(e,t){return Wp(e,t).canonicalString()}function Wp(e,t){const n=function(a){return new pe(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function lw(e){const t=pe.fromString(e);return $t(dw(t)),t}function Zp(e,t){return sy(e.databaseId,t.path)}function mp(e,t){const n=lw(t);if(n.get(1)!==e.databaseId.projectId)throw new yt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(cw(n))}function uw(e,t){return sy(e.databaseId,t)}function RO(e){const t=lw(e);return t.length===4?pe.emptyPath():cw(t)}function Jp(e){return new pe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cw(e){return $t(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function DE(e,t,n){return{name:Zp(e,t),fields:n.value.mapValue.fields}}function xO(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:bt()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?($t(v===void 0||typeof v=="string"),Xe.fromBase64String(v||"")):($t(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Xe.fromUint8Array(v||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const v=p.code===void 0?st.UNKNOWN:sw(p.code);return new yt(v,p.message||"")}(c);n=new aw(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=mp(e,s.document.name),l=Ii(s.document.updateTime),c=s.document.createTime?Ii(s.document.createTime):St.min(),d=new Qn({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(a,l,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Qh(p,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=mp(e,s.document),l=s.readTime?Ii(s.readTime):St.min(),c=sn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Qh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=mp(e,s.document),l=s.removedTargetIds||[];n=new Qh([],l,a,null)}else{if(!("filter"in t))return bt();{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new yO(a,l),d=s.targetId;n=new rw(d,c)}}return n}function CO(e,t){let n;if(t instanceof tc)n={update:DE(e,t.key,t.value)};else if(t instanceof iw)n={delete:Zp(e,t.key)};else if(t instanceof Ca)n={update:DE(e,t.key,t.data),updateMask:LO(t.fieldMask)};else{if(!(t instanceof mO))return bt();n={verify:Zp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof mf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof pf)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw bt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:wO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:bt()}(e,t.precondition)),n}function IO(e,t){return e&&e.length>0?($t(t!==void 0),e.map(n=>function(a,l){let c=a.updateTime?Ii(a.updateTime):Ii(l);return c.isEqual(St.min())&&(c=Ii(l)),new hO(c,a.transformResults||[])}(n,t))):[]}function DO(e,t){return{documents:[uw(e,t.path)]}}function PO(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=uw(e,a);const l=function(p){if(p.length!==0)return fw(Oi.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:Ao(b.field),direction:VO(b.dir)}}(v))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Xp(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:n,parent:a}}function NO(e){let t=RO(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){$t(s===1);const v=n.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];n.where&&(l=function(_){const b=hw(_);return b instanceof Oi&&zA(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(b=>function(V){return new df(wo(V.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(b))}(n.orderBy));let d=null;n.limit&&(d=function(_){let b;return b=typeof _=="object"?_.value:_,Lf(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(_){const b=!!_.before,x=_.values||[];return new ff(x,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,x=_.values||[];return new ff(x,b)}(n.endAt)),WN(t,a,c,l,d,"F",m,p)}function OO(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hw(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wo(n.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=wo(n.unaryFilter.field);return Ne.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(n.unaryFilter.field);return Ne.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wo(n.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(e):e.fieldFilter!==void 0?function(n){return Ne.create(wo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Oi.create(n.compositeFilter.filters.map(s=>hw(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return bt()}}(n.compositeFilter.op))}(e):bt()}function VO(e){return EO[e]}function MO(e){return bO[e]}function kO(e){return SO[e]}function Ao(e){return{fieldPath:e.canonicalString()}}function wo(e){return Qe.fromServerFormat(e.fieldPath)}function fw(e){return e instanceof Ne?function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:MO(n.op),value:n.value}}}(e):e instanceof Oi?function(n){const s=n.getFilters().map(a=>fw(a));return s.length===1?s[0]:{compositeFilter:{op:kO(n.op),filters:s}}}(e):bt()}function LO(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function dw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,n,s,a,l=St.min(),c=St.min(),d=Xe.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t){this.Tt=t}}function jO(e){const t=NO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Qp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.Tn=new zO}addToCollectionParentIndex(t,n){return this.Tn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(vr.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(vr.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class zO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Ve(pe.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Ve(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mw=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(mw,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Bo(0)}static Kn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="LruGarbageCollector",FO=1048576;function OE([e,t],[n,s]){const a=Dt(e,n);return a===0?Dt(t,s):a}class HO{constructor(t){this.Hn=t,this.buffer=new Ve(OE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();OE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ft(NE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?ft(NE,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.er(3e5)})}}class GO{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(kf.ae);const s=new HO(n);return this.tr.forEachTarget(t,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(PE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(s=_,d=Date.now(),this.removeTargets(t,s,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(_=>(p=Date.now(),bo()<=Vt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function KO(e,t){return new GO(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.changes=new xa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(s!==null&&bu(s.mutation,a,oi.empty(),Oe.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const a=ma();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,s).next(l=>{let c=mu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const s=ma();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(t,n,s,a){let l=vs();const c=Eu(),d=function(){return Eu()}();return n.forEach((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ca)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),bu(v.mutation,p,v.mutation.getFieldMask(),Oe.now())):c.set(p.key,oi.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),n.forEach((p,v)=>{var _;return d.set(p,new YO(v,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(t,n){const s=Eu();let a=new le((c,d)=>c-d),l=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||oi.empty();v=d.applyToLocalView(p,v),s.set(m,v);const _=(a.get(d.batchId)||Mt()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,_=QA();v.forEach(b=>{if(!l.has(b)){const x=ew(n.get(b),s.get(b));x!==null&&_.set(b,x),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return tt.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,a){return function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ZN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):tt.resolve(ma());let d=Nu,m=l;return c.next(p=>tt.forEach(p,(v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?tt.resolve():this.remoteDocumentCache.getEntry(t,v).next(b=>{m=m.insert(v,b)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Mt())).next(v=>({batchId:d,changes:YA(v)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next(s=>{let a=mu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(t,l).next(d=>tt.forEach(d,m=>{const p=function(_,b){return new jf(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next(v=>{v.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))});let d=mu();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&bu(v.mutation,p,oi.empty(),Oe.now()),zf(n,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return tt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ii(a.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:jO(a.bundledQuery),readTime:Ii(a.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.overlays=new le(vt.comparator),this.Rr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ma();return tt.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((a,l)=>{this.Et(t,n,l)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const a=ma(),l=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return tt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new le((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=ma(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ma(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return tt.resolve(d)}Et(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new gO(n,s));let l=this.Rr.get(n);l===void 0&&(l=Mt(),this.Rr.set(n,l)),this.Rr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.Vr=new Ve(Fe.mr),this.gr=new Ve(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Fe(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Fe(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new vt(new pe([])),s=new Fe(n,t),a=new Fe(n,t+1),l=[];return this.gr.forEachInRange([s,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new vt(new pe([])),s=new Fe(n,t),a=new Fe(n,t+1);let l=Mt();return this.gr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new Fe(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Fe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return vt.comparator(t.key,n.key)||Dt(t.Cr,n.Cr)}static pr(t,n){return Dt(t.Cr,n.Cr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ve(Fe.mr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new pO(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Fe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return tt.resolve(c)}lookupMutationBatch(t,n){return tt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Nr(s),l=a<0?0:a;return tt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Qg:this.Fr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Fe(n,0),a=new Fe(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,a],c=>{const d=this.Or(c.Cr);l.push(d)}),tt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(Dt);return n.forEach(a=>{const l=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{s=s.add(d.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;vt.isDocumentKey(l)||(l=l.child(""));const c=new Fe(new vt(l),0);let d=new Ve(Dt);return this.Mr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Cr)),!0)},c),tt.resolve(this.Br(d))}Br(t){const n=[];return t.forEach(s=>{const a=this.Or(s);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(n.mutations,a=>{const l=new Fe(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Fe(n,0),a=this.Mr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(t){this.kr=t,this.docs=function(){return new le(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=vs();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=vs();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||IN(CN(v),s)<=0||(a.has(v.key)||zf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return tt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){bt()}qr(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new eV(this)}getSize(t){return tt.resolve(this.size)}}class eV extends $O{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t){this.persistence=t,this.Qr=new xa(n=>Zg(n),Jg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ry,this.targetCount=0,this.Kr=Bo.Un()}forEachTarget(t,n){return this.Qr.forEach((s,a)=>n(a)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),tt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Bo(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.zn(n),tt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),tt.waitFor(l).next(()=>a)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),tt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new kf(0),this.zr=!1,this.zr=!0,this.jr=new ZO,this.referenceDelegate=t(this),this.Hr=new nV(this),this.indexManager=new BO,this.remoteDocumentCache=function(a){return new tV(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new UO(n),this.Yr=new XO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new WO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new JO(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const a=new iV(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,n){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class iV extends PN{constructor(t){super(),this.currentSequenceNumber=t}}class ay{constructor(t){this.persistence=t,this.ti=new ry,this.ni=null}static ri(t){return new ay(t)}get ii(){if(this.ni)return this.ni;throw bt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),tt.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const a=vt.fromPath(s);return this.si(t,a).next(l=>{l||n.removeEntry(a,St.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return tt.or([()=>tt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class yf{constructor(t,n){this.persistence=t,this.oi=new xa(s=>VN(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=KO(this,n)}static ri(t,n){return new yf(t,n)}Zr(){}Xr(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(a=>s+a))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return tt.forEach(this.oi,(s,a)=>this.ar(t,s,a).next(l=>l?tt.resolve():n(a)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,n).next(d=>{d||(s++,l.removeEntry(c,St.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kh(t.data.value)),n}ar(t,n,s){return tt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.oi.get(n);return tt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=a}static Yi(t,n){let s=Mt(),a=Mt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new oy(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return LI()?8:NN(an())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.rs(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new sV;return this._s(t,n,c).next(d=>{if(l.result=d,this.Xi)return this.us(t,n,c,d.size)})}).next(()=>l.result)}us(t,n,s,a){return s.documentReadCount<this.es?(bo()<=Vt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(bo()<=Vt.DEBUG&&ft("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(bo()<=Vt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):tt.resolve())}rs(t,n){if(EE(n))return tt.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Qp(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const c=Mt(...l);return this.ns.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const p=this.cs(n,d);return this.ls(n,p,c,m.readTime)?this.rs(t,Qp(n,null,"F")):this.hs(t,p,n,m)}))})))}ss(t,n,s,a){return EE(n)||a.isEqual(St.min())?tt.resolve(null):this.ns.getDocuments(t,s).next(l=>{const c=this.cs(n,l);return this.ls(n,c,s,a)?tt.resolve(null):(bo()<=Vt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),So(n)),this.hs(t,c,n,xN(a,Nu)).next(d=>d))})}cs(t,n){let s=new Ve(KA(t));return n.forEach((a,l)=>{zf(t,l)&&(s=s.add(l))}),s}ls(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,n,s){return bo()<=Vt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",So(n)),this.ns.getDocumentsMatchingQuery(t,n,vr.min(),s)}hs(t,n,s,a){return this.ns.getDocumentsMatchingQuery(t,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="LocalStore",aV=3e8;class oV{constructor(t,n,s,a){this.persistence=t,this.Ps=n,this.serializer=a,this.Ts=new le(Dt),this.Is=new xa(l=>Zg(l),Jg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function lV(e,t,n,s){return new oV(e,t,n,s)}async function gw(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=Mt();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:d}))})})}function uV(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,p,v){const _=p.batch,b=_.keys();let x=tt.resolve();return b.forEach(V=>{x=x.next(()=>v.getEntry(m,V)).next(L=>{const O=p.docVersions.get(V);$t(O!==null),L.version.compareTo(O)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(n,s,t,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Mt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(s,a))})}function yw(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function cV(e,t){const n=wt(e),s=t.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const d=[];t.targetChanges.forEach((v,_)=>{const b=a.get(_);if(!b)return;d.push(n.Hr.removeMatchingKeys(l,v.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,v.addedDocuments,_)));let x=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?x=x.withResumeToken(Xe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,s)),a=a.insert(_,x),function(L,O,B){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=aV?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(b,x,v)&&d.push(n.Hr.updateTargetData(l,x))});let m=vs(),p=Mt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(hV(l,c,t.documentUpdates).next(v=>{m=v.Vs,p=v.fs})),!s.isEqual(St.min())){const v=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return tt.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ts=a,l))}function hV(e,t,n){let s=Mt(),a=Mt();return n.forEach(l=>s=s.add(l)),t.getEntries(e,s).next(l=>{let c=vs();return n.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ft(ly,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function fV(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Qg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function dV(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Hr.getTargetData(s,t).next(l=>l?(a=l,tt.resolve(a)):n.Hr.allocateTargetId(s).next(c=>(a=new hr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function tg(e,t,n){const s=wt(e),a=s.Ts.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Jo(c))throw c;ft(ly,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ts=s.Ts.remove(t),s.Is.delete(a.target)}function VE(e,t,n){const s=wt(e);let a=St.min(),l=Mt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const _=wt(m),b=_.Is.get(v);return b!==void 0?tt.resolve(_.Ts.get(b)):_.Hr.getTargetData(p,v)}(s,c,Ci(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,t,n?a:St.min(),n?l:Mt())).next(d=>(mV(s,tO(t),d),{documents:d,gs:l})))}function mV(e,t,n){let s=e.Es.get(t)||St.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),e.Es.set(t,s)}class ME{constructor(){this.activeTargetIds=aO()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pV{constructor(){this.ho=new ME,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new ME,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="ConnectivityMonitor";class LE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(kE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ft(kE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function eg(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="RestConnection",yV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vV{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===cf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(t,n,s,a,l){const c=eg(),d=this.bo(t,n.toUriEncodedString());ft(pp,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(t,d,m,s).then(p=>(ft(pp,`Received RPC '${t}' ${c}: `,p),p),p=>{throw ko(pp,`RPC '${t}' ${c} failed with error: `,p,"url: ",d,"request:",s),p})}Co(t,n,s,a,l,c){return this.So(t,n,s,a,l)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}bo(t,n){const s=yV[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class TV extends vV{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,a){const l=eg();return new Promise((c,d)=>{const m=new EA;m.setWithCredentials(!0),m.listenOnce(bA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Gh.NO_ERROR:const v=m.getResponseJson();ft(tn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(v)),c(v);break;case Gh.TIMEOUT:ft(tn,`RPC '${t}' ${l} timed out`),d(new yt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const _=m.getStatus();if(ft(tn,`RPC '${t}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b==null?void 0:b.error;if(x&&x.status&&x.message){const V=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(B)>=0?B:st.UNKNOWN}(x.status);d(new yt(V,x.message))}else d(new yt(st.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new yt(st.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{ft(tn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);ft(tn,`RPC '${t}' ${l} sending request:`,a),m.send(n,"POST",p,s,15)})}Wo(t,n,s){const a=eg(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=wA(),d=AA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");ft(tn,`Creating RPC '${t}' stream ${a}: ${v}`,m);const _=c.createWebChannel(v,m);let b=!1,x=!1;const V=new _V({Fo:O=>{x?ft(tn,`Not sending because RPC '${t}' stream ${a} is closed:`,O):(b||(ft(tn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ft(tn,`RPC '${t}' stream ${a} sending:`,O),_.send(O))},Mo:()=>_.close()}),L=(O,B,H)=>{O.listen(B,K=>{try{H(K)}catch(et){setTimeout(()=>{throw et},0)}})};return L(_,du.EventType.OPEN,()=>{x||(ft(tn,`RPC '${t}' stream ${a} transport opened.`),V.Qo())}),L(_,du.EventType.CLOSE,()=>{x||(x=!0,ft(tn,`RPC '${t}' stream ${a} transport closed`),V.Uo())}),L(_,du.EventType.ERROR,O=>{x||(x=!0,ko(tn,`RPC '${t}' stream ${a} transport errored:`,O),V.Uo(new yt(st.UNAVAILABLE,"The operation could not be completed")))}),L(_,du.EventType.MESSAGE,O=>{var B;if(!x){const H=O.data[0];$t(!!H);const K=H,et=(K==null?void 0:K.error)||((B=K[0])===null||B===void 0?void 0:B.error);if(et){ft(tn,`RPC '${t}' stream ${a} received error:`,et);const X=et.status;let rt=function(R){const D=we[R];if(D!==void 0)return sw(D)}(X),P=et.message;rt===void 0&&(rt=st.INTERNAL,P="Unknown error status: "+X+" with message "+et.message),x=!0,V.Uo(new yt(rt,P)),_.close()}else ft(tn,`RPC '${t}' stream ${a} received:`,H),V.Ko(H)}}),L(d,SA.STAT_EVENT,O=>{O.stat===Hp.PROXY?ft(tn,`RPC '${t}' stream ${a} detected buffering proxy`):O.stat===Hp.NOPROXY&&ft(tn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(e){return new AO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-s);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="PersistentStream";class _w{constructor(t,n,s,a,l,c,d,m){this.Ti=t,this.n_=s,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vw(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(ys(n.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===n&&this.V_(s,a)},s=>{t(()=>{const a=new yt(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ft(UE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ft(UE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EV extends _w{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=xO(this.serializer,t),s=function(l){if(!("targetChange"in l))return St.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Ii(c.readTime):St.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Jp(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=Yp(m)?{documents:DO(l,m)}:{query:PO(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=ow(l,c.resumeToken);const p=Xp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(St.min())>0){d.readTime=gf(l,c.snapshotVersion.toTimestamp());const p=Xp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const s=OO(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Jp(this.serializer),n.removeTarget=t,this.I_(n)}}class bV extends _w{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=IO(t.writeResults,t.commitTime),s=Ii(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Jp(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>CO(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{}class AV extends SV{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new yt(st.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(t,Wp(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(st.UNKNOWN,l.toString())})}Co(t,n,s,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,Wp(n,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(st.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class wV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ys(n),this.N_=!1):ft("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class RV{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{s.enqueueAndForget(async()=>{Ia(this)&&(ft(Aa,"Restarting streams for network reachability change."),await async function(m){const p=wt(m);p.W_.add(4),await nc(p),p.j_.set("Unknown"),p.W_.delete(4),await Kf(p)}(this))})}),this.j_=new wV(s,a)}}async function Kf(e){if(Ia(e))for(const t of e.G_)await t(!0)}async function nc(e){for(const t of e.G_)await t(!1)}function Tw(e,t){const n=wt(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),fy(n)?hy(n):tl(n).c_()&&cy(n,t))}function uy(e,t){const n=wt(e),s=tl(n);n.K_.delete(t),s.c_()&&Ew(n,t),n.K_.size===0&&(s.c_()?s.P_():Ia(n)&&n.j_.set("Unknown"))}function cy(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}tl(e).y_(t)}function Ew(e,t){e.H_.Ne(t),tl(e).w_(t)}function hy(e){e.H_=new TO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),tl(e).start(),e.j_.B_()}function fy(e){return Ia(e)&&!tl(e).u_()&&e.K_.size>0}function Ia(e){return wt(e).W_.size===0}function bw(e){e.H_=void 0}async function xV(e){e.j_.set("Online")}async function CV(e){e.K_.forEach((t,n)=>{cy(e,t)})}async function IV(e,t){bw(e),fy(e)?(e.j_.q_(t),hy(e)):e.j_.set("Unknown")}async function DV(e,t,n){if(e.j_.set("Online"),t instanceof aw&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(e,t)}catch(s){ft(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await vf(e,s)}else if(t instanceof Qh?e.H_.We(t):t instanceof rw?e.H_.Ze(t):e.H_.je(t),!n.isEqual(St.min()))try{const s=await yw(e.localStore);n.compareTo(s)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.K_.get(p);v&&l.K_.set(p,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const v=l.K_.get(m);if(!v)return;l.K_.set(m,v.withResumeToken(Xe.EMPTY_BYTE_STRING,v.snapshotVersion)),Ew(l,m);const _=new hr(v.target,m,p,v.sequenceNumber);cy(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)}catch(s){ft(Aa,"Failed to raise snapshot:",s),await vf(e,s)}}async function vf(e,t,n){if(!Jo(t))throw t;e.W_.add(1),await nc(e),e.j_.set("Offline"),n||(n=()=>yw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ft(Aa,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Kf(e)})}function Sw(e,t){return t().catch(n=>vf(e,n,t))}async function $f(e){const t=wt(e),n=br(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Qg;for(;PV(t);)try{const a=await fV(t.localStore,s);if(a===null){t.U_.length===0&&n.P_();break}s=a.batchId,NV(t,a)}catch(a){await vf(t,a)}Aw(t)&&ww(t)}function PV(e){return Ia(e)&&e.U_.length<10}function NV(e,t){e.U_.push(t);const n=br(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Aw(e){return Ia(e)&&!br(e).u_()&&e.U_.length>0}function ww(e){br(e).start()}async function OV(e){br(e).C_()}async function VV(e){const t=br(e);for(const n of e.U_)t.b_(n.mutations)}async function MV(e,t,n){const s=e.U_.shift(),a=ny.from(s,t,n);await Sw(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await $f(e)}async function kV(e,t){t&&br(e).S_&&await async function(s,a){if(function(c){return vO(c)&&c!==st.ABORTED}(a.code)){const l=s.U_.shift();br(s).h_(),await Sw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await $f(s)}}(e,t),Aw(e)&&ww(e)}async function jE(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ft(Aa,"RemoteStore received new credentials");const s=Ia(n);n.W_.add(3),await nc(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Kf(n)}async function LV(e,t){const n=wt(e);t?(n.W_.delete(2),await Kf(n)):t||(n.W_.add(2),await nc(n),n.j_.set("Unknown"))}function tl(e){return e.J_||(e.J_=function(n,s,a){const l=wt(n);return l.M_(),new EV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:xV.bind(null,e),No:CV.bind(null,e),Lo:IV.bind(null,e),p_:DV.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),fy(e)?hy(e):e.j_.set("Unknown")):(await e.J_.stop(),bw(e))})),e.J_}function br(e){return e.Y_||(e.Y_=function(n,s,a){const l=wt(n);return l.M_(),new bV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:OV.bind(null,e),Lo:kV.bind(null,e),D_:VV.bind(null,e),v_:MV.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await $f(e)):(await e.Y_.stop(),e.U_.length>0&&(ft(Aa,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new dy(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(e,t){if(ys("AsyncQueue",`${t}: ${e}`),Jo(e))return new yt(st.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(t){return new Vo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=mu(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Vo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.Z_=new le(vt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):bt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class zo{constructor(t,n,s,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new zo(t,n,Vo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class jV{constructor(){this.queries=zE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const a=wt(n),l=a.queries;a.queries=zE(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(s)})})(this,new yt(st.ABORTED,"Firestore shutting down"))}}function zE(){return new xa(e=>GA(e),Bf)}async function BV(e,t){const n=wt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.na()&&t.ra()&&(s=2):(l=new UV,s=t.ra()?0:1);try{switch(s){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=my(c,`Initialization of query '${So(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ta.push(t),t.sa(n.onlineState),l.ea&&t.oa(l.ea)&&py(n)}async function zV(e,t){const n=wt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function FV(e,t){const n=wt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(s=!0);c.ea=a}}s&&py(n)}function HV(e,t,n){const s=wt(e),a=s.queries.get(t);if(a)for(const l of a.ta)l.onError(n);s.queries.delete(t)}function py(e){e.ia.forEach(t=>{t.next()})}var ng,FE;(FE=ng||(ng={}))._a="default",FE.Cache="cache";class qV{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new zo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=zo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t){this.key=t}}class xw{constructor(t){this.key=t}}class GV{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=KA(t),this.wa=new Vo(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new BE,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,_)=>{const b=a.get(v),x=zf(this.query,_)?_:null,V=!!b&&this.mutatedKeys.has(b.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let O=!1;b&&x?b.data.isEqual(x.data)?V!==L&&(s.track({type:3,doc:x}),O=!0):this.va(b,x)||(s.track({type:2,doc:x}),O=!0,(m&&this.ya(x,m)>0||p&&this.ya(x,p)<0)&&(d=!0)):!b&&x?(s.track({type:0,doc:x}),O=!0):b&&!x&&(s.track({type:1,doc:b}),O=!0,(m||p)&&(d=!0)),O&&(x?(c=c.add(x),l=L?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{wa:c,Da:s,ls:d,mutatedKeys:l}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((v,_)=>function(x,V){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return L(x)-L(V)}(v.type,_.type)||this.ya(v.doc,_.doc)),this.Ca(s),a=a!=null&&a;const d=n&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,p=m!==this.ga;return this.ga=m,c.length!==0||p?{snapshot:new zo(this.query,t.wa,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new BE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new xw(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new Rw(s))}),n}Oa(t){this.fa=t.gs,this.pa=Mt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return zo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const gy="SyncEngine";class KV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class $V{constructor(t){this.key=t,this.Ba=!1}}class YV{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new xa(d=>GA(d),Bf),this.qa=new Map,this.Qa=new Set,this.$a=new le(vt.comparator),this.Ua=new Map,this.Ka=new ry,this.Wa={},this.Ga=new Map,this.za=Bo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function QV(e,t,n=!0){const s=Ow(e);let a;const l=s.ka.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await Cw(s,t,n,!0),a}async function XV(e,t){const n=Ow(e);await Cw(n,t,!0,!1)}async function Cw(e,t,n,s){const a=await dV(e.localStore,Ci(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await WV(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&Tw(e.remoteStore,a),d}async function WV(e,t,n,s,a){e.Ha=(_,b,x)=>async function(L,O,B,H){let K=O.view.ba(B);K.ls&&(K=await VE(L.localStore,O.query,!1).then(({documents:P})=>O.view.ba(P,K)));const et=H&&H.targetChanges.get(O.targetId),X=H&&H.targetMismatches.get(O.targetId)!=null,rt=O.view.applyChanges(K,L.isPrimaryClient,et,X);return qE(L,O.targetId,rt.Ma),rt.snapshot}(e,_,b,x);const l=await VE(e.localStore,t,!0),c=new GV(t,l.gs),d=c.ba(l.documents),m=ec.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);qE(e,n,p.Ma);const v=new KV(t,n,c);return e.ka.set(t,v),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),p.snapshot}async function ZV(e,t,n){const s=wt(e),a=s.ka.get(t),l=s.qa.get(a.targetId);if(l.length>1)return s.qa.set(a.targetId,l.filter(c=>!Bf(c,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await tg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&uy(s.remoteStore,a.targetId),ig(s,a.targetId)}).catch(Zo)):(ig(s,a.targetId),await tg(s.localStore,a.targetId,!0))}async function JV(e,t){const n=wt(e),s=n.ka.get(t),a=n.qa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),uy(n.remoteStore,s.targetId))}async function tM(e,t,n){const s=oM(e);try{const a=await function(c,d){const m=wt(c),p=Oe.now(),v=d.reduce((x,V)=>x.add(V.key),Mt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=vs(),L=Mt();return m.ds.getEntries(x,v).next(O=>{V=O,V.forEach((B,H)=>{H.isValidDocument()||(L=L.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,V)).next(O=>{_=O;const B=[];for(const H of d){const K=dO(H,_.get(H.key).overlayedDocument);K!=null&&B.push(new Ca(H.key,K,UA(K.value.mapValue),fs.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,B,d)}).next(O=>{b=O;const B=O.applyToLocalDocumentSet(_,L);return m.documentOverlayCache.saveOverlays(x,O.batchId,B)})}).then(()=>({batchId:b.batchId,changes:YA(_)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Wa[c.currentUser.toKey()];p||(p=new le(Dt)),p=p.insert(d,m),c.Wa[c.currentUser.toKey()]=p}(s,a.batchId,n),await ic(s,a.changes),await $f(s.remoteStore)}catch(a){const l=my(a,"Failed to persist write");n.reject(l)}}async function Iw(e,t){const n=wt(e);try{const s=await cV(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&($t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?$t(c.Ba):a.removedDocuments.size>0&&($t(c.Ba),c.Ba=!1))}),await ic(n,s,t)}catch(s){await Zo(s)}}function HE(e,t,n){const s=wt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ka.forEach((l,c)=>{const d=c.view.sa(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=wt(c);m.onlineState=d;let p=!1;m.queries.forEach((v,_)=>{for(const b of _.ta)b.sa(d)&&(p=!0)}),p&&py(m)}(s.eventManager,t),a.length&&s.La.p_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function eM(e,t,n){const s=wt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Ua.get(t),l=a&&a.key;if(l){let c=new le(vt.comparator);c=c.insert(l,sn.newNoDocument(l,St.min()));const d=Mt().add(l),m=new qf(St.min(),new Map,new le(Dt),c,d);await Iw(s,m),s.$a=s.$a.remove(l),s.Ua.delete(t),yy(s)}else await tg(s.localStore,t,!1).then(()=>ig(s,t,n)).catch(Zo)}async function nM(e,t){const n=wt(e),s=t.batch.batchId;try{const a=await uV(n.localStore,t);Pw(n,s,null),Dw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ic(n,a)}catch(a){await Zo(a)}}async function iM(e,t,n){const s=wt(e);try{const a=await function(c,d){const m=wt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>($t(_!==null),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(s.localStore,t);Pw(s,t,n),Dw(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ic(s,a)}catch(a){await Zo(a)}}function Dw(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function Pw(e,t,n){const s=wt(e);let a=s.Wa[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Wa[s.currentUser.toKey()]=a}}function ig(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.qa.get(t))e.ka.delete(s),n&&e.La.Ja(s,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(s=>{e.Ka.containsKey(s)||Nw(e,s)})}function Nw(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(uy(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),yy(e))}function qE(e,t,n){for(const s of n)s instanceof Rw?(e.Ka.addReference(s.key,t),sM(e,s)):s instanceof xw?(ft(gy,"Document no longer in limbo: "+s.key),e.Ka.removeReference(s.key,t),e.Ka.containsKey(s.key)||Nw(e,s.key)):bt()}function sM(e,t){const n=t.key,s=n.path.canonicalString();e.$a.get(n)||e.Qa.has(s)||(ft(gy,"New document in limbo: "+n),e.Qa.add(s),yy(e))}function yy(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new vt(pe.fromString(t)),s=e.za.next();e.Ua.set(s,new $V(n)),e.$a=e.$a.insert(n,s),Tw(e.remoteStore,new hr(Ci(ty(n.path)),s,"TargetPurposeLimboResolution",kf.ae))}}async function ic(e,t,n){const s=wt(e),a=[],l=[],c=[];s.ka.isEmpty()||(s.ka.forEach((d,m)=>{c.push(s.Ha(m,t,n).then(p=>{var v;if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=oy.Yi(m.targetId,p);l.push(_)}}))}),await Promise.all(c),s.La.p_(a),await async function(m,p){const v=wt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>tt.forEach(p,b=>tt.forEach(b.Hi,x=>v.persistence.referenceDelegate.addReference(_,b.targetId,x)).next(()=>tt.forEach(b.Ji,x=>v.persistence.referenceDelegate.removeReference(_,b.targetId,x)))))}catch(_){if(!Jo(_))throw _;ft(ly,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const x=v.Ts.get(b),V=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(V);v.Ts=v.Ts.insert(b,L)}}}(s.localStore,l))}async function rM(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ft(gy,"User change. New user:",t.toKey());const s=await gw(n.localStore,t);n.currentUser=t,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new yt(st.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ic(n,s.Rs)}}function aM(e,t){const n=wt(e),s=n.Ua.get(t);if(s&&s.Ba)return Mt().add(s.key);{let a=Mt();const l=n.qa.get(t);if(!l)return a;for(const c of l){const d=n.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function Ow(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Iw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eM.bind(null,t),t.La.p_=FV.bind(null,t.eventManager),t.La.Ja=HV.bind(null,t.eventManager),t}function oM(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iM.bind(null,t),t}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return lV(this.persistence,new rV,t.initialUser,this.serializer)}Xa(t){return new pw(ay.ri,this.serializer)}Za(t){return new pV}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class lM extends _f{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof yf);const s=this.persistence.referenceDelegate.garbageCollector;return new qO(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new pw(s=>yf.ri(s,n),this.serializer)}}class sg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=rM.bind(null,this.syncEngine),await LV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jV}()}createDatastore(t){const n=Gf(t.databaseInfo.databaseId),s=function(l){return new TV(l)}(t.databaseInfo);return function(l,c,d,m){return new AV(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,a,l,c,d){return new RV(s,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,n=>HE(this.syncEngine,n,0),function(){return LE.D()?new LE:new gV}())}createSyncEngine(t,n){return function(a,l,c,d,m,p,v){const _=new YV(a,l,c,d,m,p);return v&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=wt(a);ft(Aa,"RemoteStore shutting down."),l.W_.add(5),await nc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sg.provider={build:()=>new sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class cM{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=CA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ft(Sr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ft(Sr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=my(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function yp(e,t){e.asyncQueue.verifyOperationInProgress(),ft(Sr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async a=>{s.isEqual(a)||(await gw(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function GE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hM(e);ft(Sr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>jE(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,a)=>jE(t.remoteStore,a)),e._onlineComponents=t}async function hM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(Sr,"Using user provided OfflineComponentProvider");try{await yp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await yp(e,new _f)}}else ft(Sr,"Using default OfflineComponentProvider"),await yp(e,new lM(void 0));return e._offlineComponents}async function Vw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(Sr,"Using user provided OnlineComponentProvider"),await GE(e,e._uninitializedComponentsProvider._online)):(ft(Sr,"Using default OnlineComponentProvider"),await GE(e,new sg))),e._onlineComponents}function fM(e){return Vw(e).then(t=>t.syncEngine)}async function dM(e){const t=await Vw(e),n=t.eventManager;return n.onListen=QV.bind(null,t.syncEngine),n.onUnlisten=ZV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=XV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=JV.bind(null,t.syncEngine),n}function mM(e,t,n={}){const s=new yr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new uM({next:b=>{v.su(),c.enqueueAndForget(()=>zV(l,_));const x=b.docs.has(d);!x&&b.fromCache?p.reject(new yt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&m&&m.source==="server"?p.reject(new yt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new qV(ty(d.path),v,{includeMetadataChanges:!0,Ta:!0});return BV(l,_)}(await dM(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(e,t,n){if(!n)throw new yt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function gM(e,t,n,s){if(t===!0&&s===!0)throw new yt(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $E(e){if(!vt.isDocumentKey(e))throw new yt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vy(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":bt()}function Uu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vy(e);throw new yt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firestore.googleapis.com",YE=!0;class QE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kw,this.ssl=YE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:YE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<FO)throw new yt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new yt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new yt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new yt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _y{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vN;switch(s.type){case"firstParty":return new bN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=KE.get(n);s&&(ft("ComponentProvider","Removing Datastore"),KE.delete(n),s.terminate())}(this),Promise.resolve()}}function yM(e,t,n,s={}){var a;const l=(e=Uu(e,_y))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),d=`${t}:${n}`;l.host!==kw&&l.host!==d&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!_a(m,c)&&(e._setSettings(m),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=nn.MOCK_USER;else{p=DI(s.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new yt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(_)}e._authCredentials=new _N(new RA(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ty(this.firestore,t,this._query)}}class Xn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xn(this.firestore,t,this._key)}}class ju extends Ty{constructor(t,n,s){super(t,n,ty(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xn(this.firestore,null,new vt(t))}withConverter(t){return new ju(this.firestore,t,this._path)}}function Ey(e,t,...n){if(e=Wn(e),arguments.length===1&&(t=CA.newId()),pM("doc","path",t),e instanceof _y){const s=pe.fromString(t,...n);return $E(s),new Xn(e,null,new vt(s))}{if(!(e instanceof Xn||e instanceof ju))throw new yt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(pe.fromString(t,...n));return $E(s),new Xn(e.firestore,e instanceof ju?e.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class WE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vw(this,"async_queue_retry"),this.Su=()=>{const s=gp();s&&ft(XE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new yr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Jo(t))throw t;ft(XE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw ys("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const a=dy.createAndSchedule(this,t,n,s,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&bt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class by extends _y{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new WE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new WE(t),this._firestoreClient=void 0,await t}}}function vM(e,t){const n=typeof e=="object"?e:US(),s=typeof e=="string"?e:cf,a=kg(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=CI("firestore");l&&yM(a,...l)}return a}function Lw(e){if(e._terminated)throw new yt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||_M(e),e._firestoreClient}function _M(e){var t,n,s;const a=e._freezeSettings(),l=function(d,m,p,v){return new LN(d,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Mw(v.experimentalLongPollingOptions),v.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new cM(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fo(Xe.fromBase64String(t))}catch(n){throw new yt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fo(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^__.*__$/;class EM{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ca(t,this.data,this.fieldMask,n,this.fieldTransforms):new tc(t,this.data,n,this.fieldTransforms)}}function jw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Ry{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Ry(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:s,Qu:!1});return a.$u(t),a}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Tf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(jw(this.Lu)&&TM.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class bM{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Gf(t)}ju(t,n,s,a=!1){return new Ry({Lu:t,methodName:n,zu:s,path:Qe.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SM(e){const t=e._freezeSettings(),n=Gf(e._databaseId);return new bM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function AM(e,t,n,s,a,l={}){const c=e.ju(l.merge||l.mergeFields?2:0,t,n,a);Hw("Data must be an object, but it was:",c,s);const d=zw(s,c);let m,p;if(l.merge)m=new oi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const b=wM(t,_,n);if(!c.contains(b))throw new yt(st.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);xM(v,b)||v.push(b)}m=new oi(v),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new EM(new Qn(d),m,p)}function Bw(e,t){if(Fw(e=Wn(e)))return Hw("Unsupported field value:",t,e),zw(e,t);if(e instanceof Uw)return function(s,a){if(!jw(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=Bw(d,a.Ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(s,a){if((s=Wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Oe.fromDate(s);return{timestampValue:gf(a.serializer,l)}}if(s instanceof Oe){const l=new Oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gf(a.serializer,l)}}if(s instanceof Ay)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fo)return{bytesValue:ow(a.serializer,s._byteString)};if(s instanceof Xn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof wy)return function(c,d){return{mapValue:{fields:{[kA]:{stringValue:LA},[hf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return ey(d.serializer,p)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${vy(s)}`)}(e,t)}function zw(e,t){const n={};return DA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ra(e,(s,a)=>{const l=Bw(a,t.qu(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function Fw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Oe||e instanceof Ay||e instanceof Fo||e instanceof Xn||e instanceof Uw||e instanceof wy)}function Hw(e,t,n){if(!Fw(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=vy(n);throw s==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+s)}}function wM(e,t,n){if((t=Wn(t))instanceof Sy)return t._internalPath;if(typeof t=="string")return qw(e,t);throw Tf("Field path arguments must be of type string or ",e,!1,void 0,n)}const RM=new RegExp("[~\\*/\\[\\]]");function qw(e,t,n){if(t.search(RM)>=0)throw Tf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Sy(...t.split("."))._internalPath}catch{throw Tf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Tf(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new yt(st.INVALID_ARGUMENT,d+e+m)}function xM(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Kw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CM extends Gw{data(){return super.data()}}function Kw(e,t){return typeof t=="string"?qw(e,t):t instanceof Sy?t._internalPath:t._delegate._internalPath}class IM{convertValue(t,n="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ra(t,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(t){var n,s,a;const l=(a=(s=(n=t.fields)===null||n===void 0?void 0:n[hf].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>_e(c.doubleValue));return new wy(l)}convertGeoPoint(t){return new Ay(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Uf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ou(t));default:return null}}convertTimestamp(t){const n=_r(t);return new Oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=pe.fromString(t);$t(dw(s));const a=new Vu(s.get(1),s.get(3)),l=new vt(s.popFirst(5));return a.isEqual(n)||ys(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(e,t,n){let s;return s=e?e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $w extends Gw{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new NM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Kw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class NM extends $w{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(e){e=Uu(e,Xn);const t=Uu(e.firestore,by);return mM(Lw(t),e._key).then(n=>kM(t,e,n))}class VM extends IM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function Yw(e,t,n){e=Uu(e,Xn);const s=Uu(e.firestore,by),a=DM(e.converter,t);return MM(s,[AM(SM(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,fs.none())])}function MM(e,t){return function(s,a){const l=new yr;return s.asyncQueue.enqueueAndForget(async()=>tM(await fM(s),a,l)),l.promise}(Lw(e),t)}function kM(e,t,n){const s=n.docs.get(t._key),a=new VM(e);return new $w(e,a,t._key,s,new PM(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){Wo=a})(Qo),Mo(new Ta("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new by(new TN(s.getProvider("auth-internal")),new SN(c,s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new yt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),pr(sE,rE,t),pr(sE,rE,"esm2017")})();const LM={apiKey:"AIzaSyCYg2imZQj7B0dUtHpT2veJ06qr6NpA87k",authDomain:"e-commerce-ae46b.firebaseapp.com",projectId:"e-commerce-ae46b",storageBucket:"e-commerce-ae46b.firebasestorage.app",messagingSenderId:"217856123875",appId:"1:217856123875:web:4c371abc4f5a6c2085b6d6"},UM=LS(LM),Ho=mN(),xy=vM(UM),Cy=z.createContext(),jM=({children:e})=>{const[t,n]=z.useState(null),[s,a]=z.useState(null),[l,c]=z.useState(!0);return z.useEffect(()=>{iP(Ho,async d=>{if(n(d),d){const m=Ey(xy,"Users",d.uid),p=await OM(m);p.exists()&&a(p.data())}else a(null);c(!1)})},[]),C.jsx("div",{children:C.jsx(Cy.Provider,{value:{currentUser:t,userData:s},children:!l&&e})})},vp=({children:e})=>{const{currentUser:t}=z.useContext(Cy),n=xr();return t?e:C.jsx(Og,{to:"/login",replace:!0,state:{from:n}})},Ef=[{id:1,name:"Wireless Mouse",rating:4.5,price:15.99,quantity:1},{id:2,name:"Mechanical Keyboard",rating:4.7,price:49.99,quantity:1},{id:3,name:"Gaming Headset",rating:4.3,price:35.5,quantity:1},{id:4,name:"Smartphone Stand",rating:4.6,price:10.99,quantity:1},{id:5,name:"USB-C Charger",rating:4.8,price:18.75,quantity:1},{id:6,name:"Portable SSD",rating:4.9,price:89.99,quantity:1},{id:7,name:"Laptop Cooling Pad",rating:4.2,price:22.99,quantity:1},{id:8,name:"Bluetooth Speaker",rating:4.4,price:29.99,quantity:1},{id:9,name:"Wireless Earbuds",rating:4.6,price:39.5,quantity:1},{id:10,name:"LED Desk Lamp",rating:4.5,price:25,quantity:1}],BM=({id:e,name:t,rating:n,price:s,quantity:a})=>{const{wishlist:l,setWishlist:c}=z.useContext(Pf),d=l.filter(b=>b!==null&&b!=null),m=d.find(b=>b.id===e),p=b=>{if(!b||!b.id||!b.name){console.error("Product not found in product-card.jsx",b);return}m||(c([...d,{...b,quantity:1}]),alert("Product is added to wishlist"))},_=Ef.filter(b=>b!=null&&b!=null).find(b=>b.id===e);return C.jsxs("div",{className:"w-72  flex flex-col items-center p-2 bg-gray-100 rounded-lg shadow-md ",children:[C.jsx("div",{className:"p-2",children:C.jsx(Tn,{to:`/product/${t}`,children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743401208/cld-sample-5.jpg",className:"h-52 rounded-2xl"})})}),C.jsxs("div",{className:"flex flex-col items-center space-y-2 pt-3",children:[C.jsx("p",{className:"text-lg text-gray-500",children:t}),C.jsxs("p",{className:"text-amber-500",children:[n,"★★★★☆"]}),C.jsxs("p",{className:"text-lg",children:[s,C.jsx("span",{className:"relative left-1",children:"₹"})]}),C.jsx("button",{className:"font-medium cursor-pointer",onClick:()=>{p(_)},children:m?C.jsx("span",{children:C.jsx(Tn,{to:"/wishlist",children:"Visit wishlist"})}):C.jsx("span",{className:"text-blue-500 hover:text-blue-600",children:"Add to wishlist"})})]})]})},Qw=({searchTerm:e})=>{const t=e?Ef.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())):Ef;return C.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 justify-items-center gap-10 mt-10 p-4",children:t.length>0?t.map(n=>C.jsx("li",{children:C.jsx(BM,{...n})},n.id)):C.jsx("p",{className:"text-center text-gray-600 col-span-full",children:"No products found."})})},zM=()=>{const{cart:e,setCart:t}=z.useContext(Df),n=p=>{if(!p||!p.id||!p.price){console.error("Invalid product data:",p);return}const v=e.filter(b=>b!=null),_=v.find(b=>b.id===p.id);t(_?v.map(b=>b.id===p.id?{...b,quantity:b.quantity+1}:b):[...v,{...p,quantity:1}])},{wishlist:s,setWishlist:a}=z.useContext(Pf),l=s.filter(p=>p!=null&&p!=null),c=p=>{if(!p||!p.id||!p.name){console.error("Product not found in product-details :",p);return}l.find(_=>_.id===p.id)||a([...l,{...p,quantity:1}])},{name:d}=KC(),m=Ef.find(p=>p.name===decodeURIComponent(d));return m?m?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"container mx-auto  lg:w-7xl bg-gray-100 mt-30",children:[C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 justify-items-center p-4 ",children:[C.jsx("div",{className:"w-full flex justify-center",children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743401208/cld-sample-5.jpg",className:"max-w-full rounded-lg shadow-md"})}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("h1",{className:"text-3xl font-bold",children:m.name}),C.jsxs("h2",{className:"text-2xl text-gray-700",children:["Price: ₹",m.price]}),C.jsxs("p",{className:"text-yellow-500",children:["Rating: ",m.rating," ★★★★☆"]}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Description"}),C.jsx("p",{className:"text-gray-600",children:"This is a detailed description of the product. It provides information about the product's features, benefits, and usage."})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-lg font-semibold",children:"Weight"}),C.jsxs("div",{className:"flex space-x-4",children:[C.jsx("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded cursor-pointer",children:"200"}),C.jsx("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded cursor-pointer",children:"500"}),C.jsx("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded cursor-pointer",children:"1000"})]})]}),C.jsx("div",{children:C.jsx("button",{onClick:()=>{n(m),alert("Product added to cart!")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 cursor-pointer",children:"Add to cart"})}),C.jsx("div",{children:C.jsx("button",{onClick:()=>c(m),className:"w-full px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 cursor-pointer",children:l.find(p=>p.id===m.id)?C.jsx("span",{children:C.jsx(Tn,{to:"/wishlist",children:"Visit wishlist"})}):C.jsx("span",{children:"Add to wishlist"})})})]})]}),C.jsx("div",{className:"container flex flex-col items-end mx-auto p-3",children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743620252/payment_ku7mgu.png",className:"max-w-full lg:h-32"})})]}),C.jsxs("div",{className:"mt-20",children:[C.jsx("div",{className:"flex justify-center",children:C.jsx("p",{className:"text-lg font-semibold",children:"Related Products"})}),C.jsx("div",{className:"mt-10",children:C.jsx(Qw,{})})]})]}):C.jsx("h2",{className:" text-red-500 mt-20 text-3xl flex justify-center items-center h-96",children:"Product Not Found !"}):C.jsx("h2",{className:"text-red-500 mt-20 text-3xl flex justify-center items-center h-96",children:"Product Not Found!"})},FM=()=>C.jsx("div",{className:"pt-20",children:"hello"}),HM=()=>C.jsx("div",{className:"pt-20",children:"About"}),qM=()=>{const{cart:e,setCart:t}=z.useContext(Df),n=a=>{t(e.filter(l=>l&&l.id!==a))},s=()=>e.filter(a=>a!=null).reduce((a,l)=>a+l.price*l.quantity,0);return C.jsxs("div",{className:"pt-20",children:[C.jsxs("div",{className:"text-center bg-white py-10 shadow-md",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-700",children:"Your Cart"}),C.jsx("p",{className:"text-gray-500 mt-2 italic",children:'"Your cart is full of flavor and possibilities."'}),C.jsx("p",{className:"text-gray-600 mt-1",children:"Double-check your items before heading to checkout!"})]}),C.jsxs("div",{className:"container mx-auto p-4",children:[e.length===0?C.jsxs("div",{className:"text-center text-gray-500 mt-30",children:[C.jsx("p",{className:"text-2xl",children:"Your cart is empty"}),C.jsx("div",{className:"mt-10",children:C.jsx(Tn,{to:"/shop",className:"p-2 rounded-lg text-[#FFFF] bg-gray-600 hover:bg-gray-500",children:"Return to shop"})})]}):C.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.filter(a=>a!=null).map(a=>C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center border-b py-4",children:[C.jsx("div",{className:"flex justify-center",children:C.jsx("img",{src:a.image||"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743401208/cld-sample-5.jpg",alt:a.name||"Product",className:"h-44 rounded-2xl p-2"})}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h2",{className:"text-xl font-semibold",children:a.name}),C.jsxs("p",{className:"text-gray-600",children:["Price: ₹",a.price]}),C.jsxs("p",{className:"text-gray-600",children:[C.jsx("label",{htmlFor:`quantity-${a.id}`,children:"Quantity: "}),C.jsx("input",{id:`quantity-${a.id}`,type:"number",min:"1",max:"300",value:a.quantity,onChange:l=>t(e.map(c=>c.id===a.id?{...c,quantity:parseInt(l.target.value,10)||1}:c)),className:"border outline-none w-16 text-center"})]}),C.jsxs("p",{className:"text-gray-600",children:["Total: ₹",a.price*a.quantity]})]}),C.jsx("div",{className:"flex flex-col space-y-2",children:C.jsx("button",{onClick:()=>n(a.id),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Remove Item"})})]},a.id))}),e.length!==0&&C.jsx("div",{className:"flex justify-end mt-6",children:C.jsxs("div",{className:"space-y-2",children:[C.jsxs("h3",{className:"text-xl font-semibold",children:["Cart Total: ₹",s()]}),C.jsx("button",{className:"px-6 py-2 cursor-pointer bg-green-600 text-white rounded hover:bg-green-700",children:"Proceed to Checkout"})]})})]})]})},GM=()=>C.jsx("div",{className:"pt-20",children:"Orders"}),KM=()=>C.jsx("div",{className:"pt-20",children:"Contact"});function Xw(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Xw(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ya(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Xw(e))&&(s&&(s+=" "),s+=t);return s}function $M(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}$M(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var sc=e=>typeof e=="number"&&!isNaN(e),wa=e=>typeof e=="string",_s=e=>typeof e=="function",YM=e=>wa(e)||sc(e),rg=e=>wa(e)||_s(e)?e:null,QM=(e,t)=>e===!1||sc(e)&&e>0?e:t,ag=e=>z.isValidElement(e)||wa(e)||_s(e)||sc(e);function XM(e,t,n=300){let{scrollHeight:s,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}function WM({enter:e,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:m,nodeRef:p,isIn:v,playToast:_}){let b=n?`${e}--${c}`:e,x=n?`${t}--${c}`:t,V=z.useRef(0);return z.useLayoutEffect(()=>{let L=p.current,O=b.split(" "),B=H=>{H.target===p.current&&(_(),L.removeEventListener("animationend",B),L.removeEventListener("animationcancel",B),V.current===0&&H.type!=="animationcancel"&&L.classList.remove(...O))};L.classList.add(...O),L.addEventListener("animationend",B),L.addEventListener("animationcancel",B)},[]),z.useEffect(()=>{let L=p.current,O=()=>{L.removeEventListener("animationend",O),s?XM(L,m,a):m()};v||(d?O():(V.current=1,L.className+=` ${x}`,L.addEventListener("animationend",O)))},[v]),te.createElement(te.Fragment,null,l)}}function ZE(e,t){return{content:Ww(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Ww(e,t,n=!1){return z.isValidElement(e)&&!wa(e.type)?z.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):_s(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function ZM({closeToast:e,theme:t,ariaLabel:n="close"}){return te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":n},te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function JM({delay:e,isRunning:t,closeToast:n,type:s="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:m,isIn:p,theme:v}){let _=a||c&&d===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(b.transform=`scaleX(${d})`);let x=ya("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":m}),V=_s(l)?l({rtl:m,type:s,defaultClassName:x}):ya(x,l),L={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{p&&n()}};return te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),te.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:V,style:b,...L}))}var tk=1,Zw=()=>`${tk++}`;function ek(e,t,n){let s=1,a=0,l=[],c=[],d=t,m=new Map,p=new Set,v=H=>(p.add(H),()=>p.delete(H)),_=()=>{c=Array.from(m.values()),p.forEach(H=>H())},b=({containerId:H,toastId:K,updateId:et})=>{let X=H?H!==e:e!==1,rt=m.has(K)&&et==null;return X||rt},x=(H,K)=>{m.forEach(et=>{var X;(K==null||K===et.props.toastId)&&((X=et.toggle)==null||X.call(et,H))})},V=H=>{var K,et;(et=(K=H.props)==null?void 0:K.onClose)==null||et.call(K,H.removalReason),H.isActive=!1},L=H=>{if(H==null)m.forEach(V);else{let K=m.get(H);K&&V(K)}_()},O=()=>{a-=l.length,l=[]},B=H=>{var K,et;let{toastId:X,updateId:rt}=H.props,P=rt==null;H.staleId&&m.delete(H.staleId),H.isActive=!0,m.set(X,H),_(),n(ZE(H,P?"added":"updated")),P&&((et=(K=H.props).onOpen)==null||et.call(K))};return{id:e,props:d,observe:v,toggle:x,removeToast:L,toasts:m,clearQueue:O,buildToast:(H,K)=>{if(b(K))return;let{toastId:et,updateId:X,data:rt,staleId:P,delay:w}=K,R=X==null;R&&a++;let D={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(K).filter(([F,N])=>N!=null)),toastId:et,updateId:X,data:rt,isIn:!1,className:rg(K.className||d.toastClassName),progressClassName:rg(K.progressClassName||d.progressClassName),autoClose:K.isLoading?!1:QM(K.autoClose,d.autoClose),closeToast(F){m.get(et).removalReason=F,L(et)},deleteToast(){let F=m.get(et);if(F!=null){if(n(ZE(F,"removed")),m.delete(et),a--,a<0&&(a=0),l.length>0){B(l.shift());return}_()}}};D.closeButton=d.closeButton,K.closeButton===!1||ag(K.closeButton)?D.closeButton=K.closeButton:K.closeButton===!0&&(D.closeButton=ag(d.closeButton)?d.closeButton:!0);let M={content:H,props:D,staleId:P};d.limit&&d.limit>0&&a>d.limit&&R?l.push(M):sc(w)?setTimeout(()=>{B(M)},w):B(M)},setProps(H){d=H},setToggle:(H,K)=>{let et=m.get(H);et&&(et.toggle=K)},isToastActive:H=>{var K;return(K=m.get(H))==null?void 0:K.isActive},getSnapshot:()=>c}}var dn=new Map,Bu=[],og=new Set,nk=e=>og.forEach(t=>t(e)),Jw=()=>dn.size>0;function ik(){Bu.forEach(e=>e1(e.content,e.options)),Bu=[]}var sk=(e,{containerId:t})=>{var n;return(n=dn.get(t||1))==null?void 0:n.toasts.get(e)};function t1(e,t){var n;if(t)return!!((n=dn.get(t))!=null&&n.isToastActive(e));let s=!1;return dn.forEach(a=>{a.isToastActive(e)&&(s=!0)}),s}function rk(e){if(!Jw()){Bu=Bu.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||YM(e))dn.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=dn.get(e.containerId);t?t.removeToast(e.id):dn.forEach(n=>{n.removeToast(e.id)})}}var ak=(e={})=>{dn.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function e1(e,t){ag(e)&&(Jw()||Bu.push({content:e,options:t}),dn.forEach(n=>{n.buildToast(e,t)}))}function ok(e){var t;(t=dn.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function n1(e,t){dn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function lk(e){let t=e.containerId||1;return{subscribe(n){let s=ek(t,e,nk);dn.set(t,s);let a=s.observe(n);return ik(),()=>{a(),dn.delete(t)}},setProps(n){var s;(s=dn.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=dn.get(t))==null?void 0:n.getSnapshot()}}}function uk(e){return og.add(e),()=>{og.delete(e)}}function ck(e){return e&&(wa(e.toastId)||sc(e.toastId))?e.toastId:Zw()}function rc(e,t){return e1(e,t),t.toastId}function Yf(e,t){return{...t,type:t&&t.type||e,toastId:ck(t)}}function Qf(e){return(t,n)=>rc(t,Yf(e,n))}function Pt(e,t){return rc(e,Yf("default",t))}Pt.loading=(e,t)=>rc(e,Yf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function hk(e,{pending:t,error:n,success:s},a){let l;t&&(l=wa(t)?Pt.loading(t,a):Pt.loading(t.render,{...a,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,v,_)=>{if(v==null){Pt.dismiss(l);return}let b={type:p,...c,...a,data:_},x=wa(v)?{render:v}:v;return l?Pt.update(l,{...b,...x}):Pt(x.render,{...b,...x}),_},m=_s(e)?e():e;return m.then(p=>d("success",s,p)).catch(p=>d("error",n,p)),m}Pt.promise=hk;Pt.success=Qf("success");Pt.info=Qf("info");Pt.error=Qf("error");Pt.warning=Qf("warning");Pt.warn=Pt.warning;Pt.dark=(e,t)=>rc(e,Yf("default",{theme:"dark",...t}));function fk(e){rk(e)}Pt.dismiss=fk;Pt.clearWaitingQueue=ak;Pt.isActive=t1;Pt.update=(e,t={})=>{let n=sk(e,t);if(n){let{props:s,content:a}=n,l={delay:100,...s,...t,toastId:t.toastId||e,updateId:Zw()};l.toastId!==e&&(l.staleId=e);let c=l.render||a;delete l.render,rc(c,l)}};Pt.done=e=>{Pt.update(e,{progress:1})};Pt.onChange=uk;Pt.play=e=>n1(!0,e);Pt.pause=e=>n1(!1,e);function dk(e){var t;let{subscribe:n,getSnapshot:s,setProps:a}=z.useRef(lk(e)).current;a(e);let l=(t=z.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function c(d){if(!l)return[];let m=new Map;return e.newestOnTop&&l.reverse(),l.forEach(p=>{let{position:v}=p.props;m.has(v)||m.set(v,[]),m.get(v).push(p)}),Array.from(m,p=>d(p[0],p[1]))}return{getToastToRender:c,isToastActive:t1,count:l==null?void 0:l.length}}function mk(e){let[t,n]=z.useState(!1),[s,a]=z.useState(!1),l=z.useRef(null),c=z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:p,onClick:v,closeOnClick:_}=e;ok({id:e.toastId,containerId:e.containerId,fn:n}),z.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{x()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||B(),window.addEventListener("focus",O),window.addEventListener("blur",B)}function x(){window.removeEventListener("focus",O),window.removeEventListener("blur",B)}function V(P){if(e.draggable===!0||e.draggable===P.pointerType){H();let w=l.current;c.canCloseOnClick=!0,c.canDrag=!0,w.style.transition="none",e.draggableDirection==="x"?(c.start=P.clientX,c.removalDistance=w.offsetWidth*(e.draggablePercent/100)):(c.start=P.clientY,c.removalDistance=w.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function L(P){let{top:w,bottom:R,left:D,right:M}=l.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&e.pauseOnHover&&P.clientX>=D&&P.clientX<=M&&P.clientY>=w&&P.clientY<=R?B():O()}function O(){n(!0)}function B(){n(!1)}function H(){c.didMove=!1,document.addEventListener("pointermove",et),document.addEventListener("pointerup",X)}function K(){document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",X)}function et(P){let w=l.current;if(c.canDrag&&w){c.didMove=!0,t&&B(),e.draggableDirection==="x"?c.delta=P.clientX-c.start:c.delta=P.clientY-c.start,c.start!==P.clientX&&(c.canCloseOnClick=!1);let R=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;w.style.transform=`translate3d(${R},0)`,w.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function X(){K();let P=l.current;if(c.canDrag&&c.didMove&&P){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),e.closeToast(!0),e.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let rt={onPointerDown:V,onPointerUp:L};return d&&m&&(rt.onMouseEnter=B,e.stacked||(rt.onMouseLeave=O)),_&&(rt.onClick=P=>{v&&v(P),c.canCloseOnClick&&p(!0)}),{playToast:O,pauseToast:B,isRunning:t,preventExitTransition:s,toastRef:l,eventHandlers:rt}}var pk=typeof window<"u"?z.useLayoutEffect:z.useEffect,Xf=({theme:e,type:t,isLoading:n,...s})=>te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function gk(e){return te.createElement(Xf,{...e},te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yk(e){return te.createElement(Xf,{...e},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function vk(e){return te.createElement(Xf,{...e},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function _k(e){return te.createElement(Xf,{...e},te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Tk(){return te.createElement("div",{className:"Toastify__spinner"})}var lg={info:yk,warning:gk,success:vk,error:_k,spinner:Tk},Ek=e=>e in lg;function bk({theme:e,type:t,isLoading:n,icon:s}){let a=null,l={theme:e,type:t};return s===!1||(_s(s)?a=s({...l,isLoading:n}):z.isValidElement(s)?a=z.cloneElement(s,l):n?a=lg.spinner():Ek(t)&&(a=lg[t](l))),a}var Sk=e=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:a,playToast:l}=mk(e),{closeButton:c,children:d,autoClose:m,onClick:p,type:v,hideProgressBar:_,closeToast:b,transition:x,position:V,className:L,style:O,progressClassName:B,updateId:H,role:K,progress:et,rtl:X,toastId:rt,deleteToast:P,isIn:w,isLoading:R,closeOnClick:D,theme:M,ariaLabel:F}=e,N=ya("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":D}),ne=_s(L)?L({rtl:X,position:V,type:v,defaultClassName:N}):ya(N,L),ie=bk(e),ot=!!et||!m,ut={closeToast:b,type:v,theme:M},lt=null;return c===!1||(_s(c)?lt=c(ut):z.isValidElement(c)?lt=z.cloneElement(c,ut):lt=ZM(ut)),te.createElement(x,{isIn:w,done:P,position:V,preventExitTransition:n,nodeRef:s,playToast:l},te.createElement("div",{id:rt,tabIndex:0,onClick:p,"data-in":w,className:ne,...a,style:O,ref:s,...w&&{role:K,"aria-label":F}},ie!=null&&te.createElement("div",{className:ya("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ie),Ww(d,e,!t),lt,!e.customProgressBar&&te.createElement(JM,{...H&&!ot?{key:`p-${H}`}:{},rtl:X,theme:M,delay:m,isRunning:t,isIn:w,closeToast:b,hide:_,type:v,className:B,controlledProgress:ot,progress:et||0})))},Ak=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),wk=WM(Ak("bounce",!0)),Rk={position:"top-right",transition:wk,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function xk(e){let t={...Rk,...e},n=e.stacked,[s,a]=z.useState(!0),l=z.useRef(null),{getToastToRender:c,isToastActive:d,count:m}=dk(t),{className:p,style:v,rtl:_,containerId:b,hotKeys:x}=t;function V(O){let B=ya("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":_});return _s(p)?p({position:O,rtl:_,defaultClassName:B}):ya(B,rg(p))}function L(){n&&(a(!0),Pt.play())}return pk(()=>{var O;if(n){let B=l.current.querySelectorAll('[data-in="true"]'),H=12,K=(O=t.position)==null?void 0:O.includes("top"),et=0,X=0;Array.from(B).reverse().forEach((rt,P)=>{let w=rt;w.classList.add("Toastify__toast--stacked"),P>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=K?"top":"bot");let R=et*(s?.2:1)+(s?0:H*P);w.style.setProperty("--y",`${K?R:R*-1}px`),w.style.setProperty("--g",`${H}`),w.style.setProperty("--s",`${1-(s?X:0)}`),et+=w.offsetHeight,X+=.025})}},[s,m,n]),z.useEffect(()=>{function O(B){var H;let K=l.current;x(B)&&((H=K.querySelector('[tabIndex="0"]'))==null||H.focus(),a(!1),Pt.pause()),B.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(a(!0),Pt.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[x]),te.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{n&&(a(!1),Pt.pause())},onMouseLeave:L,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((O,B)=>{let H=B.length?{...v}:{...v,pointerEvents:"none"};return te.createElement("div",{tabIndex:-1,className:V(O),"data-stacked":n,style:H,key:`c-${O}`},B.map(({content:K,props:et})=>te.createElement(Sk,{...et,stacked:n,collapseAll:L,isIn:d(et.toastId,et.containerId),key:`t-${et.key}`},K)))}))}const Ck=()=>{function e(){const t=new ls;SP(Ho,t).then(async n=>{const s=n.user;n.user&&await Yw(Ey(xy,"Users",s.uid),{email:s.email,userName:s.displayName})}).catch(n=>console.log("Error from SigninWithGoogle.jsx :",n.message))}return C.jsx("div",{className:"mt-3 flex justify-center",children:C.jsxs("button",{onClick:e,className:"cursor-pointer hover:shadow-md flex items-center justify-center w-72 gap-3 border p-2 rounded-sm",children:[C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743403171/google_zgmnav.png",className:"h-5 w-5",alt:"Google Logo"}),C.jsx("span",{children:"Sign in with Google"})]})})},Ik=()=>{var d,m;const[e,t]=z.useState({email:"",password:""}),n=If(),a=((m=(d=xr().state)==null?void 0:d.from)==null?void 0:m.pathname)||"/",l=p=>{t({...e,[p.target.name]:p.target.value.trim()})},c=async p=>{if(p.preventDefault(),!e.email||!e.password){Pt.warning("Enter valid details!",{position:"bottom-left"});return}try{await tP(Ho,e.email,e.password),Pt.success("Logged in successfully!",{position:"bottom-left"}),n(a,{replace:!0})}catch(v){console.log("Error from Login.jsx :",v.message),Pt.error("Invalid login credentials!",{position:"bottom-left"})}t({email:"",password:""})};return C.jsx("div",{className:"w-full mt-20 flex justify-center items-center py-12 px-4 bg-gray-100",children:C.jsxs("div",{className:"w-96 max-w-3xl border border-gray-300 shadow-lg rounded-xl p-10 bg-white",children:[C.jsxs("div",{className:" mb-6",children:[C.jsx("h2",{className:"text-3xl font-bold",children:"Sign in"}),C.jsxs("p",{className:"text-gray-600",children:["or"," ",C.jsx(Tn,{to:"/register",className:"text-blue-600 hover:underline font-medium",children:"create account"})]})]}),C.jsxs("form",{onSubmit:c,className:"flex flex-col items-center gap-4",children:[C.jsxs("div",{className:"flex flex-col space-y-1",children:[C.jsxs("label",{htmlFor:"email",children:["Email ",C.jsx("span",{className:"text-red-600",children:"*"})]}),C.jsx("input",{id:"email",type:"email",name:"email",value:e.email,placeholder:"Email",onChange:l,className:"border outline-none w-72 p-2 placeholder:text-md"})]}),C.jsxs("div",{className:"flex flex-col space-y-1",children:[C.jsxs("label",{htmlFor:"password",children:["Password ",C.jsx("span",{className:"text-red-600",children:"*"})]}),C.jsx("input",{id:"password",type:"password",name:"password",value:e.password,placeholder:"Password",onChange:l,className:"border outline-none w-72 p-2 placeholder:text-md"})]}),C.jsx("button",{type:"submit",className:"w-72 py-2 text-lg bg-blue-600 text-white rounded-md mt-4 hover:bg-blue-700",children:"Sign in"})]}),C.jsx("div",{className:"flex justify-center items-center mt-3",children:C.jsx("p",{children:"or"})}),C.jsx(Ck,{})]})})},Dk=()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,[t,n]=z.useState({username:"",email:"",password:"",confirmPassword:""}),s=l=>{n({...t,[l.target.name]:l.target.value.trim()})},a=async l=>{if(l.preventDefault(),!t.username||!t.email||!t.password){Pt.warning("Enter valid details!",{position:"bottom-left"});return}if(!e.test(t.email)){Pt.warning("Enter valid mail!",{position:"bottom-left"});return}if(t.password!==t.confirmPassword){Pt.warning("Passwords do not match!",{position:"bottom-left"});return}if(t.username.length<5){Pt.warning("Username must be at least 5 characters!",{position:"bottom-left"});return}if(t.password.length<5){Pt.warning("Password must be at least 5 characters!",{position:"bottom-left"});return}try{await J2(Ho,t.email,t.password);const c=Ho.currentUser;c&&(await Yw(Ey(xy,"Users",c.uid),{email:c.email,userName:t.username}),Pt.success("User Registered Successfully!",{position:"bottom-left"}))}catch(c){console.log("Error from register.jsx :",c.message),Pt.error("Registration failed!",{position:"bottom-left"})}n({username:"",email:"",password:"",confirmPassword:""})};return C.jsx("div",{className:"w-full mt-20 flex items-center justify-center bg-gray-100 py-12 px-4",children:C.jsxs("div",{className:"w-96 max-w-3xl border border-gray-300 shadow-lg rounded-xl p-10 bg-white",children:[C.jsxs("div",{className:" mb-6",children:[C.jsx("h2",{className:"text-3xl font-bold",children:"Register"}),C.jsxs("p",{className:"text-gray-600",children:["or"," ",C.jsx(Tn,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"already have an account?"})]})]}),C.jsxs("form",{onSubmit:a,className:"flex flex-col items-center gap-4",children:[C.jsxs("div",{className:"flex flex-col space-y-1",children:[C.jsxs("label",{htmlFor:"username",children:["Username ",C.jsx("span",{className:"text-red-600",children:"*"})]}),C.jsx("input",{id:"username",type:"text",name:"username",value:t.username,onChange:s,placeholder:"Username",className:"border outline-none w-72 p-2 placeholder:text-md"})]}),C.jsxs("div",{className:"flex flex-col space-y-1",children:[C.jsxs("label",{htmlFor:"email",children:["Email ",C.jsx("span",{className:"text-red-600",children:"*"})]}),C.jsx("input",{id:"email",type:"email",name:"email",value:t.email,onChange:s,placeholder:"Email",className:"border outline-none w-72 p-2 placeholder:text-md"})]}),C.jsxs("div",{className:"flex flex-col space-y-1",children:[C.jsxs("label",{htmlFor:"password",children:["Password ",C.jsx("span",{className:"text-red-600",children:"*"})]}),C.jsx("input",{id:"password",type:"password",name:"password",value:t.password,onChange:s,placeholder:"Password",className:"border outline-none w-72 p-2 placeholder:text-md"})]}),C.jsxs("div",{className:"flex flex-col space-y-1",children:[C.jsxs("label",{htmlFor:"confirmPassword",children:["Confirm Password ",C.jsx("span",{className:"text-red-600",children:"*"})]}),C.jsx("input",{id:"confirmPassword",type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:s,placeholder:"Confirm Password",className:"border outline-none w-72 p-2 placeholder:text-md"}),t.password!==t.confirmPassword&&C.jsx("p",{className:"text-sm text-red-700",children:"Passwords not matching"})]}),C.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white text-lg px-6 py-2 rounded-3xl mt-4",children:"Register"})]})]})})},Iy=z.createContext({});function Dy(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}const Py=typeof window<"u",i1=Py?z.useLayoutEffect:z.useEffect,Wf=z.createContext(null),Ny=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Pk extends z.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=s instanceof HTMLElement&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Nk({children:e,isPresent:t,anchorX:n}){const s=z.useId(),a=z.useRef(null),l=z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=z.useContext(Ny);return z.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:v,right:_}=l.current;if(t||!a.current||!d||!m)return;const b=n==="left"?`left: ${v}`:`right: ${_}`;a.current.dataset.motionPopId=s;const x=document.createElement("style");return c&&(x.nonce=c),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),C.jsx(Pk,{isPresent:t,childRef:a,sizeRef:l,children:z.cloneElement(e,{ref:a})})}const Ok=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d})=>{const m=Dy(Vk),p=z.useId(),v=z.useCallback(b=>{m.set(b,!0);for(const x of m.values())if(!x)return;s&&s()},[m,s]),_=z.useMemo(()=>({id:p,initial:t,isPresent:n,custom:a,onExitComplete:v,register:b=>(m.set(b,!1),()=>m.delete(b))}),l?[Math.random(),v]:[n,v]);return z.useMemo(()=>{m.forEach((b,x)=>m.set(x,!1))},[n]),z.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(e=C.jsx(Nk,{isPresent:n,anchorX:d,children:e})),C.jsx(Wf.Provider,{value:_,children:e})};function Vk(){return new Map}function s1(e=!0){const t=z.useContext(Wf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=z.useId();z.useEffect(()=>{if(e)return a(l)},[e]);const c=z.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Lh=e=>e.key||"";function JE(e){const t=[];return z.Children.forEach(e,n=>{z.isValidElement(n)&&t.push(n)}),t}const Mk=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left"})=>{const[m,p]=s1(c),v=z.useMemo(()=>JE(e),[e]),_=c&&!m?[]:v.map(Lh),b=z.useRef(!0),x=z.useRef(v),V=Dy(()=>new Map),[L,O]=z.useState(v),[B,H]=z.useState(v);i1(()=>{b.current=!1,x.current=v;for(let X=0;X<B.length;X++){const rt=Lh(B[X]);_.includes(rt)?V.delete(rt):V.get(rt)!==!0&&V.set(rt,!1)}},[B,_.length,_.join("-")]);const K=[];if(v!==L){let X=[...v];for(let rt=0;rt<B.length;rt++){const P=B[rt],w=Lh(P);_.includes(w)||(X.splice(rt,0,P),K.push(P))}return l==="wait"&&K.length&&(X=K),H(JE(X)),O(v),null}const{forceRender:et}=z.useContext(Iy);return C.jsx(C.Fragment,{children:B.map(X=>{const rt=Lh(X),P=c&&!m?!1:v===B||_.includes(rt),w=()=>{if(V.has(rt))V.set(rt,!0);else return;let R=!0;V.forEach(D=>{D||(R=!1)}),R&&(et==null||et(),H(x.current),c&&(p==null||p()),s&&s())};return C.jsx(Ok,{isPresent:P,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,onExitComplete:P?void 0:w,anchorX:d,children:X},rt)})})};function Oy(e,t){e.indexOf(t)===-1&&e.push(t)}function Vy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const In=e=>e;let r1=In;const kk={useManualTiming:!1};function My(e){let t;return()=>(t===void 0&&(t=e()),t)}const qo=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ky{constructor(){this.subscriptions=[]}add(t){return Oy(this.subscriptions,t),()=>Vy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ds=e=>e*1e3,ms=e=>e/1e3;function a1(e,t){return t?e*(1e3/t):0}const Lk=My(()=>window.ScrollTimeline!==void 0);class Uk{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(a=>{if(Lk()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jk extends Uk{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Ly(e,t){return e?e[t]||e.default||e:void 0}const ug=2e4;function o1(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ug;)t+=n,s=e.next(t);return t>=ug?1/0:t}function Uy(e){return typeof e=="function"}function tb(e,t){e.timeline=t,e.onfinish=null}const jy=e=>Array.isArray(e)&&typeof e[0]=="number",Bk={linearEasing:void 0};function zk(e,t){const n=My(e);return()=>{var s;return(s=Bk[t])!==null&&s!==void 0?s:n()}}const bf=zk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),l1=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=e(qo(0,a-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function u1(e){return!!(typeof e=="function"&&bf()||!e||typeof e=="string"&&(e in cg||bf())||jy(e)||Array.isArray(e)&&e.every(u1))}const gu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,cg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function c1(e,t){if(e)return typeof e=="function"&&bf()?l1(e,t):jy(e)?gu(e):Array.isArray(e)?e.map(n=>c1(n,t)||cg.easeOut):cg[e]}const Uh=["read","resolveKeyframes","update","preRender","render","postRender"],eb={value:null};function Fk(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(v.schedule(_),e()),m++,_(d)}const v={schedule:(_,b=!1,x=!1)=>{const L=x&&a?n:s;return b&&c.add(_),L.has(_)||L.add(_),_},cancel:_=>{s.delete(_),c.delete(_)},process:_=>{if(d=_,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),t&&eb.value&&eb.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,v.process(_))}};return v}const Hk=40;function h1(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Uh.reduce((B,H)=>(B[H]=Fk(l,t?H:void 0),B),{}),{read:d,resolveKeyframes:m,update:p,preRender:v,render:_,postRender:b}=c,x=()=>{const B=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,Hk),1),a.timestamp=B,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),_.process(a),b.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(x))},V=()=>{n=!0,s=!0,a.isProcessing||e(x)};return{schedule:Uh.reduce((B,H)=>{const K=c[H];return B[H]=(et,X=!1,rt=!1)=>(n||V(),K.schedule(et,X,rt)),B},{}),cancel:B=>{for(let H=0;H<Uh.length;H++)c[Uh[H]].cancel(B)},state:a,steps:c}}const{schedule:ee,cancel:Ar,state:$e,steps:_p}=h1(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0),{schedule:By}=h1(queueMicrotask,!1);let Xh;function qk(){Xh=void 0}const Di={now:()=>(Xh===void 0&&Di.set($e.isProcessing||kk.useManualTiming?$e.timestamp:performance.now()),Xh),set:e=>{Xh=e,queueMicrotask(qk)}},ri={x:!1,y:!1};function f1(){return ri.x||ri.y}function Gk(e){return e==="x"||e==="y"?ri[e]?null:(ri[e]=!0,()=>{ri[e]=!1}):ri.x||ri.y?null:(ri.x=ri.y=!0,()=>{ri.x=ri.y=!1})}function Kk(e,t,n){var s;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const l=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}function d1(e,t){const n=Kk(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function nb(e){return!(e.pointerType==="touch"||f1())}function $k(e,t,n={}){const[s,a,l]=d1(e,n),c=d=>{if(!nb(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const v=_=>{nb(_)&&(p(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const m1=(e,t)=>t?e===t?!0:m1(e,t.parentElement):!1,zy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qk(e){return Yk.has(e.tagName)||e.tabIndex!==-1}const yu=new WeakSet;function ib(e){return t=>{t.key==="Enter"&&e(t)}}function Tp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Xk=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ib(()=>{if(yu.has(n))return;Tp(n,"down");const a=ib(()=>{Tp(n,"up")}),l=()=>Tp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function sb(e){return zy(e)&&!f1()}function Wk(e,t,n={}){const[s,a,l]=d1(e,n),c=d=>{const m=d.currentTarget;if(!sb(d)||yu.has(m))return;yu.add(m);const p=t(m,d),v=(x,V)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),!(!sb(x)||!yu.has(m))&&(yu.delete(m),typeof p=="function"&&p(x,{success:V}))},_=x=>{v(x,m===window||m===document||n.useGlobalTarget||m1(m,x.target))},b=x=>{v(x,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d instanceof HTMLElement&&(d.addEventListener("focus",p=>Xk(p,a)),!Qk(d)&&d.tabIndex===null&&(d.tabIndex=0))}),l}const rb=30,Zk=e=>!isNaN(parseFloat(e));class Jk{constructor(t,n={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=Di.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Di.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Zk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ky);const s=this.events[t].add(n);return t==="change"?()=>{s(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>rb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rb);return a1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zu(e,t){return new Jk(e,t)}const p1=z.createContext({strict:!1}),ab={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const e in ab)Go[e]={isEnabled:t=>ab[e].some(n=>!!t[n])};function tL(e){for(const t in e)Go[t]={...Go[t],...e[t]}}const eL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||eL.has(e)}let g1=e=>!Sf(e);function nL(e){e&&(g1=t=>t.startsWith("on")?!Sf(t):e(t))}try{nL(require("@emotion/is-prop-valid").default)}catch{}function iL(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(g1(a)||n===!0&&Sf(a)||!t&&!Sf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function sL(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Zf=z.createContext({});function Jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fu(e){return typeof e=="string"||Array.isArray(e)}const Fy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hy=["initial",...Fy];function td(e){return Jf(e.animate)||Hy.some(t=>Fu(e[t]))}function y1(e){return!!(td(e)||e.variants)}function rL(e,t){if(td(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Fu(n)?n:void 0,animate:Fu(s)?s:void 0}}return e.inherit!==!1?t:{}}function aL(e){const{initial:t,animate:n}=rL(e,z.useContext(Zf));return z.useMemo(()=>({initial:t,animate:n}),[ob(t),ob(n)])}function ob(e){return Array.isArray(e)?e.join(" "):e}const oL=Symbol.for("motionComponentSymbol");function Ro(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lL(e,t,n){return z.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Ro(n)&&(n.current=s))},[t])}const qy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uL="framerAppearId",v1="data-"+qy(uL),_1=z.createContext({});function cL(e,t,n,s,a){var l,c;const{visualElement:d}=z.useContext(Zf),m=z.useContext(p1),p=z.useContext(Wf),v=z.useContext(Ny).reducedMotion,_=z.useRef(null);s=s||m.renderer,!_.current&&s&&(_.current=s(e,{visualState:t,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v}));const b=_.current,x=z.useContext(_1);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&hL(_.current,n,a,x);const V=z.useRef(!1);z.useInsertionEffect(()=>{b&&V.current&&b.update(n,p)});const L=n[v1],O=z.useRef(!!L&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,L))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,L)));return i1(()=>{b&&(V.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),By.render(b.render),O.current&&b.animationState&&b.animationState.animateChanges())}),z.useEffect(()=>{b&&(!O.current&&b.animationState&&b.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)===null||B===void 0||B.call(window,L)}),O.current=!1))}),b}function hL(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:T1(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ro(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:p})}function T1(e){if(e)return e.options.allowProjection!==!1?e.projection:T1(e.parent)}function fL({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:a}){var l,c;e&&tL(e);function d(p,v){let _;const b={...z.useContext(Ny),...p,layoutId:dL(p)},{isStatic:x}=b,V=aL(p),L=s(p,x);if(!x&&Py){mL();const O=pL(b);_=O.MeasureLayout,V.visualElement=cL(a,L,b,t,O.ProjectionNode)}return C.jsxs(Zf.Provider,{value:V,children:[_&&V.visualElement?C.jsx(_,{visualElement:V.visualElement,...b}):null,n(a,p,lL(L,V.visualElement,v),L,x,V.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(c=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&c!==void 0?c:""})`}`;const m=z.forwardRef(d);return m[oL]=a,m}function dL({layoutId:e}){const t=z.useContext(Iy).id;return t&&e!==void 0?t+"-"+e:e}function mL(e,t){z.useContext(p1).strict}function pL(e){const{drag:t,layout:n}=Go;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const E1=e=>t=>typeof t=="string"&&t.startsWith(e),Gy=E1("--"),gL=E1("var(--"),Ky=e=>gL(e)?yL.test(e.split("/*")[0].trim()):!1,yL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hu={};function vL(e){for(const t in e)Hu[t]=e[t],Gy(t)&&(Hu[t].isCSSVariable=!0)}const el=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Da=new Set(el);function b1(e,{layout:t,layoutId:n}){return Da.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hu[e]||e==="opacity")}const rn=e=>!!(e&&e.getVelocity),S1=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ts=(e,t,n)=>n>t?t:n<e?e:n,nl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qu={...nl,transform:e=>Ts(0,1,e)},jh={...nl,default:1},ac=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ar=ac("deg"),Pi=ac("%"),Tt=ac("px"),_L=ac("vh"),TL=ac("vw"),lb={...Pi,parse:e=>Pi.parse(e)/100,transform:e=>Pi.transform(e*100)},EL={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt},bL={rotate:ar,rotateX:ar,rotateY:ar,rotateZ:ar,scale:jh,scaleX:jh,scaleY:jh,scaleZ:jh,skew:ar,skewX:ar,skewY:ar,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:qu,originX:lb,originY:lb,originZ:Tt},ub={...nl,transform:Math.round},$y={...EL,...bL,zIndex:ub,size:Tt,fillOpacity:qu,strokeOpacity:qu,numOctaves:ub},SL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AL=el.length;function wL(e,t,n){let s="",a=!0;for(let l=0;l<AL;l++){const c=el[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=S1(d,$y[c]);if(!m){a=!1;const v=SL[c]||c;s+=`${v}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function Yy(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(Da.has(m)){c=!0;continue}else if(Gy(m)){a[m]=p;continue}else{const v=S1(p,$y[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(t.transform||(c||n?s.transform=wL(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${p} ${v}`}}const Qy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A1(e,t,n){for(const s in t)!rn(t[s])&&!b1(s,n)&&(e[s]=t[s])}function RL({transformTemplate:e},t){return z.useMemo(()=>{const n=Qy();return Yy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xL(e,t){const n=e.style||{},s={};return A1(s,n,e),Object.assign(s,RL(e,t)),s}function CL(e,t){const n={},s=xL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const IL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xy(e){return typeof e!="string"||e.includes("-")?!1:!!(IL.indexOf(e)>-1||/[A-Z]/u.test(e))}const DL={offset:"stroke-dashoffset",array:"stroke-dasharray"},PL={offset:"strokeDashoffset",array:"strokeDasharray"};function NL(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?DL:PL;e[l.offset]=Tt.transform(-s);const c=Tt.transform(t),d=Tt.transform(n);e[l.array]=`${c} ${d}`}function cb(e,t,n){return typeof e=="string"?e:Tt.transform(t+n*e)}function OL(e,t,n){const s=cb(t,e.x,e.width),a=cb(n,e.y,e.height);return`${s} ${a}`}function Wy(e,{attrX:t,attrY:n,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:m=0,...p},v,_){if(Yy(e,p,_),v){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:x,dimensions:V}=e;b.transform&&(V&&(x.transform=b.transform),delete b.transform),V&&(a!==void 0||l!==void 0||x.transform)&&(x.transformOrigin=OL(V,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),c!==void 0&&NL(b,c,d,m,!1)}const w1=()=>({...Qy(),attrs:{}}),Zy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function VL(e,t,n,s){const a=z.useMemo(()=>{const l=w1();return Wy(l,t,Zy(s),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};A1(l,e.style,e),a.style={...l,...a.style}}return a}function ML(e=!1){return(n,s,a,{latestValues:l},c)=>{const m=(Xy(n)?VL:CL)(s,l,c,n),p=iL(s,typeof n=="string",e),v=n!==z.Fragment?{...p,...m,ref:a}:{},{children:_}=s,b=z.useMemo(()=>rn(_)?_.get():_,[_]);return z.createElement(n,{...v,children:b})}}function hb(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Jy(e,t,n,s){if(typeof t=="function"){const[a,l]=hb(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=hb(s);t=t(n!==void 0?n:e.custom,a,l)}return t}const hg=e=>Array.isArray(e),kL=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),LL=e=>hg(e)?e[e.length-1]||0:e;function Wh(e){const t=rn(e)?e.get():e;return kL(t)?t.toValue():t}function UL({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,a,l){const c={latestValues:jL(s,a,l,e),renderState:t()};return n&&(c.onMount=d=>n({props:s,current:d,...c}),c.onUpdate=d=>n(d)),c}const R1=e=>(t,n)=>{const s=z.useContext(Zf),a=z.useContext(Wf),l=()=>UL(e,t,s,a);return n?l():Dy(l)};function jL(e,t,n,s){const a={},l=s(e,{});for(const b in l)a[b]=Wh(l[b]);let{initial:c,animate:d}=e;const m=td(e),p=y1(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const _=v?d:c;if(_&&typeof _!="boolean"&&!Jf(_)){const b=Array.isArray(_)?_:[_];for(let x=0;x<b.length;x++){const V=Jy(e,b[x]);if(V){const{transitionEnd:L,transition:O,...B}=V;for(const H in B){let K=B[H];if(Array.isArray(K)){const et=v?K.length-1:0;K=K[et]}K!==null&&(a[H]=K)}for(const H in L)a[H]=L[H]}}}return a}function tv(e,t,n){var s;const{style:a}=e,l={};for(const c in a)(rn(a[c])||t.style&&rn(t.style[c])||b1(c,e)||((s=n==null?void 0:n.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[c]=a[c]);return l}const BL={useVisualState:R1({scrapeMotionValuesFromProps:tv,createRenderState:Qy})};function x1(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function C1(e,{style:t,vars:n},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const l in n)e.style.setProperty(l,n[l])}const I1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function D1(e,t,n,s){C1(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(I1.has(a)?a:qy(a),t.attrs[a])}function P1(e,t,n){const s=tv(e,t,n);for(const a in e)if(rn(e[a])||rn(t[a])){const l=el.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const fb=["x","y","width","height","cx","cy","r"],zL={useVisualState:R1({scrapeMotionValuesFromProps:P1,createRenderState:w1,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:a})=>{if(!n)return;let l=!!e.drag;if(!l){for(const d in a)if(Da.has(d)){l=!0;break}}if(!l)return;let c=!t;if(t)for(let d=0;d<fb.length;d++){const m=fb[d];e[m]!==t[m]&&(c=!0)}c&&ee.read(()=>{x1(n,s),ee.render(()=>{Wy(s,a,Zy(n.tagName),e.transformTemplate),D1(n,s)})})}})};function FL(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Xy(s)?zL:BL,preloadedFeatures:e,useRender:ML(a),createVisualElement:t,Component:s};return fL(c)}}function Gu(e,t,n){const s=e.getProps();return Jy(s,t,n!==void 0?n:s.custom,e)}const N1=new Set(["width","height","top","left","right","bottom",...el]);function HL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zu(n))}function qL(e,t){const n=Gu(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=LL(l[c]);HL(e,c,d)}}function GL(e){return!!(rn(e)&&e.add)}function fg(e,t){const n=e.getValue("willChange");if(GL(n))return n.add(t)}function O1(e){return e.props[v1]}const V1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,KL=1e-7,$L=12;function YL(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=V1(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>KL&&++d<$L);return c}function oc(e,t,n,s){if(e===t&&n===s)return In;const a=l=>YL(l,0,1,e,n);return l=>l===0||l===1?l:V1(a(l),t,s)}const M1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,k1=e=>t=>1-e(1-t),L1=oc(.33,1.53,.69,.99),ev=k1(L1),U1=M1(ev),j1=e=>(e*=2)<1?.5*ev(e):.5*(2-Math.pow(2,-10*(e-1))),nv=e=>1-Math.sin(Math.acos(e)),B1=k1(nv),z1=M1(nv),F1=e=>/^0[^.\s]+$/u.test(e);function QL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||F1(e):!0}const Su=e=>Math.round(e*1e5)/1e5,iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XL(e){return e==null}const WL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sv=(e,t)=>n=>!!(typeof n=="string"&&WL.test(n)&&n.startsWith(e)||t&&!XL(n)&&Object.prototype.hasOwnProperty.call(n,t)),H1=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(iv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},ZL=e=>Ts(0,255,e),Ep={...nl,transform:e=>Math.round(ZL(e))},pa={test:sv("rgb","red"),parse:H1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Ep.transform(e)+", "+Ep.transform(t)+", "+Ep.transform(n)+", "+Su(qu.transform(s))+")"};function JL(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const dg={test:sv("#"),parse:JL,transform:pa.transform},xo={test:sv("hsl","hue"),parse:H1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Pi.transform(Su(t))+", "+Pi.transform(Su(n))+", "+Su(qu.transform(s))+")"},en={test:e=>pa.test(e)||dg.test(e)||xo.test(e),parse:e=>pa.test(e)?pa.parse(e):xo.test(e)?xo.parse(e):dg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pa.transform(e):xo.transform(e)},t4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function e4(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(iv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(t4))===null||n===void 0?void 0:n.length)||0)>0}const q1="number",G1="color",n4="var",i4="var(",db="${}",s4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ku(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(s4,m=>(en.test(m)?(s.color.push(l),a.push(G1),n.push(en.parse(m))):m.startsWith(i4)?(s.var.push(l),a.push(n4),n.push(m)):(s.number.push(l),a.push(q1),n.push(parseFloat(m))),++l,db)).split(db);return{values:n,split:d,indexes:s,types:a}}function K1(e){return Ku(e).values}function $1(e){const{split:t,types:n}=Ku(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===q1?l+=Su(a[c]):d===G1?l+=en.transform(a[c]):l+=a[c]}return l}}const r4=e=>typeof e=="number"?0:e;function a4(e){const t=K1(e);return $1(e)(t.map(r4))}const wr={test:e4,parse:K1,createTransformer:$1,getAnimatableNone:a4},o4=new Set(["brightness","contrast","saturate","opacity"]);function l4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(iv)||[];if(!s)return e;const a=n.replace(s,"");let l=o4.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const u4=/\b([a-z-]*)\(.*?\)/gu,mg={...wr,getAnimatableNone:e=>{const t=e.match(u4);return t?t.map(l4).join(" "):e}},c4={...$y,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:mg,WebkitFilter:mg},Y1=e=>c4[e];function Q1(e,t){let n=Y1(e);return n!==mg&&(n=wr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const h4=new Set(["auto","none","0"]);function f4(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!h4.has(l)&&Ku(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=Q1(n,a)}const ga=e=>e*180/Math.PI,pg=e=>{const t=ga(Math.atan2(e[1],e[0]));return gg(t)},d4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:pg,rotateZ:pg,skewX:e=>ga(Math.atan(e[1])),skewY:e=>ga(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},gg=e=>(e=e%360,e<0&&(e+=360),e),mb=pg,pb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),gb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),m4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pb,scaleY:gb,scale:e=>(pb(e)+gb(e))/2,rotateX:e=>gg(ga(Math.atan2(e[6],e[5]))),rotateY:e=>gg(ga(Math.atan2(-e[2],e[0]))),rotateZ:mb,rotate:mb,skewX:e=>ga(Math.atan(e[4])),skewY:e=>ga(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function yb(e){return e.includes("scale")?1:0}function yg(e,t){if(!e||e==="none")return yb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=m4,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=d4,a=d}if(!a)return yb(t);const l=s[t],c=a[1].split(",").map(g4);return typeof l=="function"?l(c):c[l]}const p4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return yg(n,t)};function g4(e){return parseFloat(e.trim())}const vb=e=>e===nl||e===Tt,y4=new Set(["x","y","z"]),v4=el.filter(e=>!y4.has(e));function _4(e){const t=[];return v4.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ko={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>yg(t,"x"),y:(e,{transform:t})=>yg(t,"y")};Ko.translateX=Ko.x;Ko.translateY=Ko.y;const va=new Set;let vg=!1,_g=!1;function X1(){if(_g){const e=Array.from(va).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=_4(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var d;(d=s.getValue(l))===null||d===void 0||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_g=!1,vg=!1,va.forEach(e=>e.complete()),va.clear()}function W1(){va.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_g=!0)})}function T4(){W1(),X1()}class rv{constructor(t,n,s,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(va.add(this),vg||(vg=!0,ee.read(W1),ee.resolveKeyframes(X1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const c=a==null?void 0:a.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(s&&n){const m=s.readValue(n,d);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=d),a&&c===void 0&&a.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),va.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,va.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Z1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),E4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b4(e){const t=E4.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function J1(e,t,n=1){const[s,a]=b4(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Z1(c)?parseFloat(c):c}return Ky(a)?J1(a,t,n+1):a}const tR=e=>t=>t.test(e),S4={test:e=>e==="auto",parse:e=>e},eR=[nl,Tt,Pi,ar,TL,_L,S4],_b=e=>eR.find(tR(e));class nR extends rv{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Ky(p))){const v=J1(p,n.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!N1.has(s)||t.length!==2)return;const[a,l]=t,c=_b(a),d=_b(l);if(c!==d)if(vb(c)&&vb(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)QL(t[a])&&s.push(a);s.length&&f4(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ko[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=Ko[s](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([m,p])=>{n.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const Tb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wr.test(e)||e==="0")&&!e.startsWith("url("));function A4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function w4(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Tb(a,t),d=Tb(l,t);return!c||!d?!1:A4(e)||(n==="spring"||Uy(n))&&s}const R4=e=>e!==null;function ed(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(R4),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const x4=40;class iR{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Di.now(),this.options={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>x4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&T4(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Di.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:l,delay:c,onComplete:d,onUpdate:m,isGenerator:p}=this.options;if(!p&&!w4(t,s,a,l))if(c)this.options.duration=0;else{m&&m(ed(t,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(t,n);v!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...v},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const oe=(e,t,n)=>e+(t-e)*n;function bp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function C4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=bp(m,d,e+1/3),l=bp(m,d,e),c=bp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Af(e,t){return n=>n>0?t:e}const Sp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},I4=[dg,pa,xo],D4=e=>I4.find(t=>t.test(e));function Eb(e){const t=D4(e);if(!t)return!1;let n=t.parse(e);return t===xo&&(n=C4(n)),n}const bb=(e,t)=>{const n=Eb(e),s=Eb(t);if(!n||!s)return Af(e,t);const a={...n};return l=>(a.red=Sp(n.red,s.red,l),a.green=Sp(n.green,s.green,l),a.blue=Sp(n.blue,s.blue,l),a.alpha=oe(n.alpha,s.alpha,l),pa.transform(a))},P4=(e,t)=>n=>t(e(n)),lc=(...e)=>e.reduce(P4),Tg=new Set(["none","hidden"]);function N4(e,t){return Tg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function O4(e,t){return n=>oe(e,t,n)}function av(e){return typeof e=="number"?O4:typeof e=="string"?Ky(e)?Af:en.test(e)?bb:k4:Array.isArray(e)?sR:typeof e=="object"?en.test(e)?bb:V4:Af}function sR(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>av(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function V4(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=av(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function M4(e,t){var n;const s=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],d=e.indexes[c][a[c]],m=(n=e.values[d])!==null&&n!==void 0?n:0;s[l]=m,a[c]++}return s}const k4=(e,t)=>{const n=wr.createTransformer(t),s=Ku(e),a=Ku(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Tg.has(e)&&!a.values.length||Tg.has(t)&&!s.values.length?N4(e,t):lc(sR(M4(s,a),a.values),n):Af(e,t)};function rR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):av(e)(e,t)}const L4=5;function aR(e,t,n){const s=Math.max(t-L4,0);return a1(n-e(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sb=.001;function U4({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:s=me.mass}){let a,l,c=1-t;c=Ts(me.minDamping,me.maxDamping,c),e=Ts(me.minDuration,me.maxDuration,ms(e)),c<1?(a=p=>{const v=p*c,_=v*e,b=v-n,x=Eg(p,c),V=Math.exp(-_);return Sb-b/x*V},l=p=>{const _=p*c*e,b=_*n+n,x=Math.pow(c,2)*Math.pow(p,2)*e,V=Math.exp(-_),L=Eg(Math.pow(p,2),c);return(-a(p)+Sb>0?-1:1)*((b-x)*V)/L}):(a=p=>{const v=Math.exp(-p*e),_=(p-n)*e+1;return-.001+v*_},l=p=>{const v=Math.exp(-p*e),_=(n-p)*(e*e);return v*_});const d=5/e,m=B4(a,l,d);if(e=ds(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const j4=12;function B4(e,t,n){let s=n;for(let a=1;a<j4;a++)s=s-e(s)/t(s);return s}function Eg(e,t){return e*Math.sqrt(1-t*t)}const z4=["duration","bounce"],F4=["stiffness","damping","mass"];function Ab(e,t){return t.some(n=>e[n]!==void 0)}function H4(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!Ab(e,F4)&&Ab(e,z4))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ts(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=U4(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function oR(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:_,velocity:b,isResolvedFromDuration:x}=H4({...n,velocity:-ms(n.velocity||0)}),V=b||0,L=p/(2*Math.sqrt(m*v)),O=c-l,B=ms(Math.sqrt(m/v)),H=Math.abs(O)<5;s||(s=H?me.restSpeed.granular:me.restSpeed.default),a||(a=H?me.restDelta.granular:me.restDelta.default);let K;if(L<1){const X=Eg(B,L);K=rt=>{const P=Math.exp(-L*B*rt);return c-P*((V+L*B*O)/X*Math.sin(X*rt)+O*Math.cos(X*rt))}}else if(L===1)K=X=>c-Math.exp(-B*X)*(O+(V+B*O)*X);else{const X=B*Math.sqrt(L*L-1);K=rt=>{const P=Math.exp(-L*B*rt),w=Math.min(X*rt,300);return c-P*((V+L*B*O)*Math.sinh(w)+X*O*Math.cosh(w))/X}}const et={calculatedDuration:x&&_||null,next:X=>{const rt=K(X);if(x)d.done=X>=_;else{let P=0;L<1&&(P=X===0?ds(V):aR(K,X,rt));const w=Math.abs(P)<=s,R=Math.abs(c-rt)<=a;d.done=w&&R}return d.value=d.done?c:rt,d},toString:()=>{const X=Math.min(o1(et),ug),rt=l1(P=>et.next(X*P).value,X,30);return X+"ms "+rt}};return et}function wb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:v}){const _=e[0],b={done:!1,value:_},x=w=>d!==void 0&&w<d||m!==void 0&&w>m,V=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let L=n*t;const O=_+L,B=c===void 0?O:c(O);B!==O&&(L=B-_);const H=w=>-L*Math.exp(-w/s),K=w=>B+H(w),et=w=>{const R=H(w),D=K(w);b.done=Math.abs(R)<=p,b.value=b.done?B:D};let X,rt;const P=w=>{x(b.value)&&(X=w,rt=oR({keyframes:[b.value,V(b.value)],velocity:aR(K,w,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return P(0),{calculatedDuration:null,next:w=>{let R=!1;return!rt&&X===void 0&&(R=!0,et(w),P(w)),X!==void 0&&w>=X?rt.next(w-X):(!R&&et(w),b)}}}const q4=oc(.42,0,1,1),G4=oc(0,0,.58,1),lR=oc(.42,0,.58,1),K4=e=>Array.isArray(e)&&typeof e[0]!="number",$4={linear:In,easeIn:q4,easeInOut:lR,easeOut:G4,circIn:nv,circInOut:z1,circOut:B1,backIn:ev,backInOut:U1,backOut:L1,anticipate:j1},Rb=e=>{if(jy(e)){r1(e.length===4);const[t,n,s,a]=e;return oc(t,n,s,a)}else if(typeof e=="string")return $4[e];return e};function Y4(e,t,n){const s=[],a=n||rR,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||In:t;d=lc(m,d)}s.push(d)}return s}function Q4(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(r1(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=Y4(t,s,a),m=d.length,p=v=>{if(c&&v<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(v<e[_+1]);_++);const b=qo(e[_],e[_+1],v);return d[_](b)};return n?v=>p(Ts(e[0],e[l-1],v)):p}function X4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=qo(0,t,s);e.push(oe(n,1,a))}}function W4(e){const t=[0];return X4(t,e.length-1),t}function Z4(e,t){return e.map(n=>n*t)}function J4(e,t){return e.map(()=>t||lR).splice(0,e.length-1)}function wf({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=K4(s)?s.map(Rb):Rb(s),l={done:!1,value:t[0]},c=Z4(n&&n.length===t.length?n:W4(t),e),d=Q4(c,t,{ease:Array.isArray(a)?a:J4(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const tU=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ee.update(t,!0),stop:()=>Ar(t),now:()=>$e.isProcessing?$e.timestamp:Di.now()}},eU={decay:wb,inertia:wb,tween:wf,keyframes:wf,spring:oR},nU=e=>e/100;class ov extends iR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:n,motionValue:s,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||rv,d=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,d,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,d=Uy(n)?n:eU[n]||wf;let m,p;d!==wf&&typeof t[0]!="number"&&(m=lc(nU,rR(t[0],t[1])),t=[0,100]);const v=d({...this.options,keyframes:t});l==="mirror"&&(p=d({...this.options,keyframes:[...t].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=o1(v));const{calculatedDuration:_}=v,b=_+a,x=b*(s+1)-a;return{generator:v,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:_,resolvedDuration:b,totalDuration:x}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:m,calculatedDuration:p,totalDuration:v,resolvedDuration:_}=s;if(this.startTime===null)return l.next(0);const{delay:b,repeat:x,repeatType:V,repeatDelay:L,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-v/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const B=this.currentTime-b*(this.speed>=0?1:-1),H=this.speed>=0?B<0:B>v;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let K=this.currentTime,et=l;if(x){const w=Math.min(this.currentTime,v)/_;let R=Math.floor(w),D=w%1;!D&&w>=1&&(D=1),D===1&&R--,R=Math.min(R,x+1),!!(R%2)&&(V==="reverse"?(D=1-D,L&&(D-=L/_)):V==="mirror"&&(et=c)),K=Ts(0,1,D)*_}const X=H?{done:!1,value:m[0]}:et.next(K);d&&(X.value=d(X.value));let{done:rt}=X;!H&&p!==null&&(rt=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&rt);return P&&a!==void 0&&(X.value=ed(m,this.options,a)),O&&O(X.value),P&&this.finish(),X}get duration(){const{resolved:t}=this;return t?ms(t.calculatedDuration):0}get time(){return ms(this.currentTime)}set time(t){t=ds(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ms(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=tU,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const iU=new Set(["opacity","clipPath","filter","transform"]);function sU(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:m}={}){const p={[t]:n};m&&(p.offset=m);const v=c1(d,a);return Array.isArray(v)&&(p.easing=v),e.animate(p,{delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const rU=My(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Rf=10,aU=2e4;function oU(e){return Uy(e.type)||e.type==="spring"||!u1(e.ease)}function lU(e,t){const n=new ov({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let l=0;for(;!s.done&&l<aU;)s=n.sample(l),a.push(s.value),l+=Rf;return{times:void 0,keyframes:a,duration:l-Rf,ease:"linear"}}const uR={anticipate:j1,backInOut:U1,circInOut:z1};function uU(e){return e in uR}class xb extends iR{constructor(t){super(t);const{name:n,motionValue:s,element:a,keyframes:l}=this.options;this.resolver=new nR(l,(c,d)=>this.onKeyframesResolved(c,d),n,s,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:a,ease:l,type:c,motionValue:d,name:m,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&bf()&&uU(l)&&(l=uR[l]),oU(this.options)){const{onComplete:_,onUpdate:b,motionValue:x,element:V,...L}=this.options,O=lU(t,L);t=O.keyframes,t.length===1&&(t[1]=t[0]),s=O.duration,a=O.times,l=O.ease,c="keyframes"}const v=sU(d.owner.current,m,t,{...this.options,duration:s,times:a,ease:l});return v.startTime=p??this.calcStartTime(),this.pendingTimeline?(tb(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:_}=this.options;d.set(ed(t,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:s,times:a,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ms(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ms(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=ds(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return In;const{animation:s}=n;tb(s,t)}return In}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:a,type:l,ease:c,times:d}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:v,onComplete:_,element:b,...x}=this.options,V=new ov({...x,keyframes:s,duration:a,type:l,ease:c,times:d,isGenerator:!0}),L=ds(this.time);p.setWithVelocity(V.sample(L-Rf).value,V.sample(L).value,Rf)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:a,repeatType:l,damping:c,type:d}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=n.owner.getProps();return rU()&&s&&iU.has(s)&&(s!=="transform"||!p)&&!m&&!a&&l!=="mirror"&&c!==0&&d!=="inertia"}}const cU={type:"spring",stiffness:500,damping:25,restSpeed:10},hU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fU={type:"keyframes",duration:.8},dU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mU=(e,{keyframes:t})=>t.length>2?fU:Da.has(e)?e.startsWith("scale")?hU(t[1]):cU:dU;function pU({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const lv=(e,t,n,s={},a,l)=>c=>{const d=Ly(s,e)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-ds(m);let v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};pU(d)||(v={...v,...mU(e,v)}),v.duration&&(v.duration=ds(v.duration)),v.repeatDelay&&(v.repeatDelay=ds(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(_=!0)),v.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const b=ed(v.keyframes,d);if(b!==void 0)return ee.update(()=>{v.onUpdate(b),v.onComplete()}),new jk([])}return!l&&xb.supports(v)?new xb(v):new ov(v)};function gU({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function cR(e,t,{delay:n=0,transitionOverride:s,type:a}={}){var l;let{transition:c=e.getDefaultTransition(),transitionEnd:d,...m}=t;s&&(c=s);const p=[],v=a&&e.animationState&&e.animationState.getState()[a];for(const _ in m){const b=e.getValue(_,(l=e.latestValues[_])!==null&&l!==void 0?l:null),x=m[_];if(x===void 0||v&&gU(v,_))continue;const V={delay:n,...Ly(c||{},_)};let L=!1;if(window.MotionHandoffAnimation){const B=O1(e);if(B){const H=window.MotionHandoffAnimation(B,_,ee);H!==null&&(V.startTime=H,L=!0)}}fg(e,_),b.start(lv(_,b,x,e.shouldReduceMotion&&N1.has(_)?{type:!1}:V,e,L));const O=b.animation;O&&p.push(O)}return d&&Promise.all(p).then(()=>{ee.update(()=>{d&&qL(e,d)})}),p}function bg(e,t,n={}){var s;const a=Gu(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const c=a?()=>Promise.all(cR(e,a,n)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:b}=l;return yU(e,t,v+p,_,b,n)}:()=>Promise.resolve(),{when:m}=l;if(m){const[p,v]=m==="beforeChildren"?[c,d]:[d,c];return p().then(()=>v())}else return Promise.all([c(),d(n.delay)])}function yU(e,t,n=0,s=0,a=1,l){const c=[],d=(e.variantChildren.size-1)*s,m=a===1?(p=0)=>p*s:(p=0)=>d-p*s;return Array.from(e.variantChildren).sort(vU).forEach((p,v)=>{p.notify("AnimationStart",t),c.push(bg(p,t,{...l,delay:n+m(v)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function vU(e,t){return e.sortNodePosition(t)}function _U(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>bg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=bg(e,t,n);else{const a=typeof t=="function"?Gu(e,t,n.custom):t;s=Promise.all(cR(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function hR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const TU=Hy.length;function fR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<TU;n++){const s=Hy[n],a=e.props[s];(Fu(a)||a===!1)&&(t[s]=a)}return t}const EU=[...Fy].reverse(),bU=Fy.length;function SU(e){return t=>Promise.all(t.map(({animation:n,options:s})=>_U(e,n,s)))}function AU(e){let t=SU(e),n=Cb(),s=!0;const a=m=>(p,v)=>{var _;const b=Gu(e,v,m==="exit"?(_=e.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(b){const{transition:x,transitionEnd:V,...L}=b;p={...p,...L,...V}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,v=fR(e.parent)||{},_=[],b=new Set;let x={},V=1/0;for(let O=0;O<bU;O++){const B=EU[O],H=n[B],K=p[B]!==void 0?p[B]:v[B],et=Fu(K),X=B===m?H.isActive:null;X===!1&&(V=O);let rt=K===v[B]&&K!==p[B]&&et;if(rt&&s&&e.manuallyAnimateOnMount&&(rt=!1),H.protectedKeys={...x},!H.isActive&&X===null||!K&&!H.prevProp||Jf(K)||typeof K=="boolean")continue;const P=wU(H.prevProp,K);let w=P||B===m&&H.isActive&&!rt&&et||O>V&&et,R=!1;const D=Array.isArray(K)?K:[K];let M=D.reduce(a(B),{});X===!1&&(M={});const{prevResolvedValues:F={}}=H,N={...F,...M},ne=ut=>{w=!0,b.has(ut)&&(R=!0,b.delete(ut)),H.needsAnimating[ut]=!0;const lt=e.getValue(ut);lt&&(lt.liveStyle=!1)};for(const ut in N){const lt=M[ut],Lt=F[ut];if(x.hasOwnProperty(ut))continue;let k=!1;hg(lt)&&hg(Lt)?k=!hR(lt,Lt):k=lt!==Lt,k?lt!=null?ne(ut):b.add(ut):lt!==void 0&&b.has(ut)?ne(ut):H.protectedKeys[ut]=!0}H.prevProp=K,H.prevResolvedValues=M,H.isActive&&(x={...x,...M}),s&&e.blockInitialAnimation&&(w=!1),w&&(!(rt&&P)||R)&&_.push(...D.map(ut=>({animation:ut,options:{type:B}})))}if(b.size){const O={};if(typeof p.initial!="boolean"){const B=Gu(e,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(O.transition=B.transition)}b.forEach(B=>{const H=e.getBaseTarget(B),K=e.getValue(B);K&&(K.liveStyle=!0),O[B]=H??null}),_.push({animation:O})}let L=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(L=!1),s=!1,L?t(_):Promise.resolve()}function d(m,p){var v;if(n[m].isActive===p)return Promise.resolve();(v=e.variantChildren)===null||v===void 0||v.forEach(b=>{var x;return(x=b.animationState)===null||x===void 0?void 0:x.setActive(m,p)}),n[m].isActive=p;const _=c(m);for(const b in n)n[b].protectedKeys={};return _}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Cb(),s=!0}}}function wU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hR(t,e):!1}function ca(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cb(){return{animate:ca(!0),whileInView:ca(),whileHover:ca(),whileTap:ca(),whileDrag:ca(),whileFocus:ca(),exit:ca()}}class Pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class RU extends Pr{constructor(t){super(t),t.animationState||(t.animationState=AU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let xU=0;class CU extends Pr{constructor(){super(...arguments),this.id=xU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const IU={animation:{Feature:RU},exit:{Feature:CU}};function $u(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function uc(e){return{point:{x:e.pageX,y:e.pageY}}}const DU=e=>t=>zy(t)&&e(t,uc(t));function Au(e,t,n,s){return $u(e,t,DU(n),s)}function dR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function PU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function NU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const mR=1e-4,OU=1-mR,VU=1+mR,pR=.01,MU=0-pR,kU=0+pR;function mn(e){return e.max-e.min}function LU(e,t,n){return Math.abs(e-t)<=n}function Ib(e,t,n,s=.5){e.origin=s,e.originPoint=oe(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=OU&&e.scale<=VU||isNaN(e.scale))&&(e.scale=1),(e.translate>=MU&&e.translate<=kU||isNaN(e.translate))&&(e.translate=0)}function wu(e,t,n,s){Ib(e.x,t.x,n.x,s?s.originX:void 0),Ib(e.y,t.y,n.y,s?s.originY:void 0)}function Db(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function UU(e,t,n){Db(e.x,t.x,n.x),Db(e.y,t.y,n.y)}function Pb(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function Ru(e,t,n){Pb(e.x,t.x,n.x),Pb(e.y,t.y,n.y)}const Nb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:Nb(),y:Nb()}),Ob=()=>({min:0,max:0}),ve=()=>({x:Ob(),y:Ob()});function Yn(e){return[e("x"),e("y")]}function Ap(e){return e===void 0||e===1}function Sg({scale:e,scaleX:t,scaleY:n}){return!Ap(e)||!Ap(t)||!Ap(n)}function fa(e){return Sg(e)||gR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gR(e){return Vb(e.x)||Vb(e.y)}function Vb(e){return e&&e!=="0%"}function xf(e,t,n){const s=e-n,a=t*s;return n+a}function Mb(e,t,n,s,a){return a!==void 0&&(e=xf(e,a,s)),xf(e,n,s)+t}function Ag(e,t=0,n=1,s,a){e.min=Mb(e.min,t,n,s,a),e.max=Mb(e.max,t,n,s,a)}function yR(e,{x:t,y:n}){Ag(e.x,t.translate,t.scale,t.originPoint),Ag(e.y,n.translate,n.scale,n.originPoint)}const kb=.999999999999,Lb=1.0000000000001;function jU(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Do(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,yR(e,c)),s&&fa(l.latestValues)&&Do(e,l.latestValues))}t.x<Lb&&t.x>kb&&(t.x=1),t.y<Lb&&t.y>kb&&(t.y=1)}function Io(e,t){e.min=e.min+t,e.max=e.max+t}function Ub(e,t,n,s,a=.5){const l=oe(e.min,e.max,a);Ag(e,t,n,l,s)}function Do(e,t){Ub(e.x,t.x,t.scaleX,t.scale,t.originX),Ub(e.y,t.y,t.scaleY,t.scale,t.originY)}function vR(e,t){return dR(NU(e.getBoundingClientRect(),t))}function BU(e,t,n){const s=vR(e,n),{scroll:a}=t;return a&&(Io(s.x,a.offset.x),Io(s.y,a.offset.y)),s}const _R=({current:e})=>e?e.ownerDocument.defaultView:null,jb=(e,t)=>Math.abs(e-t);function zU(e,t){const n=jb(e.x,t.x),s=jb(e.y,t.y);return Math.sqrt(n**2+s**2)}class TR{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Rp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=zU(_.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:V}=_,{timestamp:L}=$e;this.history.push({...V,timestamp:L});const{onStart:O,onMove:B}=this.handlers;b||(O&&O(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=wp(b,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:x,onSessionEnd:V,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Rp(_.type==="pointercancel"?this.lastMoveEventInfo:wp(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(_,O),V&&V(_,O)},!zy(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=uc(t),d=wp(c,this.transformPagePoint),{point:m}=d,{timestamp:p}=$e;this.history=[{...m,timestamp:p}];const{onSessionStart:v}=n;v&&v(t,Rp(d,this.history)),this.removeListeners=lc(Au(this.contextWindow,"pointermove",this.handlePointerMove),Au(this.contextWindow,"pointerup",this.handlePointerUp),Au(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}}function wp(e,t){return t?{point:t(e.point)}:e}function Bb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rp({point:e},t){return{point:e,delta:Bb(e,ER(t)),offset:Bb(e,FU(t)),velocity:HU(t,.1)}}function FU(e){return e[0]}function ER(e){return e[e.length-1]}function HU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=ER(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>ds(t)));)n--;if(!s)return{x:0,y:0};const l=ms(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qU(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?oe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?oe(n,e,s.max):Math.min(e,n)),e}function zb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GU(e,{top:t,left:n,bottom:s,right:a}){return{x:zb(e.x,n,a),y:zb(e.y,t,s)}}function Fb(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function KU(e,t){return{x:Fb(e.x,t.x),y:Fb(e.y,t.y)}}function $U(e,t){let n=.5;const s=mn(e),a=mn(t);return a>s?n=qo(t.min,t.max-s,e.min):s>a&&(n=qo(e.min,e.max-a,t.min)),Ts(0,1,n)}function YU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wg=.35;function QU(e=wg){return e===!1?e=0:e===!0&&(e=wg),{x:Hb(e,"left","right"),y:Hb(e,"top","bottom")}}function Hb(e,t,n){return{min:qb(e,t),max:qb(e,n)}}function qb(e,t){return typeof e=="number"?e:e[t]||0}const XU=new WeakMap;class WU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uc(v).point)},l=(v,_)=>{const{drag:b,dragPropagation:x,onDragStart:V}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gk(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(O=>{let B=this.getAxisMotionValue(O).get()||0;if(Pi.test(B)){const{projection:H}=this.visualElement;if(H&&H.layout){const K=H.layout.layoutBox[O];K&&(B=mn(K)*(parseFloat(B)/100))}}this.originPoint[O]=B}),V&&ee.postRender(()=>V(v,_)),fg(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},c=(v,_)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:V,onDrag:L}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:O}=_;if(x&&this.currentDirection===null){this.currentDirection=ZU(O),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",_.point,O),this.updateAxis("y",_.point,O),this.visualElement.render(),L&&L(v,_)},d=(v,_)=>this.stop(v,_),m=()=>Yn(v=>{var _;return this.getAnimationState(v)==="paused"&&((_=this.getAxisMotionValue(v).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new TR(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:_R(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ee.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Bh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=qU(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&Ro(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=GU(a.layoutBox,n):this.constraints=!1,this.elastic=QU(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Yn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=YU(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ro(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=BU(s,a.root,this.visualElement.getTransformPagePoint());let c=KU(a.layout.layoutBox,l);if(n){const d=n(PU(c));this.hasMutatedConstraints=!!d,d&&(c=dR(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Yn(v=>{if(!Bh(v,n,this.currentDirection))return;let _=m&&m[v]||{};c&&(_={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,V={type:"inertia",velocity:s?t[v]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,V)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return fg(this.visualElement,t),s.start(lv(t,s,0,n,this.visualElement,!1))}stopAnimation(){Yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Yn(n=>{const{drag:s}=this.getProps();if(!Bh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-oe(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ro(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Yn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=$U({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Yn(c=>{if(!Bh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(oe(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;XU.set(this.visualElement,this);const t=this.visualElement.current,n=Au(t,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Ro(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ee.read(s);const c=$u(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Yn(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=wg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Bh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ZU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JU extends Pr{constructor(t){super(t),this.removeGroupControls=In,this.removeListeners=In,this.controls=new WU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gb=e=>(t,n)=>{e&&ee.postRender(()=>e(t,n))};class tj extends Pr{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(t){this.session=new TR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_R(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Gb(t),onStart:Gb(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ee.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Au(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=Kb(e,t.target.x),s=Kb(e,t.target.y);return`${n}% ${s}%`}},ej={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=wr.parse(e);if(a.length>5)return s;const l=wr.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=oe(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class nj extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;vL(ij),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ee.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),By.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bR(e){const[t,n]=s1(),s=z.useContext(Iy);return C.jsx(nj,{...e,layoutGroup:s,switchLayoutGroup:z.useContext(_1),isPresent:t,safeToRemove:n})}const ij={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:ej};function sj(e,t,n){const s=rn(e)?e:zu(e);return s.start(lv("",s,t,n)),s.animation}function rj(e){return e instanceof SVGElement&&e.tagName!=="svg"}const aj=(e,t)=>e.depth-t.depth;class oj{constructor(){this.children=[],this.isDirty=!1}add(t){Oy(this.children,t),this.isDirty=!0}remove(t){Vy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aj),this.isDirty=!1,this.children.forEach(t)}}function lj(e,t){const n=Di.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Ar(s),e(l-t))};return ee.read(s,!0),()=>Ar(s)}const SR=["TopLeft","TopRight","BottomLeft","BottomRight"],uj=SR.length,$b=e=>typeof e=="string"?parseFloat(e):e,Yb=e=>typeof e=="number"||Tt.test(e);function cj(e,t,n,s,a,l){a?(e.opacity=oe(0,n.opacity!==void 0?n.opacity:1,hj(s)),e.opacityExit=oe(t.opacity!==void 0?t.opacity:1,0,fj(s))):l&&(e.opacity=oe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<uj;c++){const d=`border${SR[c]}Radius`;let m=Qb(t,d),p=Qb(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Yb(m)===Yb(p)?(e[d]=Math.max(oe($b(m),$b(p),s),0),(Pi.test(p)||Pi.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,s))}function Qb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hj=AR(0,.5,B1),fj=AR(.5,.95,In);function AR(e,t,n){return s=>s<e?0:s>t?1:n(qo(e,t,s))}function Xb(e,t){e.min=t.min,e.max=t.max}function $n(e,t){Xb(e.x,t.x),Xb(e.y,t.y)}function Wb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zb(e,t,n,s,a){return e-=t,e=xf(e,1/n,s),a!==void 0&&(e=xf(e,1/a,s)),e}function dj(e,t=0,n=1,s=.5,a,l=e,c=e){if(Pi.test(t)&&(t=parseFloat(t),t=oe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=oe(l.min,l.max,s);e===l&&(d-=t),e.min=Zb(e.min,t,n,d,a),e.max=Zb(e.max,t,n,d,a)}function Jb(e,t,[n,s,a],l,c){dj(e,t[n],t[s],t[a],t.scale,l,c)}const mj=["x","scaleX","originX"],pj=["y","scaleY","originY"];function tS(e,t,n,s){Jb(e.x,t,mj,n?n.x:void 0,s?s.x:void 0),Jb(e.y,t,pj,n?n.y:void 0,s?s.y:void 0)}function eS(e){return e.translate===0&&e.scale===1}function wR(e){return eS(e.x)&&eS(e.y)}function nS(e,t){return e.min===t.min&&e.max===t.max}function gj(e,t){return nS(e.x,t.x)&&nS(e.y,t.y)}function iS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function RR(e,t){return iS(e.x,t.x)&&iS(e.y,t.y)}function sS(e){return mn(e.x)/mn(e.y)}function rS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yj{constructor(){this.members=[]}add(t){Oy(this.members,t),t.scheduleRender()}remove(t){if(Vy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vj(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:b,skewX:x,skewY:V}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),x&&(s+=`skewX(${x}deg) `),V&&(s+=`skewY(${V}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const xp=["","X","Y","Z"],_j={visibility:"hidden"},aS=1e3;let Tj=0;function Cp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function xR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=O1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ee,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&xR(s)}function CR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=Tj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Sj),this.nodes.forEach(Cj),this.nodes.forEach(Ij),this.nodes.forEach(Aj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new oj)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ky),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=rj(c),this.instance=c;const{layoutId:m,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||m)&&(this.isLayoutDirty=!0),e){let _;const b=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=lj(b,250),Zh.hasAnimatedSinceResize&&(Zh.hasAnimatedSinceResize=!1,this.nodes.forEach(lS))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||v.getDefaultTransition()||Vj,{onLayoutAnimationStart:O,onLayoutAnimationComplete:B}=v.getProps(),H=!this.targetLayout||!RR(this.targetLayout,V),K=!b&&x;if(this.options.layoutRoot||this.resumeFrom||K||b&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,K);const et={...Ly(L,"layout"),onPlay:O,onComplete:B};(v.shouldReduceMotion||this.options.layoutRoot)&&(et.delay=0,et.type=!1),this.startAnimation(et)}else b||lS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oS);return}this.isUpdating||this.nodes.forEach(Rj),this.isUpdating=!1,this.nodes.forEach(xj),this.nodes.forEach(Ej),this.nodes.forEach(bj),this.clearAllSnapshots();const d=Di.now();$e.delta=Ts(0,1e3/60,d-$e.timestamp),$e.timestamp=d,$e.isProcessing=!0,_p.update.process($e),_p.preRender.process($e),_p.render.process($e),$e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,By.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wj),this.sharedNodes.forEach(Pj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!wR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&(d||fa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),Mj(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return ve();const m=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(kj))){const{scroll:v}=this.root;v&&(Io(m.x,v.offset.x),Io(m.y,v.offset.y))}return m}removeElementScroll(c){var d;const m=ve();if($n(m,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return m;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:_,options:b}=v;v!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&$n(m,c),Io(m.x,_.offset.x),Io(m.y,_.offset.y))}return m}applyTransform(c,d=!1){const m=ve();$n(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Do(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),fa(v.latestValues)&&Do(m,v.latestValues)}return fa(this.latestValues)&&Do(m,this.latestValues),m}removeTransform(c){const d=ve();$n(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!fa(p.latestValues))continue;Sg(p.latestValues)&&p.updateSnapshot();const v=ve(),_=p.measurePageBox();$n(v,_),tS(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return fa(this.latestValues)&&tS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:b}=this.options;if(!(!this.layout||!(_||b))){if(this.resolvedRelativeTargetAt=$e.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Ru(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),yR(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Ru(this.relativeTargetOrigin,this.target,x.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sg(this.parent.latestValues)||gR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$e.timestamp&&(p=!1),p)return;const{layout:v,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||_))return;$n(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;jU(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ve());const{target:V}=d;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wb(this.prevProjectionDelta.x,this.projectionDelta.x),Wb(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!rS(this.projectionDelta.x,this.prevProjectionDelta.x)||!rS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},_=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=ve(),x=m?m.source:void 0,V=this.layout?this.layout.source:void 0,L=x!==V,O=this.getStack(),B=!O||O.members.length<=1,H=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(Oj));this.animationProgress=0;let K;this.mixTargetDelta=et=>{const X=et/1e3;uS(_.x,c.x,X),uS(_.y,c.y,X),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ru(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nj(this.relativeTarget,this.relativeTargetOrigin,b,X),K&&gj(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=ve()),$n(K,this.relativeTarget)),L&&(this.animationValues=v,cj(v,p,this.latestValues,X,H,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{Zh.hasAnimatedSinceResize=!0,this.currentAnimation=sj(0,aS,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&IR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ve();const _=mn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=mn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}$n(d,m),Do(d,v),wu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new yj),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Cp("z",c,p,this.animationValues);for(let v=0;v<xp.length;v++)Cp(`rotate${xp[v]}`,c,p,this.animationValues),Cp(`skew${xp[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}getProjectionStyles(c){var d,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _j;const p={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Wh(c==null?void 0:c.pointerEvents)||"",p.transform=v?v(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=Wh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!fa(this.latestValues)&&(L.transform=v?v({},""):"none",this.hasProjected=!1),L}const b=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=vj(this.projectionDeltaWithTransform,this.treeScale,b),v&&(p.transform=v(b,p.transform));const{x,y:V}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${V.origin*100}% 0`,_.animationValues?p.opacity=_===this?(m=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=_===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const L in Hu){if(b[L]===void 0)continue;const{correct:O,applyTo:B,isCSSVariable:H}=Hu[L],K=p.transform==="none"?b[L]:O(b[L],_);if(B){const et=B.length;for(let X=0;X<et;X++)p[B[X]]=K}else H?this.options.visualElement.renderState.vars[L]=K:p[L]=K}return this.options.layoutId&&(p.pointerEvents=_===this?Wh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(oS),this.root.sharedNodes.clear()}}}function Ej(e){e.updateLayout()}function bj(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,c=n.source!==e.layout.source;l==="size"?Yn(_=>{const b=c?n.measuredBox[_]:n.layoutBox[_],x=mn(b);b.min=s[_].min,b.max=b.min+x}):IR(l,n.layoutBox,s)&&Yn(_=>{const b=c?n.measuredBox[_]:n.layoutBox[_],x=mn(s[_]);b.max=b.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+x)});const d=Co();wu(d,s,n.layoutBox);const m=Co();c?wu(m,e.applyTransform(a,!0),n.measuredBox):wu(m,s,n.layoutBox);const p=!wR(d);let v=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:x}=_;if(b&&x){const V=ve();Ru(V,n.layoutBox,b.layoutBox);const L=ve();Ru(L,s,x.layoutBox),RR(V,L)||(v=!0),_.options.layoutRoot&&(e.relativeTarget=L,e.relativeTargetOrigin=V,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:m,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Sj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Aj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wj(e){e.clearSnapshot()}function oS(e){e.clearMeasurements()}function Rj(e){e.isLayoutDirty=!1}function xj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cj(e){e.resolveTargetDelta()}function Ij(e){e.calcProjection()}function Dj(e){e.resetSkewAndRotation()}function Pj(e){e.removeLeadSnapshot()}function uS(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cS(e,t,n,s){e.min=oe(t.min,n.min,s),e.max=oe(t.max,n.max,s)}function Nj(e,t,n,s){cS(e.x,t.x,n.x,s),cS(e.y,t.y,n.y,s)}function Oj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Vj={duration:.45,ease:[.4,0,.1,1]},hS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fS=hS("applewebkit/")&&!hS("chrome/")?Math.round:In;function dS(e){e.min=fS(e.min),e.max=fS(e.max)}function Mj(e){dS(e.x),dS(e.y)}function IR(e,t,n){return e==="position"||e==="preserve-aspect"&&!LU(sS(t),sS(n),.2)}function kj(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Lj=CR({attachResizeListener:(e,t)=>$u(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ip={current:void 0},DR=CR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ip.current){const e=new Lj({});e.mount(window),e.setOptions({layoutScroll:!0}),Ip.current=e}return Ip.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Uj={pan:{Feature:tj},drag:{Feature:JU,ProjectionNode:DR,MeasureLayout:bR}};function mS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ee.postRender(()=>l(t,uc(t)))}class jj extends Pr{mount(){const{current:t}=this.node;t&&(this.unmount=$k(t,(n,s)=>(mS(this.node,s,"Start"),a=>mS(this.node,a,"End"))))}unmount(){}}class Bj extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lc($u(this.node.current,"focus",()=>this.onFocus()),$u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ee.postRender(()=>l(t,uc(t)))}class zj extends Pr{mount(){const{current:t}=this.node;t&&(this.unmount=Wk(t,(n,s)=>(pS(this.node,s,"Start"),(a,{success:l})=>pS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rg=new WeakMap,Dp=new WeakMap,Fj=e=>{const t=Rg.get(e.target);t&&t(e)},Hj=e=>{e.forEach(Fj)};function qj({root:e,...t}){const n=e||document;Dp.has(n)||Dp.set(n,{});const s=Dp.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Hj,{root:e,...t})),s[a]}function Gj(e,t,n){const s=qj(t);return Rg.set(e,n),s.observe(e),()=>{Rg.delete(e),s.unobserve(e)}}const Kj={some:0,all:1};class $j extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Kj[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),b=p?v:_;b&&b(m)};return Gj(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Yj(t,n))&&this.startObserver()}unmount(){}}function Yj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Qj={inView:{Feature:$j},tap:{Feature:zj},focus:{Feature:Bj},hover:{Feature:jj}},Xj={layout:{ProjectionNode:DR,MeasureLayout:bR}},xg={current:null},PR={current:!1};function Wj(){if(PR.current=!0,!!Py)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xg.current=e.matches;e.addListener(t),t()}else xg.current=!1}const Zj=[...eR,en,wr],Jj=e=>Zj.find(tR(e)),t3=new WeakMap;function e3(e,t,n){for(const s in t){const a=t[s],l=n[s];if(rn(a))e.addValue(s,a);else if(rn(l))e.addValue(s,zu(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,zu(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const gS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class n3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Di.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ee.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:v}=c;this.onUpdate=v,this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=td(n),this.isVariantNode=y1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const V=b[x];m[x]!==void 0&&rn(V)&&V.set(m[x],!1)}}mount(t){this.current=t,t3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),PR.current||Wj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Da.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ee.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Go){const n=Go[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<gS.length;s++){const a=gS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=e3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=zu(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Z1(a)||F1(a))?a=parseFloat(a):!Jj(a)&&wr.test(n)&&(a=Q1(t,n)),this.setBaseTarget(t,rn(a)?a.get():a)),rn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=Jy(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[t])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!rn(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ky),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class NR extends n3{constructor(){super(...arguments),this.KeyframeResolver=nR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function i3(e){return window.getComputedStyle(e)}class s3 extends NR{constructor(){super(...arguments),this.type="html",this.renderInstance=C1}readValueFromInstance(t,n){if(Da.has(n))return p4(t,n);{const s=i3(t),a=(Gy(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return vR(t,n)}build(t,n,s){Yy(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return tv(t,n,s)}}class r3 extends NR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&x1(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Da.has(n)){const s=Y1(n);return s&&s.default||0}return n=I1.has(n)?n:qy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return P1(t,n,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&ee.postRender(this.updateDimensions)}build(t,n,s){Wy(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,a){D1(t,n,s,a)}mount(t){this.isSVGTag=Zy(t.tagName),super.mount(t)}}const a3=(e,t)=>Xy(e)?new r3(t):new s3(t,{allowProjection:e!==z.Fragment}),o3=FL({...IU,...Qj,...Uj,...Xj},a3),wi=sL(o3),l3=()=>{const e=If(),[t,n]=z.useState({search:""}),s=b=>{n({...t,[b.target.name]:b.target.value.trim()})},a=b=>{b.preventDefault(),e(`/products?search=${t.search}`),n({search:""}),v(!1)},[l,c]=z.useState(!1),[d,m]=z.useState(!1),[p,v]=z.useState(!1),_=[{id:1,name:"Home",link:"/"},{id:2,name:"Shop",link:"/shop"},{id:3,name:"Orders",link:"/orders"},{id:4,name:"Contact Us",link:"/contact"},{id:5,name:"About Us",link:"/about"},{id:6,name:"Wishlist",link:"/wishlist"}];return z.useEffect(()=>{let b=window.scrollY;const x=()=>{const V=window.scrollY;V>b&&V>100?m(!0):m(!1),b=V};return window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}},[]),C.jsxs(C.Fragment,{children:[C.jsxs(wi.nav,{variants:{visible:{y:0},hidden:{y:-100}},animate:d?"hidden":"visible",transition:{duration:.5,ease:"easeInOut"},className:"flex justify-between font-mono items-center p-4 text-lg text-black bg-[#FBFBFB] shadow-md fixed top-0 left-0 w-full z-50",children:[C.jsx("div",{className:" ",children:"Logo"}),C.jsxs("div",{className:"hidden md:flex relative top-1 space-x-4 ",children:[C.jsx("ul",{className:"space-x-6 flex",children:_.map(b=>C.jsx("li",{className:"",children:C.jsx(wi.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:" rounded-lg hover:bg-[#BCCCDC] ",children:C.jsx(Tn,{to:b.link,className:"cursor-pointer",children:C.jsx("li",{className:"p-1",children:b.name})})})},b.id))}),C.jsxs("ul",{className:"relative -top-3 space-x-4",children:[C.jsx(wi.button,{whileHover:{scale:1.1},className:"",onClick:()=>v(!0),children:C.jsx(Tn,{to:"",className:" cursor-pointer",children:C.jsx("li",{className:"p-1  rounded-lg",children:C.jsx("span",{title:"search",children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402566/search_dvvaet.gif",className:"h-6 relative top-3"})})})})}),C.jsx(wi.button,{whileHover:{scale:1.1},children:C.jsx(Tn,{to:"/profile",className:" cursor-pointer",children:C.jsx("li",{className:"p-1 ",children:C.jsx("span",{title:"profile",children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402601/user_npao9t.png",className:"h-6 relative top-3"})})})})}),C.jsx(wi.button,{whileHover:{scale:1.1},className:"",children:C.jsx(Tn,{to:"/cart",className:" cursor-pointer",children:C.jsx("li",{className:"p-1  rounded-lg",children:C.jsx("span",{title:"cart",children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402531/cart-icon_n63xlq.gif",className:"h-7 relative top-3 "})})})})})]})]}),C.jsxs("div",{className:"flex md:hidden space-x-4",children:[C.jsx(wi.button,{whileHover:{scale:1.1},className:"cursor-pointer",children:C.jsxs(Tn,{to:"/profile",children:[" ",C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402601/user_npao9t.png",className:"h-7"})]})}),C.jsx(wi.button,{whileHover:{scale:1.1},className:"cursor-pointer",onClick:()=>v(!0),children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402566/search_dvvaet.gif",className:"h-7"})}),C.jsx(wi.button,{whileHover:{scale:1.1},className:"cursor-pointer",children:C.jsxs(Tn,{to:"/cart",children:[" ",C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402531/cart-icon_n63xlq.gif",className:"h-7"})]})}),C.jsx("button",{className:"cursor-pointer  p-1  rounded-lg",onClick:()=>c(!l),children:l?C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402549/close_c9mlvz.png",className:"h-5 "}):C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402180/menu_fecgzx.png",className:"h-6"})})]})]}),C.jsx("div",{className:`flex md:hidden w-64 text-white bg-[#FFFF] p-5 fixed  z-50 left-0 h-full rounded-r-lg transform transition-transform duration-300 ease-in-out
      ${l?"translate-x-0":"-translate-x-full"}
      `,children:C.jsxs("ul",{className:"w-full flex flex-col space-y-6 relative top-20",children:[C.jsx("p",{className:"text-black text-3xl font-semibold",children:"Menu"}),_.map(b=>C.jsx("li",{className:"p-1 bg-[#3A6EAA] hover:bg-[#87CEEB] rounded",children:C.jsx(Tn,{to:b.link,onClick:()=>c(!1),className:"block text-lg p-1",children:b.name})},b.id))]})}),l&&C.jsx("div",{className:"fixed inset-0 bg-gray-400 z-40",onClick:()=>c(!1)}),C.jsx(Mk,{children:p&&C.jsxs(wi.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"fixed top-0 left-0 z-50 backdrop-blur-sm w-full h-full flex justify-center items-center",children:[C.jsxs("div",{className:" rounded-lg w-md shadow-lg  bg-gray-300 h-40 z-50",children:[C.jsx("div",{className:"flex float-end  w-fit p-2 ",children:C.jsx("button",{onClick:()=>v(!1),className:"cursor-pointer relative right-2 top-2",children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402549/close_c9mlvz.png",className:"h-4"})})}),C.jsxs("form",{onSubmit:a,className:"flex justify-center items-center h-full",children:[C.jsx("input",{type:"text",id:"search",name:"search",value:t.search,onChange:s,className:"outline-none p-2 w-80 rounded-md bg-white placeholder:text-lg",placeholder:"search item"}),C.jsx("label",{htmlFor:"search",className:" cursor-pointer",children:C.jsx("button",{type:"submit",children:C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743402582/search2_snqfp8.png",className:"h-8 rounded-lg bg-gray-400  m-1 p-1 "})})})]})]}),p&&C.jsx(wi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-blur-sm ",onClick:()=>v(!1)})]})})]})},u3=()=>C.jsxs(C.Fragment,{children:[C.jsx(l3,{}),C.jsx(oI,{})]}),c3=()=>new URLSearchParams(xr().search),yS=()=>{const t=c3().get("search")||"";return C.jsxs("div",{className:"mt-20",children:[C.jsxs("div",{className:"text-center bg-white py-10 shadow-md",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-700",children:"Products"}),C.jsx("p",{className:"text-gray-500 mt-2 italic",children:'"Every product tells a story—make it yours."'}),C.jsx("p",{className:"text-gray-600 mt-1",children:"Browse through our top picks made just for you."})]}),C.jsx("div",{children:C.jsx(Qw,{searchTerm:t})})]})},h3=()=>{const{wishlist:e,setWishlist:t}=z.useContext(Pf),{cart:n,setCart:s}=z.useContext(Df),a=e.filter(d=>d!=null),l=d=>{t(a.filter(m=>m&&m.id!==d))},c=d=>{if(!d||!d.id||!d.name){console.error("Product not found from wishlist.jsx",d);return}const m=n.filter(v=>v!==null&&v!=null),p=m.find(v=>v.id===d.id);s(p?m.map(v=>v.id===d.id?{...v,quantity:v.quantity+1}:v):[...m,{...d,quantity:1}])};return C.jsxs("div",{className:"mt-20 min-h-screen bg-gray-100",children:[C.jsxs("div",{className:"text-center bg-white py-10 shadow-md",children:[C.jsx("h1",{className:"text-4xl font-bold text-gray-700",children:"Your Wishlist"}),C.jsx("p",{className:"text-gray-500 mt-2",children:"All the products you love, in one place"})]}),C.jsx("div",{className:"container mx-auto p-6",children:e.length===0?C.jsxs("div",{className:"text-center text-gray-500 mt-16",children:[C.jsx("p",{className:"text-2xl",children:"Your wishlist is empty "}),C.jsx("div",{className:"mt-6",children:C.jsx(Tn,{to:"/shop",className:"p-2 rounded-lg text-[#FFFF] bg-gray-600 hover:bg-gray-500",children:"Return to shop"})})]}):C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>C.jsxs("div",{className:"bg-white rounded-2xl shadow hover:shadow-lg transition-all duration-300 p-4 flex flex-col items-center",children:[C.jsx("img",{src:"https://res.cloudinary.com/dllvcgpsk/image/upload/v1743401208/cld-sample-5.jpg",alt:d.name,className:"w-40 h-40 object-cover rounded-xl"}),C.jsx("h2",{className:"text-xl font-semibold mt-4 text-gray-800",children:d.name}),C.jsxs("p",{className:"text-gray-600 mt-1",children:["Price: ₹",d.price]}),C.jsxs("div",{className:"flex gap-4 mt-6",children:[C.jsx("button",{onClick:()=>{c(d),alert("Product is added to cart")},className:"cursor-pointer px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Move to Cart"}),C.jsx("button",{onClick:()=>l(d.id),className:"cursor-pointer px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Remove"})]})]},d.id))})})]})};async function f3(){try{await Ho.signOut(),Pt.success("You have been logged out!")}catch(e){console.log("Error from profile.jsx :",e.message),Pt.error("Something Went wrong while logging out!"),Og("/login")}}const d3=()=>{const{currentUser:e,userData:t}=z.useContext(Cy);if(e)console.log(e),console.log(t);else return Og("/login");return C.jsxs("div",{className:"mt-30",children:[C.jsxs("h1",{children:["Welcome,",t==null?void 0:t.userName]}),C.jsxs("p",{children:["Email:",t==null?void 0:t.email]}),C.jsx("button",{onClick:f3,children:"logout"})]})},m3=()=>{const[e,t]=z.useState(()=>{try{const a=localStorage.getItem("cart"),l=a?JSON.parse(a):[];return Array.isArray(l)?l.filter(c=>c!=null):[]}catch(a){return console.error("Error from cart localstorage:",a),[]}});z.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const[n,s]=z.useState(()=>{try{const a=localStorage.getItem("wishlist"),l=a?JSON.parse(a):[];return Array.isArray(l)?l.filter(c=>c!=null):[]}catch(a){return console.error("Error from wishlist localstorage :",a),[]}});return z.useEffect(()=>{localStorage.setItem("wishlist",JSON.stringify(n))},[n]),C.jsx(jM,{children:C.jsx(Df.Provider,{value:{cart:e,setCart:t},children:C.jsx(Pf.Provider,{value:{wishlist:n,setWishlist:s},children:C.jsxs(gI,{children:[C.jsx(uI,{children:C.jsxs(vn,{path:"/*",element:C.jsx(u3,{}),children:[C.jsx(vn,{index:!0,element:C.jsx(FM,{})}),C.jsx(vn,{path:"about",element:C.jsx(HM,{})}),C.jsx(vn,{path:"shop",element:C.jsx(yS,{})}),C.jsx(vn,{path:"cart",element:C.jsx(qM,{})}),C.jsx(vn,{path:"orders",element:C.jsx(vp,{children:C.jsx(GM,{})})}),C.jsx(vn,{path:"contact",element:C.jsx(KM,{})}),C.jsx(vn,{path:"login",element:C.jsx(Ik,{})}),C.jsx(vn,{path:"register",element:C.jsx(Dk,{})}),C.jsx(vn,{path:"products",element:C.jsx(yS,{})}),C.jsx(vn,{path:"wishlist",element:C.jsx(vp,{children:C.jsx(h3,{})})}),C.jsx(vn,{path:"profile",element:C.jsx(vp,{children:C.jsx(d3,{})})}),C.jsx(vn,{path:"product/:name",element:C.jsx(zM,{})})]})}),C.jsx(xk,{})]})})})})};mC.createRoot(document.getElementById("root")).render(C.jsx(z.StrictMode,{children:C.jsx(m3,{})}));
